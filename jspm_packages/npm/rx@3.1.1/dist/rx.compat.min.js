/* */ 
"format cjs";
(function(process) {
  (function(a) {
    function b(a) {
      for (var b = a.length,
          c = new Array(b),
          d = 0; b > d; d++)
        c[d] = a[d];
      return c;
    }
    function c() {
      try {
        return R.apply(this, arguments);
      } catch (a) {
        return ha.e = a, ha;
      }
    }
    function d(a) {
      if (!ga(a))
        throw new TypeError("fn must be a function");
      return R = a, c;
    }
    function e(a) {
      throw a;
    }
    function f(a, b) {
      if (ia && b.stack && "object" == typeof a && null !== a && a.stack && -1 === a.stack.indexOf(ma)) {
        for (var c = [],
            d = b; d; d = d.source)
          d.stack && c.unshift(d.stack);
        c.unshift(a.stack);
        var e = c.join("\n" + ma + "\n");
        a.stack = g(e);
      }
    }
    function g(a) {
      for (var b = a.split("\n"),
          c = [],
          d = 0,
          e = b.length; e > d; d++) {
        var f = b[d];
        h(f) || i(f) || !f || c.push(f);
      }
      return c.join("\n");
    }
    function h(a) {
      var b = k(a);
      if (!b)
        return !1;
      var c = b[0],
          d = b[1];
      return c === ka && d >= la && Pc >= d;
    }
    function i(a) {
      return -1 !== a.indexOf("(module.js:") || -1 !== a.indexOf("(node.js:");
    }
    function j() {
      if (ia)
        try {
          throw new Error;
        } catch (a) {
          var b = a.stack.split("\n"),
              c = b[0].indexOf("@") > 0 ? b[1] : b[2],
              d = k(c);
          if (!d)
            return;
          return ka = d[0], d[1];
        }
    }
    function k(a) {
      var b = /at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);
      if (b)
        return [b[1], Number(b[2])];
      var c = /at ([^ ]+):(\d+):(?:\d+)$/.exec(a);
      if (c)
        return [c[1], Number(c[2])];
      var d = /.*@(.+):(\d+)$/.exec(a);
      return d ? [d[1], Number(d[2])] : void 0;
    }
    function l(a) {
      var b = [];
      if (!Wa(a))
        return b;
      Va.nonEnumArgs && a.length && Xa(a) && (a = Za.call(a));
      var c = Va.enumPrototypes && "function" == typeof a,
          d = Va.enumErrorProps && (a === Pa || a instanceof Error);
      for (var e in a)
        c && "prototype" == e || d && ("message" == e || "name" == e) || b.push(e);
      if (Va.nonEnumShadows && a !== Qa) {
        var f = a.constructor,
            g = -1,
            h = Ba;
        if (a === (f && f.prototype))
          var i = a === Ra ? La : a === Pa ? Ga : Ma.call(a),
              j = Ua[i];
        for (; ++g < h; )
          e = Aa[g], j && j[e] || !Na.call(a, e) || b.push(e);
      }
      return b;
    }
    function m(a, b, c) {
      for (var d = -1,
          e = c(a),
          f = e.length; ++d < f; ) {
        var g = e[d];
        if (b(a[g], g, a) === !1)
          break;
      }
      return a;
    }
    function n(a, b) {
      return m(a, b, l);
    }
    function o(a) {
      return "function" != typeof a.toString && "string" == typeof(a + "");
    }
    function p(a, b, c, d) {
      if (a === b)
        return 0 !== a || 1 / a == 1 / b;
      var e = typeof a,
          f = typeof b;
      if (a === a && (null == a || null == b || "function" != e && "object" != e && "function" != f && "object" != f))
        return !1;
      var g = Ma.call(a),
          h = Ma.call(b);
      if (g == Ca && (g = Ja), h == Ca && (h = Ja), g != h)
        return !1;
      switch (g) {
        case Ea:
        case Fa:
          return +a == +b;
        case Ia:
          return a != +a ? b != +b : 0 == a ? 1 / a == 1 / b : a == +b;
        case Ka:
        case La:
          return a == String(b);
      }
      var i = g == Da;
      if (!i) {
        if (g != Ja || !Va.nodeClass && (o(a) || o(b)))
          return !1;
        var j = !Va.argsObject && Xa(a) ? Object : a.constructor,
            k = !Va.argsObject && Xa(b) ? Object : b.constructor;
        if (!(j == k || Na.call(a, "constructor") && Na.call(b, "constructor") || ga(j) && j instanceof j && ga(k) && k instanceof k || !("constructor" in a && "constructor" in b)))
          return !1;
      }
      c || (c = []), d || (d = []);
      for (var l = c.length; l--; )
        if (c[l] == a)
          return d[l] == b;
      var m = 0,
          q = !0;
      if (c.push(a), d.push(b), i) {
        if (l = a.length, m = b.length, q = m == l)
          for (; m--; ) {
            var r = b[m];
            if (!(q = p(a[m], r, c, d)))
              break;
          }
      } else
        n(b, function(b, e, f) {
          return Na.call(f, e) ? (m++, q = Na.call(a, e) && p(a[e], b, c, d)) : void 0;
        }), q && n(a, function(a, b, c) {
          return Na.call(c, b) ? q = --m > -1 : void 0;
        });
      return c.pop(), d.pop(), q;
    }
    function q(a, b) {
      for (var c = new Array(a),
          d = 0; a > d; d++)
        c[d] = b();
      return c;
    }
    function r(a, b) {
      this.scheduler = a, this.disposable = b, this.isDisposed = !1;
    }
    function s(a, b) {
      b.isDisposed || (b.isDisposed = !0, b.disposable.dispose());
    }
    function t(a) {
      this._s = a;
    }
    function u(a) {
      this._s = a, this._l = a.length, this._i = 0;
    }
    function v(a) {
      this._a = a;
    }
    function w(a) {
      this._a = a, this._l = A(a), this._i = 0;
    }
    function x(a) {
      return "number" == typeof a && Z.isFinite(a);
    }
    function y(b) {
      var c,
          d = b[ua];
      if (!d && "string" == typeof b)
        return c = new t(b), c[ua]();
      if (!d && b.length !== a)
        return c = new v(b), c[ua]();
      if (!d)
        throw new TypeError("Object is not iterable");
      return b[ua]();
    }
    function z(a) {
      var b = +a;
      return 0 === b ? b : isNaN(b) ? b : 0 > b ? -1 : 1;
    }
    function A(a) {
      var b = +a.length;
      return isNaN(b) ? 0 : 0 !== b && x(b) ? (b = z(b) * Math.floor(Math.abs(b)), 0 >= b ? 0 : b > bc ? bc : b) : b;
    }
    function B(a, b) {
      this.observer = a, this.parent = b;
    }
    function C(a, b) {
      return qb(a) || (a = ub), new dc(b, a);
    }
    function D(a, b) {
      this.observer = a, this.parent = b;
    }
    function E(a, b) {
      this.observer = a, this.parent = b;
    }
    function F(a, b) {
      return a.amb(b);
    }
    function G(a, b) {
      return new Kc(function(c) {
        var d = new kb,
            e = new lb;
        return e.setDisposable(d), d.setDisposable(a.subscribe(new pc(c, e, b))), e;
      }, a);
    }
    function H() {
      return !1;
    }
    function I() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      return b;
    }
    function H() {
      return !1;
    }
    function H() {
      return !1;
    }
    function J() {
      return [];
    }
    function I() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      return b;
    }
    function H() {
      return !1;
    }
    function J() {
      return [];
    }
    function I() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      return b;
    }
    function K(a) {
      return function(b) {
        return a.subscribe(b);
      };
    }
    function L(a) {
      return a.toArray();
    }
    function M(a) {
      return a.length > 0;
    }
    function N(a, b) {
      this.o = a, this.accumulator = b.accumulator, this.hasSeed = b.hasSeed, this.seed = b.seed, this.hasAccumulation = !1, this.accumulation = null, this.hasValue = !1, this.isStopped = !1;
    }
    function O(a, b, c) {
      for (var d = 0,
          e = a.length; e > d; d++)
        if (c(a[d], b))
          return d;
      return -1;
    }
    function P(a) {
      this.comparer = a, this.set = [];
    }
    function Q(b, c) {
      return function(d) {
        for (var e = d,
            f = 0; c > f; f++) {
          var g = e[b[f]];
          if ("undefined" == typeof g)
            return a;
          e = g;
        }
        return e;
      };
    }
    var R,
        S = {
          "function": !0,
          object: !0
        },
        T = S[typeof exports] && exports && !exports.nodeType && exports,
        U = S[typeof self] && self.Object && self,
        V = S[typeof window] && window && window.Object && window,
        W = S[typeof module] && module && !module.nodeType && module,
        X = W && W.exports === T && T,
        Y = T && W && "object" == typeof global && global && global.Object && global,
        Z = Z = Y || V !== (this && this.window) && V || U || this,
        $ = {
          internals: {},
          config: {Promise: Z.Promise},
          helpers: {}
        },
        _ = $.helpers.noop = function() {},
        aa = $.helpers.identity = function(a) {
          return a;
        },
        ba = $.helpers.defaultNow = function() {
          return Date.now ? Date.now : function() {
            return +new Date;
          };
        }(),
        ca = $.helpers.defaultComparer = function(a, b) {
          return Ya(a, b);
        },
        da = $.helpers.defaultSubComparer = function(a, b) {
          return a > b ? 1 : b > a ? -1 : 0;
        },
        ea = ($.helpers.defaultKeySerializer = function(a) {
          return a.toString();
        }, $.helpers.defaultError = function(a) {
          throw a;
        }),
        fa = $.helpers.isPromise = function(a) {
          return !!a && "function" != typeof a.subscribe && "function" == typeof a.then;
        },
        ga = $.helpers.isFunction = function() {
          var a = function(a) {
            return "function" == typeof a || !1;
          };
          return a(/x/) && (a = function(a) {
            return "function" == typeof a && "[object Function]" == Ma.call(a);
          }), a;
        }(),
        ha = {e: {}};
    $.config.longStackSupport = !1;
    var ia = !1,
        ja = d(function() {
          throw new Error;
        })();
    ia = !!ja.e && !!ja.e.stack;
    var ka,
        la = j(),
        ma = "From previous event:",
        na = $.EmptyError = function() {
          this.message = "Sequence contains no elements.", this.name = "EmptyError", Error.call(this);
        };
    na.prototype = Error.prototype;
    var oa = $.ObjectDisposedError = function() {
      this.message = "Object has been disposed", this.name = "ObjectDisposedError", Error.call(this);
    };
    oa.prototype = Error.prototype;
    var pa = $.ArgumentOutOfRangeError = function() {
      this.message = "Argument out of range", this.name = "ArgumentOutOfRangeError", Error.call(this);
    };
    pa.prototype = Error.prototype;
    var qa = $.NotSupportedError = function(a) {
      this.message = a || "This operation is not supported", this.name = "NotSupportedError", Error.call(this);
    };
    qa.prototype = Error.prototype;
    var ra = $.NotImplementedError = function(a) {
      this.message = a || "This operation is not implemented", this.name = "NotImplementedError", Error.call(this);
    };
    ra.prototype = Error.prototype;
    var sa = $.helpers.notImplemented = function() {
      throw new ra;
    },
        ta = $.helpers.notSupported = function() {
          throw new qa;
        },
        ua = "function" == typeof Symbol && Symbol.iterator || "_es6shim_iterator_";
    Z.Set && "function" == typeof(new Z.Set)["@@iterator"] && (ua = "@@iterator");
    var va = $.doneEnumerator = {
      done: !0,
      value: a
    },
        wa = $.helpers.isIterable = function(b) {
          return b[ua] !== a;
        },
        xa = $.helpers.isArrayLike = function(b) {
          return b && b.length !== a;
        };
    $.helpers.iterator = ua;
    var ya,
        za = $.internals.bindCallback = function(a, b, c) {
          if ("undefined" == typeof b)
            return a;
          switch (c) {
            case 0:
              return function() {
                return a.call(b);
              };
            case 1:
              return function(c) {
                return a.call(b, c);
              };
            case 2:
              return function(c, d) {
                return a.call(b, c, d);
              };
            case 3:
              return function(c, d, e) {
                return a.call(b, c, d, e);
              };
          }
          return function() {
            return a.apply(b, arguments);
          };
        },
        Aa = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"],
        Ba = Aa.length,
        Ca = "[object Arguments]",
        Da = "[object Array]",
        Ea = "[object Boolean]",
        Fa = "[object Date]",
        Ga = "[object Error]",
        Ha = "[object Function]",
        Ia = "[object Number]",
        Ja = "[object Object]",
        Ka = "[object RegExp]",
        La = "[object String]",
        Ma = Object.prototype.toString,
        Na = Object.prototype.hasOwnProperty,
        Oa = Ma.call(arguments) == Ca,
        Pa = Error.prototype,
        Qa = Object.prototype,
        Ra = String.prototype,
        Sa = Qa.propertyIsEnumerable;
    try {
      ya = !(Ma.call(document) == Ja && !({toString: 0} + ""));
    } catch (Ta) {
      ya = !0;
    }
    var Ua = {};
    Ua[Da] = Ua[Fa] = Ua[Ia] = {
      constructor: !0,
      toLocaleString: !0,
      toString: !0,
      valueOf: !0
    }, Ua[Ea] = Ua[La] = {
      constructor: !0,
      toString: !0,
      valueOf: !0
    }, Ua[Ga] = Ua[Ha] = Ua[Ka] = {
      constructor: !0,
      toString: !0
    }, Ua[Ja] = {constructor: !0};
    var Va = {};
    !function() {
      var a = function() {
        this.x = 1;
      },
          b = [];
      a.prototype = {
        valueOf: 1,
        y: 1
      };
      for (var c in new a)
        b.push(c);
      for (c in arguments)
        ;
      Va.enumErrorProps = Sa.call(Pa, "message") || Sa.call(Pa, "name"), Va.enumPrototypes = Sa.call(a, "prototype"), Va.nonEnumArgs = 0 != c, Va.nonEnumShadows = !/valueOf/.test(b);
    }(1);
    var Wa = $.internals.isObject = function(a) {
      var b = typeof a;
      return a && ("function" == b || "object" == b) || !1;
    },
        Xa = function(a) {
          return a && "object" == typeof a ? Ma.call(a) == Ca : !1;
        };
    Oa || (Xa = function(a) {
      return a && "object" == typeof a ? Na.call(a, "callee") : !1;
    });
    var Ya = $.internals.isEqual = function(a, b) {
      return p(a, b, [], []);
    },
        Za = ({}.hasOwnProperty, Array.prototype.slice),
        $a = $.internals.inherits = function(a, b) {
          function c() {
            this.constructor = a;
          }
          c.prototype = b.prototype, a.prototype = new c;
        },
        _a = $.internals.addProperties = function(a) {
          for (var b = [],
              c = 1,
              d = arguments.length; d > c; c++)
            b.push(arguments[c]);
          for (var e = 0,
              f = b.length; f > e; e++) {
            var g = b[e];
            for (var h in g)
              a[h] = g[h];
          }
        },
        ab = $.internals.addRef = function(a, b) {
          return new Kc(function(c) {
            return new db(b.getDisposable(), a.subscribe(c));
          });
        };
    Function.prototype.bind || (Function.prototype.bind = function(a) {
      var b = this,
          c = Za.call(arguments, 1),
          d = function() {
            function e() {}
            if (this instanceof d) {
              e.prototype = b.prototype;
              var f = new e,
                  g = b.apply(f, c.concat(Za.call(arguments)));
              return Object(g) === g ? g : f;
            }
            return b.apply(a, c.concat(Za.call(arguments)));
          };
      return d;
    }), Array.prototype.forEach || (Array.prototype.forEach = function(a, b) {
      var c,
          d;
      if (null == this)
        throw new TypeError(" this is null or not defined");
      var e = Object(this),
          f = e.length >>> 0;
      if ("function" != typeof a)
        throw new TypeError(a + " is not a function");
      for (arguments.length > 1 && (c = b), d = 0; f > d; ) {
        var g;
        d in e && (g = e[d], a.call(c, g, d, e)), d++;
      }
    });
    var bb = Object("a"),
        cb = "a" != bb[0] || !(0 in bb);
    Array.prototype.every || (Array.prototype.every = function(a) {
      var b = Object(this),
          c = cb && {}.toString.call(this) == La ? this.split("") : b,
          d = c.length >>> 0,
          e = arguments[1];
      if ({}.toString.call(a) != Ha)
        throw new TypeError(a + " is not a function");
      for (var f = 0; d > f; f++)
        if (f in c && !a.call(e, c[f], f, b))
          return !1;
      return !0;
    }), Array.prototype.map || (Array.prototype.map = function(a) {
      var b = Object(this),
          c = cb && {}.toString.call(this) == La ? this.split("") : b,
          d = c.length >>> 0,
          e = Array(d),
          f = arguments[1];
      if ({}.toString.call(a) != Ha)
        throw new TypeError(a + " is not a function");
      for (var g = 0; d > g; g++)
        g in c && (e[g] = a.call(f, c[g], g, b));
      return e;
    }), Array.prototype.filter || (Array.prototype.filter = function(a) {
      for (var b,
          c = [],
          d = new Object(this),
          e = 0,
          f = d.length >>> 0; f > e; e++)
        b = d[e], e in d && a.call(arguments[1], b, e, d) && c.push(b);
      return c;
    }), Array.isArray || (Array.isArray = function(a) {
      return {}.toString.call(a) == Da;
    }), Array.prototype.indexOf || (Array.prototype.indexOf = function(a) {
      var b = Object(this),
          c = b.length >>> 0;
      if (0 === c)
        return -1;
      var d = 0;
      if (arguments.length > 1 && (d = Number(arguments[1]), d !== d ? d = 0 : 0 !== d && d != 1 / 0 && d !== -(1 / 0) && (d = (d > 0 || -1) * Math.floor(Math.abs(d)))), d >= c)
        return -1;
      for (var e = d >= 0 ? d : Math.max(c - Math.abs(d), 0); c > e; e++)
        if (e in b && b[e] === a)
          return e;
      return -1;
    }), Object.prototype.propertyIsEnumerable || (Object.prototype.propertyIsEnumerable = function(a) {
      for (var b in this)
        if (b === a)
          return !0;
      return !1;
    }), Object.keys || (Object.keys = function() {
      "use strict";
      var a = Object.prototype.hasOwnProperty,
          b = !{toString: null}.propertyIsEnumerable("toString");
      return function(c) {
        if ("object" != typeof c && ("function" != typeof c || null === c))
          throw new TypeError("Object.keys called on non-object");
        var d,
            e,
            f = [];
        for (d in c)
          a.call(c, d) && f.push(d);
        if (b)
          for (e = 0; Ba > e; e++)
            a.call(c, Aa[e]) && f.push(Aa[e]);
        return f;
      };
    }());
    var db = $.CompositeDisposable = function() {
      var a,
          b,
          c = [];
      if (Array.isArray(arguments[0]))
        c = arguments[0], b = c.length;
      else
        for (b = arguments.length, c = new Array(b), a = 0; b > a; a++)
          c[a] = arguments[a];
      for (a = 0; b > a; a++)
        if (!ib(c[a]))
          throw new TypeError("Not a disposable");
      this.disposables = c, this.isDisposed = !1, this.length = c.length;
    },
        eb = db.prototype;
    eb.add = function(a) {
      this.isDisposed ? a.dispose() : (this.disposables.push(a), this.length++);
    }, eb.remove = function(a) {
      var b = !1;
      if (!this.isDisposed) {
        var c = this.disposables.indexOf(a);
        -1 !== c && (b = !0, this.disposables.splice(c, 1), this.length--, a.dispose());
      }
      return b;
    }, eb.dispose = function() {
      if (!this.isDisposed) {
        this.isDisposed = !0;
        for (var a = this.disposables.length,
            b = new Array(a),
            c = 0; a > c; c++)
          b[c] = this.disposables[c];
        for (this.disposables = [], this.length = 0, c = 0; a > c; c++)
          b[c].dispose();
      }
    };
    var fb = $.Disposable = function(a) {
      this.isDisposed = !1, this.action = a || _;
    };
    fb.prototype.dispose = function() {
      this.isDisposed || (this.action(), this.isDisposed = !0);
    };
    var gb = fb.create = function(a) {
      return new fb(a);
    },
        hb = fb.empty = {dispose: _},
        ib = fb.isDisposable = function(a) {
          return a && ga(a.dispose);
        },
        jb = fb.checkDisposed = function(a) {
          if (a.isDisposed)
            throw new oa;
        },
        kb = $.SingleAssignmentDisposable = function() {
          this.isDisposed = !1, this.current = null;
        };
    kb.prototype.getDisposable = function() {
      return this.current;
    }, kb.prototype.setDisposable = function(a) {
      if (this.current)
        throw new Error("Disposable has already been assigned");
      var b = this.isDisposed;
      !b && (this.current = a), b && a && a.dispose();
    }, kb.prototype.dispose = function() {
      if (!this.isDisposed) {
        this.isDisposed = !0;
        var a = this.current;
        this.current = null;
      }
      a && a.dispose();
    };
    var lb = $.SerialDisposable = function() {
      this.isDisposed = !1, this.current = null;
    };
    lb.prototype.getDisposable = function() {
      return this.current;
    }, lb.prototype.setDisposable = function(a) {
      var b = this.isDisposed;
      if (!b) {
        var c = this.current;
        this.current = a;
      }
      c && c.dispose(), b && a && a.dispose();
    }, lb.prototype.dispose = function() {
      if (!this.isDisposed) {
        this.isDisposed = !0;
        var a = this.current;
        this.current = null;
      }
      a && a.dispose();
    };
    var mb = $.RefCountDisposable = function() {
      function a(a) {
        this.disposable = a, this.disposable.count++, this.isInnerDisposed = !1;
      }
      function b(a) {
        this.underlyingDisposable = a, this.isDisposed = !1, this.isPrimaryDisposed = !1, this.count = 0;
      }
      return a.prototype.dispose = function() {
        this.disposable.isDisposed || this.isInnerDisposed || (this.isInnerDisposed = !0, this.disposable.count--, 0 === this.disposable.count && this.disposable.isPrimaryDisposed && (this.disposable.isDisposed = !0, this.disposable.underlyingDisposable.dispose()));
      }, b.prototype.dispose = function() {
        this.isDisposed || this.isPrimaryDisposed || (this.isPrimaryDisposed = !0, 0 === this.count && (this.isDisposed = !0, this.underlyingDisposable.dispose()));
      }, b.prototype.getDisposable = function() {
        return this.isDisposed ? hb : new a(this);
      }, b;
    }();
    r.prototype.dispose = function() {
      this.scheduler.scheduleWithState(this, s);
    };
    var nb = $.internals.ScheduledItem = function(a, b, c, d, e) {
      this.scheduler = a, this.state = b, this.action = c, this.dueTime = d, this.comparer = e || da, this.disposable = new kb;
    };
    nb.prototype.invoke = function() {
      this.disposable.setDisposable(this.invokeCore());
    }, nb.prototype.compareTo = function(a) {
      return this.comparer(this.dueTime, a.dueTime);
    }, nb.prototype.isCancelled = function() {
      return this.disposable.isDisposed;
    }, nb.prototype.invokeCore = function() {
      return this.action(this.scheduler, this.state);
    };
    var ob = $.Scheduler = function() {
      function a(a, b, c, d) {
        this.now = a, this._schedule = b, this._scheduleRelative = c, this._scheduleAbsolute = d;
      }
      function b(a, b) {
        return b(), hb;
      }
      a.isScheduler = function(b) {
        return b instanceof a;
      };
      var c = a.prototype;
      return c.schedule = function(a) {
        return this._schedule(a, b);
      }, c.scheduleWithState = function(a, b) {
        return this._schedule(a, b);
      }, c.scheduleWithRelative = function(a, c) {
        return this._scheduleRelative(c, a, b);
      }, c.scheduleWithRelativeAndState = function(a, b, c) {
        return this._scheduleRelative(a, b, c);
      }, c.scheduleWithAbsolute = function(a, c) {
        return this._scheduleAbsolute(c, a, b);
      }, c.scheduleWithAbsoluteAndState = function(a, b, c) {
        return this._scheduleAbsolute(a, b, c);
      }, a.now = ba, a.normalize = function(a) {
        return 0 > a && (a = 0), a;
      }, a;
    }(),
        pb = ob.normalize,
        qb = ob.isScheduler;
    !function(a) {
      function b(a, b) {
        function c(b) {
          function d(a, b) {
            return g ? f.remove(i) : h = !0, e(b, c), hb;
          }
          var g = !1,
              h = !1,
              i = a.scheduleWithState(b, d);
          h || (f.add(i), g = !0);
        }
        var d = b[0],
            e = b[1],
            f = new db;
        return e(d, c), f;
      }
      function c(a, b, c) {
        function d(b, e) {
          function h(a, b) {
            return i ? g.remove(k) : j = !0, f(b, d), hb;
          }
          var i = !1,
              j = !1,
              k = a[c](b, e, h);
          j || (g.add(k), i = !0);
        }
        var e = b[0],
            f = b[1],
            g = new db;
        return f(e, d), g;
      }
      function d(a, b) {
        return c(a, b, "scheduleWithRelativeAndState");
      }
      function e(a, b) {
        return c(a, b, "scheduleWithAbsoluteAndState");
      }
      function f(a, b) {
        a(function(c) {
          b(a, c);
        });
      }
      a.scheduleRecursive = function(a) {
        return this.scheduleRecursiveWithState(a, f);
      }, a.scheduleRecursiveWithState = function(a, c) {
        return this.scheduleWithState([a, c], b);
      }, a.scheduleRecursiveWithRelative = function(a, b) {
        return this.scheduleRecursiveWithRelativeAndState(b, a, f);
      }, a.scheduleRecursiveWithRelativeAndState = function(a, b, c) {
        return this._scheduleRelative([a, c], b, d);
      }, a.scheduleRecursiveWithAbsolute = function(a, b) {
        return this.scheduleRecursiveWithAbsoluteAndState(b, a, f);
      }, a.scheduleRecursiveWithAbsoluteAndState = function(a, b, c) {
        return this._scheduleAbsolute([a, c], b, e);
      };
    }(ob.prototype), function(a) {
      ob.prototype.schedulePeriodic = function(a, b) {
        return this.schedulePeriodicWithState(null, a, b);
      }, ob.prototype.schedulePeriodicWithState = function(a, b, c) {
        if ("undefined" == typeof Z.setInterval)
          throw new qa;
        b = pb(b);
        var d = a,
            e = Z.setInterval(function() {
              d = c(d);
            }, b);
        return gb(function() {
          Z.clearInterval(e);
        });
      };
    }(ob.prototype), function(a) {
      a.catchError = a["catch"] = function(a) {
        return new yb(this, a);
      };
    }(ob.prototype);
    var rb,
        sb,
        tb = ($.internals.SchedulePeriodicRecursive = function() {
          function a(a, b) {
            b(0, this._period);
            try {
              this._state = this._action(this._state);
            } catch (c) {
              throw this._cancel.dispose(), c;
            }
          }
          function b(a, b, c, d) {
            this._scheduler = a, this._state = b, this._period = c, this._action = d;
          }
          return b.prototype.start = function() {
            var b = new kb;
            return this._cancel = b, b.setDisposable(this._scheduler.scheduleRecursiveWithRelativeAndState(0, this._period, a.bind(this))), b;
          }, b;
        }(), ob.immediate = function() {
          function a(a, b) {
            return b(this, a);
          }
          return new ob(ba, a, ta, ta);
        }()),
        ub = ob.currentThread = function() {
          function a() {
            for (; c.length > 0; ) {
              var a = c.shift();
              !a.isCancelled() && a.invoke();
            }
          }
          function b(b, f) {
            var g = new nb(this, b, f, this.now());
            if (c)
              c.push(g);
            else {
              c = [g];
              var h = d(a)();
              if (c = null, h === ha)
                return e(h.e);
            }
            return g.disposable;
          }
          var c,
              f = new ob(ba, b, ta, ta);
          return f.scheduleRequired = function() {
            return !c;
          }, f;
        }(),
        vb = function() {
          var a,
              b = _;
          if (Z.setTimeout)
            a = Z.setTimeout, b = Z.clearTimeout;
          else {
            if (!Z.WScript)
              throw new qa;
            a = function(a, b) {
              Z.WScript.Sleep(b), a();
            };
          }
          return {
            setTimeout: a,
            clearTimeout: b
          };
        }(),
        wb = vb.setTimeout,
        xb = vb.clearTimeout;
    !function() {
      function a(b) {
        if (h)
          wb(function() {
            a(b);
          }, 0);
        else {
          var c = g[b];
          if (c) {
            h = !0;
            var f = d(c)();
            if (sb(b), h = !1, f === ha)
              return e(f.e);
          }
        }
      }
      function b() {
        if (!Z.postMessage || Z.importScripts)
          return !1;
        var a = !1,
            b = Z.onmessage;
        return Z.onmessage = function() {
          a = !0;
        }, Z.postMessage("", "*"), Z.onmessage = b, a;
      }
      function c(b) {
        "string" == typeof b.data && b.data.substring(0, k.length) === k && a(b.data.substring(k.length));
      }
      var f = 1,
          g = {},
          h = !1;
      sb = function(a) {
        delete g[a];
      };
      var i = RegExp("^" + String(Ma).replace(/[.*+?^${}()|[\]\\]/g, "\\$&").replace(/toString| for [^\]]+/g, ".*?") + "$"),
          j = "function" == typeof(j = Y && X && Y.setImmediate) && !i.test(j) && j;
      if (ga(j))
        rb = function(b) {
          var c = f++;
          return g[c] = b, j(function() {
            a(c);
          }), c;
        };
      else if ("undefined" != typeof process && "[object process]" === {}.toString.call(process))
        rb = function(b) {
          var c = f++;
          return g[c] = b, process.nextTick(function() {
            a(c);
          }), c;
        };
      else if (b()) {
        var k = "ms.rx.schedule" + Math.random();
        Z.addEventListener ? Z.addEventListener("message", c, !1) : Z.attachEvent ? Z.attachEvent("onmessage", c) : Z.onmessage = c, rb = function(a) {
          var b = f++;
          return g[b] = a, Z.postMessage(k + currentId, "*"), b;
        };
      } else if (Z.MessageChannel) {
        var l = new Z.MessageChannel;
        l.port1.onmessage = function(b) {
          a(b.data);
        }, rb = function(a) {
          var b = f++;
          return g[b] = a, l.port2.postMessage(b), b;
        };
      } else
        rb = "document" in Z && "onreadystatechange" in Z.document.createElement("script") ? function(b) {
          var c = Z.document.createElement("script"),
              d = f++;
          return g[d] = b, c.onreadystatechange = function() {
            a(d), c.onreadystatechange = null, c.parentNode.removeChild(c), c = null;
          }, Z.document.documentElement.appendChild(c), d;
        } : function(b) {
          var c = f++;
          return g[c] = b, wb(function() {
            a(c);
          }, 0), c;
        };
    }();
    var yb = (ob.timeout = ob["default"] = function() {
      function a(a, b) {
        var c = this,
            d = new kb,
            e = rb(function() {
              !d.isDisposed && d.setDisposable(b(c, a));
            });
        return new db(d, gb(function() {
          sb(e);
        }));
      }
      function b(a, b, c) {
        var d = this,
            e = ob.normalize(b),
            f = new kb;
        if (0 === e)
          return d.scheduleWithState(a, c);
        var g = wb(function() {
          !f.isDisposed && f.setDisposable(c(d, a));
        }, e);
        return new db(f, gb(function() {
          xb(g);
        }));
      }
      function c(a, b, c) {
        return this.scheduleWithRelativeAndState(a, b - this.now(), c);
      }
      return new ob(ba, a, b, c);
    }(), function(a) {
      function b(a, b) {
        return this._scheduler.scheduleWithState(a, this._wrap(b));
      }
      function c(a, b, c) {
        return this._scheduler.scheduleWithRelativeAndState(a, b, this._wrap(c));
      }
      function d(a, b, c) {
        return this._scheduler.scheduleWithAbsoluteAndState(a, b, this._wrap(c));
      }
      function e(e, f) {
        this._scheduler = e, this._handler = f, this._recursiveOriginal = null, this._recursiveWrapper = null, a.call(this, this._scheduler.now.bind(this._scheduler), b, c, d);
      }
      return $a(e, a), e.prototype._clone = function(a) {
        return new e(a, this._handler);
      }, e.prototype._wrap = function(a) {
        var b = this;
        return function(c, d) {
          try {
            return a(b._getRecursiveWrapper(c), d);
          } catch (e) {
            if (!b._handler(e))
              throw e;
            return hb;
          }
        };
      }, e.prototype._getRecursiveWrapper = function(a) {
        if (this._recursiveOriginal !== a) {
          this._recursiveOriginal = a;
          var b = this._clone(a);
          b._recursiveOriginal = a, b._recursiveWrapper = b, this._recursiveWrapper = b;
        }
        return this._recursiveWrapper;
      }, e.prototype.schedulePeriodicWithState = function(a, b, c) {
        var d = this,
            e = !1,
            f = new kb;
        return f.setDisposable(this._scheduler.schedulePeriodicWithState(a, b, function(a) {
          if (e)
            return null;
          try {
            return c(a);
          } catch (b) {
            if (e = !0, !d._handler(b))
              throw b;
            return f.dispose(), null;
          }
        })), f;
      }, e;
    }(ob)),
        zb = $.Notification = function() {
          function a(a, b, c, d, e, f) {
            this.kind = a, this.value = b, this.exception = c, this._accept = d, this._acceptObservable = e, this.toString = f;
          }
          return a.prototype.accept = function(a, b, c) {
            return a && "object" == typeof a ? this._acceptObservable(a) : this._accept(a, b, c);
          }, a.prototype.toObservable = function(a) {
            var b = this;
            return qb(a) || (a = tb), new Kc(function(c) {
              return a.scheduleWithState(b, function(a, b) {
                b._acceptObservable(c), "N" === b.kind && c.onCompleted();
              });
            });
          }, a;
        }(),
        Ab = zb.createOnNext = function() {
          function a(a) {
            return a(this.value);
          }
          function b(a) {
            return a.onNext(this.value);
          }
          function c() {
            return "OnNext(" + this.value + ")";
          }
          return function(d) {
            return new zb("N", d, null, a, b, c);
          };
        }(),
        Bb = zb.createOnError = function() {
          function a(a, b) {
            return b(this.exception);
          }
          function b(a) {
            return a.onError(this.exception);
          }
          function c() {
            return "OnError(" + this.exception + ")";
          }
          return function(d) {
            return new zb("E", null, d, a, b, c);
          };
        }(),
        Cb = zb.createOnCompleted = function() {
          function a(a, b, c) {
            return c();
          }
          function b(a) {
            return a.onCompleted();
          }
          function c() {
            return "OnCompleted()";
          }
          return function() {
            return new zb("C", null, null, a, b, c);
          };
        }(),
        Db = $.Observer = function() {};
    Db.prototype.toNotifier = function() {
      var a = this;
      return function(b) {
        return b.accept(a);
      };
    }, Db.prototype.asObserver = function() {
      var a = this;
      return new Hb(function(b) {
        a.onNext(b);
      }, function(b) {
        a.onError(b);
      }, function() {
        a.onCompleted();
      });
    }, Db.prototype.checked = function() {
      return new Ib(this);
    };
    var Eb = Db.create = function(a, b, c) {
      return a || (a = _), b || (b = ea), c || (c = _), new Hb(a, b, c);
    };
    Db.fromNotifier = function(a, b) {
      var c = za(a, b, 1);
      return new Hb(function(a) {
        return c(Ab(a));
      }, function(a) {
        return c(Bb(a));
      }, function() {
        return c(Cb());
      });
    }, Db.prototype.notifyOn = function(a) {
      return new Kb(a, this);
    }, Db.prototype.makeSafe = function(a) {
      return new AnonymousSafeObserver(this._onNext, this._onError, this._onCompleted, a);
    };
    var Fb,
        Gb = $.internals.AbstractObserver = function(a) {
          function b() {
            this.isStopped = !1;
          }
          return $a(b, a), b.prototype.next = sa, b.prototype.error = sa, b.prototype.completed = sa, b.prototype.onNext = function(a) {
            !this.isStopped && this.next(a);
          }, b.prototype.onError = function(a) {
            this.isStopped || (this.isStopped = !0, this.error(a));
          }, b.prototype.onCompleted = function() {
            this.isStopped || (this.isStopped = !0, this.completed());
          }, b.prototype.dispose = function() {
            this.isStopped = !0;
          }, b.prototype.fail = function(a) {
            return this.isStopped ? !1 : (this.isStopped = !0, this.error(a), !0);
          }, b;
        }(Db),
        Hb = $.AnonymousObserver = function(a) {
          function b(b, c, d) {
            a.call(this), this._onNext = b, this._onError = c, this._onCompleted = d;
          }
          return $a(b, a), b.prototype.next = function(a) {
            this._onNext(a);
          }, b.prototype.error = function(a) {
            this._onError(a);
          }, b.prototype.completed = function() {
            this._onCompleted();
          }, b;
        }(Gb),
        Ib = function(a) {
          function b(b) {
            a.call(this), this._observer = b, this._state = 0;
          }
          $a(b, a);
          var c = b.prototype;
          return c.onNext = function(a) {
            this.checkAccess();
            var b = d(this._observer.onNext).call(this._observer, a);
            this._state = 0, b === ha && e(b.e);
          }, c.onError = function(a) {
            this.checkAccess();
            var b = d(this._observer.onError).call(this._observer, a);
            this._state = 2, b === ha && e(b.e);
          }, c.onCompleted = function() {
            this.checkAccess();
            var a = d(this._observer.onCompleted).call(this._observer);
            this._state = 2, a === ha && e(a.e);
          }, c.checkAccess = function() {
            if (1 === this._state)
              throw new Error("Re-entrancy detected");
            if (2 === this._state)
              throw new Error("Observer completed");
            0 === this._state && (this._state = 1);
          }, b;
        }(Db),
        Jb = $.internals.ScheduledObserver = function(a) {
          function b(b, c) {
            a.call(this), this.scheduler = b, this.observer = c, this.isAcquired = !1, this.hasFaulted = !1, this.queue = [], this.disposable = new lb;
          }
          return $a(b, a), b.prototype.next = function(a) {
            var b = this;
            this.queue.push(function() {
              b.observer.onNext(a);
            });
          }, b.prototype.error = function(a) {
            var b = this;
            this.queue.push(function() {
              b.observer.onError(a);
            });
          }, b.prototype.completed = function() {
            var a = this;
            this.queue.push(function() {
              a.observer.onCompleted();
            });
          }, b.prototype.ensureActive = function() {
            var a = !1;
            !this.hasFaulted && this.queue.length > 0 && (a = !this.isAcquired, this.isAcquired = !0), a && this.disposable.setDisposable(this.scheduler.scheduleRecursiveWithState(this, function(a, b) {
              var c;
              if (!(a.queue.length > 0))
                return void(a.isAcquired = !1);
              c = a.queue.shift();
              var f = d(c)();
              return f === ha ? (a.queue = [], a.hasFaulted = !0, e(f.e)) : void b(a);
            }));
          }, b.prototype.dispose = function() {
            a.prototype.dispose.call(this), this.disposable.dispose();
          }, b;
        }(Gb),
        Kb = function(a) {
          function b(b, c, d) {
            a.call(this, b, c), this._cancel = d;
          }
          return $a(b, a), b.prototype.next = function(b) {
            a.prototype.next.call(this, b), this.ensureActive();
          }, b.prototype.error = function(b) {
            a.prototype.error.call(this, b), this.ensureActive();
          }, b.prototype.completed = function() {
            a.prototype.completed.call(this), this.ensureActive();
          }, b.prototype.dispose = function() {
            a.prototype.dispose.call(this), this._cancel && this._cancel.dispose(), this._cancel = null;
          }, b;
        }(Jb),
        Lb = $.Observable = function() {
          function a(a, b) {
            return function(c) {
              var d = c.onError;
              return c.onError = function(b) {
                f(b, a), d.call(c, b);
              }, b.call(a, c);
            };
          }
          function b(b) {
            if ($.config.longStackSupport && ia) {
              var c = d(e)(new Error).e;
              this.stack = c.stack.substring(c.stack.indexOf("\n") + 1), this._subscribe = a(this, b);
            } else
              this._subscribe = b;
          }
          return Fb = b.prototype, b.isObservable = function(a) {
            return a && ga(a.subscribe);
          }, Fb.subscribe = Fb.forEach = function(a, b, c) {
            return this._subscribe("object" == typeof a ? a : Eb(a, b, c));
          }, Fb.subscribeOnNext = function(a, b) {
            return this._subscribe(Eb("undefined" != typeof b ? function(c) {
              a.call(b, c);
            } : a));
          }, Fb.subscribeOnError = function(a, b) {
            return this._subscribe(Eb(null, "undefined" != typeof b ? function(c) {
              a.call(b, c);
            } : a));
          }, Fb.subscribeOnCompleted = function(a, b) {
            return this._subscribe(Eb(null, null, "undefined" != typeof b ? function() {
              a.call(b);
            } : a));
          }, b;
        }(),
        Mb = $.ObservableBase = function(a) {
          function b(a) {
            return a && ga(a.dispose) ? a : ga(a) ? gb(a) : hb;
          }
          function c(a, c) {
            var f = c[0],
                g = c[1],
                h = d(g.subscribeCore).call(g, f);
            return h !== ha || f.fail(ha.e) ? void f.setDisposable(b(h)) : e(ha.e);
          }
          function f(a) {
            var b = new Lc(a),
                d = [b, this];
            return ub.scheduleRequired() ? ub.scheduleWithState(d, c) : c(null, d), b;
          }
          function g() {
            a.call(this, f);
          }
          return $a(g, a), g.prototype.subscribeCore = sa, g;
        }(Lb),
        Nb = function(a) {
          function b(b, c, d, e) {
            this.resultSelector = $.helpers.isFunction(d) ? d : null, this.selector = $.internals.bindCallback($.helpers.isFunction(c) ? c : function() {
              return c;
            }, e, 3), this.source = b, a.call(this);
          }
          function c(a, b, c, d) {
            this.i = 0, this.selector = b, this.resultSelector = c, this.source = d, this.isStopped = !1, this.o = a;
          }
          return $a(b, a), b.prototype.subscribeCore = function(a) {
            return this.source.subscribe(new c(a, this.selector, this.resultSelector, this));
          }, c.prototype._wrapResult = function(a, b, c) {
            return this.resultSelector ? a.map(function(a, d) {
              return this.resultSelector(b, a, c, d);
            }, this) : a;
          }, c.prototype.onNext = function(a) {
            if (!this.isStopped) {
              var b = this.i++,
                  c = d(this.selector)(a, b, this.source);
              if (c === ha)
                return this.o.onError(c.e);
              $.helpers.isPromise(c) && (c = $.Observable.fromPromise(c)), ($.helpers.isArrayLike(c) || $.helpers.isIterable(c)) && (c = $.Observable.from(c)), this.o.onNext(this._wrapResult(c, a, b));
            }
          }, c.prototype.onError = function(a) {
            this.isStopped || (this.isStopped = !0, this.o.onError(a));
          }, c.prototype.onCompleted = function() {
            this.isStopped || (this.isStopped = !0, this.o.onCompleted());
          }, b;
        }(Mb),
        Ob = $.internals.Enumerable = function() {},
        Pb = function(a) {
          function b(b) {
            this.sources = b, a.call(this);
          }
          function c(a, b, c) {
            this.o = a, this.s = b, this.e = c, this.isStopped = !1;
          }
          return $a(b, a), b.prototype.subscribeCore = function(a) {
            var b,
                e = new lb,
                f = tb.scheduleRecursiveWithState(this.sources[ua](), function(f, g) {
                  if (!b) {
                    var h = d(f.next).call(f);
                    if (h === ha)
                      return a.onError(h.e);
                    if (h.done)
                      return a.onCompleted();
                    var i = h.value;
                    fa(i) && (i = Wb(i));
                    var j = new kb;
                    e.setDisposable(j), j.setDisposable(i.subscribe(new c(a, g, f)));
                  }
                });
            return new db(e, f, gb(function() {
              b = !0;
            }));
          }, c.prototype.onNext = function(a) {
            this.isStopped || this.o.onNext(a);
          }, c.prototype.onError = function(a) {
            this.isStopped || (this.isStopped = !0, this.o.onError(a));
          }, c.prototype.onCompleted = function() {
            this.isStopped || (this.isStopped = !0, this.s(this.e));
          }, c.prototype.dispose = function() {
            this.isStopped = !0;
          }, c.prototype.fail = function(a) {
            return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
          }, b;
        }(Mb);
    Ob.prototype.concat = function() {
      return new Pb(this);
    };
    var Qb = function(a) {
      function b(b) {
        this.sources = b, a.call(this);
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        var b,
            c = this.sources[ua](),
            e = new lb,
            f = tb.scheduleRecursiveWithState(null, function(f, g) {
              if (!b) {
                var h = d(c.next).call(c);
                if (h === ha)
                  return a.onError(h.e);
                if (h.done)
                  return null !== f ? a.onError(f) : a.onCompleted();
                var i = h.value;
                fa(i) && (i = Wb(i));
                var j = new kb;
                e.setDisposable(j), j.setDisposable(i.subscribe(function(b) {
                  a.onNext(b);
                }, g, function() {
                  a.onCompleted();
                }));
              }
            });
        return new db(e, f, gb(function() {
          b = !0;
        }));
      }, b;
    }(Mb);
    Ob.prototype.catchError = function() {
      return new Qb(this);
    }, Ob.prototype.catchErrorWhen = function(a) {
      var b = this;
      return new Kc(function(c) {
        var e,
            f,
            g = new Nc,
            h = new Nc,
            i = a(g),
            j = i.subscribe(h),
            k = b[ua](),
            l = new lb,
            m = tb.scheduleRecursive(function(a) {
              if (!e) {
                var b = d(k.next).call(k);
                if (b === ha)
                  return c.onError(b.e);
                if (b.done)
                  return void(f ? c.onError(f) : c.onCompleted());
                var i = b.value;
                fa(i) && (i = Wb(i));
                var j = new kb,
                    m = new kb;
                l.setDisposable(new db(m, j)), j.setDisposable(i.subscribe(function(a) {
                  c.onNext(a);
                }, function(b) {
                  m.setDisposable(h.subscribe(a, function(a) {
                    c.onError(a);
                  }, function() {
                    c.onCompleted();
                  })), g.onNext(b);
                }, function() {
                  c.onCompleted();
                }));
              }
            });
        return new db(j, l, m, gb(function() {
          e = !0;
        }));
      });
    };
    var Rb = function(a) {
      function b(a, b) {
        this.v = a, this.c = null == b ? -1 : b;
      }
      function c(a) {
        this.v = a.v, this.l = a.c;
      }
      return $a(b, a), b.prototype[ua] = function() {
        return new c(this);
      }, c.prototype.next = function() {
        return 0 === this.l ? va : (this.l > 0 && this.l--, {
          done: !1,
          value: this.v
        });
      }, b;
    }(Ob),
        Sb = Ob.repeat = function(a, b) {
          return new Rb(a, b);
        },
        Tb = function(a) {
          function b(a, b, c) {
            this.s = a, this.fn = b ? za(b, c, 3) : null;
          }
          function c(a) {
            this.i = -1, this.s = a.s, this.l = this.s.length, this.fn = a.fn;
          }
          return $a(b, a), b.prototype[ua] = function() {
            return new c(this);
          }, c.prototype.next = function() {
            return ++this.i < this.l ? {
              done: !1,
              value: this.fn ? this.fn(this.s[this.i], this.i, this.s) : this.s[this.i]
            } : va;
          }, b;
        }(Ob),
        Ub = Ob.of = function(a, b, c) {
          return new Tb(a, b, c);
        };
    Fb.observeOn = function(a) {
      var b = this;
      return new Kc(function(c) {
        return b.subscribe(new Kb(a, c));
      }, b);
    }, Fb.subscribeOn = function(a) {
      var b = this;
      return new Kc(function(c) {
        var d = new kb,
            e = new lb;
        return e.setDisposable(d), d.setDisposable(a.schedule(function() {
          e.setDisposable(new r(a, b.subscribe(c)));
        })), e;
      }, b);
    };
    var Vb = function(a) {
      function b(b) {
        this.p = b, a.call(this);
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        return this.p.then(function(b) {
          a.onNext(b), a.onCompleted();
        }, function(b) {
          a.onError(b);
        }), hb;
      }, b;
    }(Mb),
        Wb = Lb.fromPromise = function(a) {
          return new Vb(a);
        };
    Fb.toPromise = function(a) {
      if (a || (a = $.config.Promise), !a)
        throw new qa("Promise type not provided nor in Rx.config.Promise");
      var b = this;
      return new a(function(a, c) {
        var d,
            e = !1;
        b.subscribe(function(a) {
          d = a, e = !0;
        }, c, function() {
          e && a(d);
        });
      });
    };
    var Xb = function(a) {
      function b(b) {
        this.source = b, a.call(this);
      }
      function c(a) {
        this.o = a, this.a = [], this.isStopped = !1;
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new c(a));
      }, c.prototype.onNext = function(a) {
        this.isStopped || this.a.push(a);
      }, c.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      }, c.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0, this.o.onNext(this.a), this.o.onCompleted());
      }, c.prototype.dispose = function() {
        this.isStopped = !0;
      }, c.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }, b;
    }(Mb);
    Fb.toArray = function() {
      return new Xb(this);
    }, Lb.create = function(a, b) {
      return new Kc(a, b);
    };
    var Yb = (Lb.defer = function(a) {
      return new Kc(function(b) {
        var c;
        try {
          c = a();
        } catch (d) {
          return oc(d).subscribe(b);
        }
        return fa(c) && (c = Wb(c)), c.subscribe(b);
      });
    }, function(a) {
      function b(b) {
        this.scheduler = b, a.call(this);
      }
      function c(a, b) {
        this.observer = a, this.scheduler = b;
      }
      function d(a, b) {
        return b.onCompleted(), hb;
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        var b = new c(a, this.scheduler);
        return b.run();
      }, c.prototype.run = function() {
        return this.scheduler.scheduleWithState(this.observer, d);
      }, b;
    }(Mb)),
        Zb = new Yb(tb),
        $b = Lb.empty = function(a) {
          return qb(a) || (a = tb), a === tb ? Zb : new Yb(a);
        },
        _b = function(a) {
          function b(b, c, d) {
            this.iterable = b, this.mapper = c, this.scheduler = d, a.call(this);
          }
          return $a(b, a), b.prototype.subscribeCore = function(a) {
            var b = new ac(a, this);
            return b.run();
          }, b;
        }(Mb),
        ac = function() {
          function a(a, b) {
            this.o = a, this.parent = b;
          }
          return a.prototype.run = function() {
            function a(a, b) {
              var g = d(c.next).call(c);
              if (g === ha)
                return e.onError(g.e);
              if (g.done)
                return e.onCompleted();
              var h = g.value;
              return ga(f) && (h = d(f)(h, a), h === ha) ? e.onError(h.e) : (e.onNext(h), void b(a + 1));
            }
            var b = Object(this.parent.iterable),
                c = y(b),
                e = this.o,
                f = this.parent.mapper;
            return this.parent.scheduler.scheduleRecursiveWithState(0, a);
          }, a;
        }(),
        bc = Math.pow(2, 53) - 1;
    t.prototype[ua] = function() {
      return new u(this._s);
    }, u.prototype[ua] = function() {
      return this;
    }, u.prototype.next = function() {
      return this._i < this._l ? {
        done: !1,
        value: this._s.charAt(this._i++)
      } : va;
    }, v.prototype[ua] = function() {
      return new w(this._a);
    }, w.prototype[ua] = function() {
      return this;
    }, w.prototype.next = function() {
      return this._i < this._l ? {
        done: !1,
        value: this._a[this._i++]
      } : va;
    };
    var cc = Lb.from = function(a, b, c, d) {
      if (null == a)
        throw new Error("iterable cannot be null.");
      if (b && !ga(b))
        throw new Error("mapFn when provided must be a function");
      if (b)
        var e = za(b, c, 2);
      return qb(d) || (d = ub), new _b(a, e, d);
    },
        dc = function(a) {
          function b(b, c) {
            this.args = b, this.scheduler = c, a.call(this);
          }
          return $a(b, a), b.prototype.subscribeCore = function(a) {
            var b = new B(a, this);
            return b.run();
          }, b;
        }(Mb);
    B.prototype.run = function() {
      function a(a, e) {
        d > a ? (b.onNext(c[a]), e(a + 1)) : b.onCompleted();
      }
      var b = this.observer,
          c = this.parent.args,
          d = c.length;
      return this.parent.scheduler.scheduleRecursiveWithState(0, a);
    };
    var ec = Lb.fromArray = function(a, b) {
      return qb(b) || (b = ub), new dc(a, b);
    };
    Lb.generate = function(a, b, c, d, e) {
      return qb(e) || (e = ub), new Kc(function(f) {
        var g = !0;
        return e.scheduleRecursiveWithState(a, function(a, e) {
          var h,
              i;
          try {
            g ? g = !1 : a = c(a), h = b(a), h && (i = d(a));
          } catch (j) {
            return f.onError(j);
          }
          h ? (f.onNext(i), e(a)) : f.onCompleted();
        });
      });
    };
    var fc = function(a) {
      function b() {
        a.call(this);
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        return hb;
      }, b;
    }(Mb),
        gc = new fc,
        hc = Lb.never = function() {
          return gc;
        };
    Lb.of = function() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      return new dc(b, ub);
    }, Lb.ofWithScheduler = function(a) {
      for (var b = arguments.length,
          c = new Array(b - 1),
          d = 1; b > d; d++)
        c[d - 1] = arguments[d];
      return new dc(c, a);
    };
    var ic = function(a) {
      function b(b, c) {
        this.obj = b, this.keys = Object.keys(b), this.scheduler = c, a.call(this);
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        var b = new D(a, this);
        return b.run();
      }, b;
    }(Mb);
    D.prototype.run = function() {
      function a(a, f) {
        if (e > a) {
          var g = d[a];
          b.onNext([g, c[g]]), f(a + 1);
        } else
          b.onCompleted();
      }
      var b = this.observer,
          c = this.parent.obj,
          d = this.parent.keys,
          e = d.length;
      return this.parent.scheduler.scheduleRecursiveWithState(0, a);
    }, Lb.pairs = function(a, b) {
      return b || (b = ub), new ic(a, b);
    };
    var jc = function(a) {
      function b(b, c, d) {
        this.start = b, this.rangeCount = c, this.scheduler = d, a.call(this);
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        var b = new kc(a, this);
        return b.run();
      }, b;
    }(Mb),
        kc = function() {
          function a(a, b) {
            this.observer = a, this.parent = b;
          }
          return a.prototype.run = function() {
            function a(a, e) {
              c > a ? (d.onNext(b + a), e(a + 1)) : d.onCompleted();
            }
            var b = this.parent.start,
                c = this.parent.rangeCount,
                d = this.observer;
            return this.parent.scheduler.scheduleRecursiveWithState(0, a);
          }, a;
        }();
    Lb.range = function(a, b, c) {
      return qb(c) || (c = ub), new jc(a, b, c);
    };
    var lc = function(a) {
      function b(b, c, d) {
        this.value = b, this.repeatCount = null == c ? -1 : c, this.scheduler = d, a.call(this);
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        var b = new E(a, this);
        return b.run();
      }, b;
    }(Mb);
    E.prototype.run = function() {
      function a(a, d) {
        return (-1 === a || a > 0) && (b.onNext(c), a > 0 && a--), 0 === a ? b.onCompleted() : void d(a);
      }
      var b = this.observer,
          c = this.parent.value;
      return this.parent.scheduler.scheduleRecursiveWithState(this.parent.repeatCount, a);
    }, Lb.repeat = function(a, b, c) {
      return qb(c) || (c = ub), new lc(a, b, c);
    };
    var mc = function(a) {
      function b(b, c) {
        this.value = b, this.scheduler = c, a.call(this);
      }
      function c(a, b, c) {
        this.observer = a, this.value = b, this.scheduler = c;
      }
      function d(a, b) {
        var c = b[0],
            d = b[1];
        return d.onNext(c), d.onCompleted(), hb;
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        var b = new c(a, this.value, this.scheduler);
        return b.run();
      }, c.prototype.run = function() {
        var a = [this.value, this.observer];
        return this.scheduler === tb ? d(null, a) : this.scheduler.scheduleWithState(a, d);
      }, b;
    }(Mb),
        nc = (Lb["return"] = Lb.just = function(a, b) {
          return qb(b) || (b = tb), new mc(a, b);
        }, function(a) {
          function b(b, c) {
            this.error = b, this.scheduler = c, a.call(this);
          }
          function c(a, b) {
            this.o = a, this.p = b;
          }
          function d(a, b) {
            var c = b[0],
                d = b[1];
            d.onError(c);
          }
          return $a(b, a), b.prototype.subscribeCore = function(a) {
            var b = new c(a, this);
            return b.run();
          }, c.prototype.run = function() {
            return this.p.scheduler.scheduleWithState([this.p.error, this.o], d);
          }, b;
        }(Mb)),
        oc = Lb["throw"] = function(a, b) {
          return qb(b) || (b = tb), new nc(a, b);
        };
    Lb.using = function(a, b) {
      return new Kc(function(c) {
        var e = hb,
            f = d(a)();
        if (f === ha)
          return new db(oc(f.e).subscribe(c), e);
        f && (e = f);
        var g = d(b)(f);
        return g === ha ? new db(oc(g.e).subscribe(c), e) : new db(g.subscribe(c), e);
      });
    }, Fb.amb = function(a) {
      var b = this;
      return new Kc(function(c) {
        function d() {
          f || (f = g, j.dispose());
        }
        function e() {
          f || (f = h, i.dispose());
        }
        var f,
            g = "L",
            h = "R",
            i = new kb,
            j = new kb;
        fa(a) && (a = Wb(a));
        var k = Eb(function(a) {
          d(), f === g && c.onNext(a);
        }, function(a) {
          d(), f === g && c.onError(a);
        }, function() {
          d(), f === g && c.onCompleted();
        }),
            l = Eb(function(a) {
              e(), f === h && c.onNext(a);
            }, function(a) {
              e(), f === h && c.onError(a);
            }, function() {
              e(), f === h && c.onCompleted();
            });
        return i.setDisposable(b.subscribe(k)), j.setDisposable(a.subscribe(l)), new db(i, j);
      });
    }, Lb.amb = function() {
      var a,
          b = hc();
      if (Array.isArray(arguments[0]))
        a = arguments[0];
      else {
        var c = arguments.length;
        a = new Array(a);
        for (var d = 0; c > d; d++)
          a[d] = arguments[d];
      }
      for (var d = 0,
          c = a.length; c > d; d++)
        b = F(b, a[d]);
      return b;
    };
    var pc = function(a) {
      function b(b, c, d) {
        this._o = b, this._s = c, this._fn = d, a.call(this);
      }
      return $a(b, a), b.prototype.next = function(a) {
        this._o.onNext(a);
      }, b.prototype.completed = function() {
        return this._o.onCompleted();
      }, b.prototype.error = function(a) {
        var b = d(this._fn)(a);
        if (b === ha)
          return this._o.onError(b.e);
        fa(b) && (b = Wb(b));
        var c = new kb;
        this._s.setDisposable(c), c.setDisposable(b.subscribe(this._o));
      }, b;
    }(Gb);
    Fb["catch"] = function(a) {
      return ga(a) ? G(this, a) : qc([this, a]);
    };
    var qc = Lb["catch"] = function() {
      var a;
      if (Array.isArray(arguments[0]))
        a = arguments[0];
      else {
        var b = arguments.length;
        a = new Array(b);
        for (var c = 0; b > c; c++)
          a[c] = arguments[c];
      }
      return Ub(a).catchError();
    };
    Fb.combineLatest = function() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      return Array.isArray(b[0]) ? b[0].unshift(this) : b.unshift(this), rc.apply(this, b);
    };
    var rc = Lb.combineLatest = function() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      var d = ga(b[a - 1]) ? b.pop() : I;
      return Array.isArray(b[0]) && (b = b[0]), new Kc(function(a) {
        function c(b) {
          if (g[b] = !0, h || (h = g.every(aa))) {
            try {
              var c = d.apply(null, j);
            } catch (e) {
              return a.onError(e);
            }
            a.onNext(c);
          } else
            i.filter(function(a, c) {
              return c !== b;
            }).every(aa) && a.onCompleted();
        }
        function e(b) {
          i[b] = !0, i.every(aa) && a.onCompleted();
        }
        for (var f = b.length,
            g = q(f, H),
            h = !1,
            i = q(f, H),
            j = new Array(f),
            k = new Array(f),
            l = 0; f > l; l++)
          !function(d) {
            var f = b[d],
                g = new kb;
            fa(f) && (f = Wb(f)), g.setDisposable(f.subscribe(function(a) {
              j[d] = a, c(d);
            }, function(b) {
              a.onError(b);
            }, function() {
              e(d);
            })), k[d] = g;
          }(l);
        return new db(k);
      }, this);
    };
    Fb.concat = function() {
      for (var a = [],
          b = 0,
          c = arguments.length; c > b; b++)
        a.push(arguments[b]);
      return a.unshift(this), tc.apply(null, a);
    };
    var sc = function(a) {
      function b(b) {
        this.sources = b, a.call(this);
      }
      function c(a, b) {
        this.sources = a, this.o = b;
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        var b = new c(this.sources, a);
        return b.run();
      }, c.prototype.run = function() {
        var a,
            b = new lb,
            c = this.sources,
            d = c.length,
            e = this.o,
            f = tb.scheduleRecursiveWithState(0, function(f, g) {
              if (!a) {
                if (f === d)
                  return e.onCompleted();
                var h = c[f];
                fa(h) && (h = Wb(h));
                var i = new kb;
                b.setDisposable(i), i.setDisposable(h.subscribe(function(a) {
                  e.onNext(a);
                }, function(a) {
                  e.onError(a);
                }, function() {
                  g(f + 1);
                }));
              }
            });
        return new db(b, f, gb(function() {
          a = !0;
        }));
      }, b;
    }(Mb),
        tc = Lb.concat = function() {
          var a;
          if (Array.isArray(arguments[0]))
            a = arguments[0];
          else {
            a = new Array(arguments.length);
            for (var b = 0,
                c = arguments.length; c > b; b++)
              a[b] = arguments[b];
          }
          return new sc(a);
        };
    Fb.concatAll = function() {
      return this.merge(1);
    };
    var uc = function(a) {
      function b(b, c) {
        this.source = b, this.maxConcurrent = c, a.call(this);
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        var b = new db;
        return b.add(this.source.subscribe(new vc(a, this.maxConcurrent, b))), b;
      }, b;
    }(Mb),
        vc = function() {
          function a(a, b, c) {
            this.o = a, this.max = b, this.g = c, this.done = !1, this.q = [], this.activeCount = 0, this.isStopped = !1;
          }
          function b(a, b) {
            this.parent = a, this.sad = b, this.isStopped = !1;
          }
          return a.prototype.handleSubscribe = function(a) {
            var c = new kb;
            this.g.add(c), fa(a) && (a = Wb(a)), c.setDisposable(a.subscribe(new b(this, c)));
          }, a.prototype.onNext = function(a) {
            this.isStopped || (this.activeCount < this.max ? (this.activeCount++, this.handleSubscribe(a)) : this.q.push(a));
          }, a.prototype.onError = function(a) {
            this.isStopped || (this.isStopped = !0, this.o.onError(a));
          }, a.prototype.onCompleted = function() {
            this.isStopped || (this.isStopped = !0, this.done = !0, 0 === this.activeCount && this.o.onCompleted());
          }, a.prototype.dispose = function() {
            this.isStopped = !0;
          }, a.prototype.fail = function(a) {
            return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
          }, b.prototype.onNext = function(a) {
            this.isStopped || this.parent.o.onNext(a);
          }, b.prototype.onError = function(a) {
            this.isStopped || (this.isStopped = !0, this.parent.o.onError(a));
          }, b.prototype.onCompleted = function() {
            if (!this.isStopped) {
              this.isStopped = !0;
              var a = this.parent;
              a.g.remove(this.sad), a.q.length > 0 ? a.handleSubscribe(a.q.shift()) : (a.activeCount--, a.done && 0 === a.activeCount && a.o.onCompleted());
            }
          }, b.prototype.dispose = function() {
            this.isStopped = !0;
          }, b.prototype.fail = function(a) {
            return this.isStopped ? !1 : (this.isStopped = !0, this.parent.o.onError(a), !0);
          }, a;
        }();
    Fb.merge = function(a) {
      return "number" != typeof a ? wc(this, a) : new uc(this, a);
    };
    var wc = Lb.merge = function() {
      var a,
          b,
          c = [],
          d = arguments.length;
      if (arguments[0])
        if (qb(arguments[0]))
          for (a = arguments[0], b = 1; d > b; b++)
            c.push(arguments[b]);
        else
          for (a = tb, b = 0; d > b; b++)
            c.push(arguments[b]);
      else
        for (a = tb, b = 1; d > b; b++)
          c.push(arguments[b]);
      return Array.isArray(c[0]) && (c = c[0]), C(a, c).mergeAll();
    },
        xc = function(a) {
          function b(b) {
            this.source = b, a.call(this);
          }
          function c(a, b) {
            this.o = a, this.g = b, this.isStopped = !1, this.done = !1;
          }
          function d(a, b) {
            this.parent = a, this.sad = b, this.isStopped = !1;
          }
          return $a(b, a), b.prototype.subscribeCore = function(a) {
            var b = new db,
                d = new kb;
            return b.add(d), d.setDisposable(this.source.subscribe(new c(a, b))), b;
          }, c.prototype.onNext = function(a) {
            if (!this.isStopped) {
              var b = new kb;
              this.g.add(b), fa(a) && (a = Wb(a)), b.setDisposable(a.subscribe(new d(this, b)));
            }
          }, c.prototype.onError = function(a) {
            this.isStopped || (this.isStopped = !0, this.o.onError(a));
          }, c.prototype.onCompleted = function() {
            this.isStopped || (this.isStopped = !0, this.done = !0, 1 === this.g.length && this.o.onCompleted());
          }, c.prototype.dispose = function() {
            this.isStopped = !0;
          }, c.prototype.fail = function(a) {
            return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
          }, d.prototype.onNext = function(a) {
            this.isStopped || this.parent.o.onNext(a);
          }, d.prototype.onError = function(a) {
            this.isStopped || (this.isStopped = !0, this.parent.o.onError(a));
          }, d.prototype.onCompleted = function() {
            if (!this.isStopped) {
              var a = this.parent;
              this.isStopped = !0, a.g.remove(this.sad), a.done && 1 === a.g.length && a.o.onCompleted();
            }
          }, d.prototype.dispose = function() {
            this.isStopped = !0;
          }, d.prototype.fail = function(a) {
            return this.isStopped ? !1 : (this.isStopped = !0, this.parent.o.onError(a), !0);
          }, b;
        }(Mb);
    Fb.mergeAll = function() {
      return new xc(this);
    };
    var yc = $.CompositeError = function(a) {
      this.name = "NotImplementedError", this.innerErrors = a, this.message = "This contains multiple errors. Check the innerErrors", Error.call(this);
    };
    yc.prototype = Error.prototype, Lb.mergeDelayError = function() {
      var a;
      if (Array.isArray(arguments[0]))
        a = arguments[0];
      else {
        var b = arguments.length;
        a = new Array(b);
        for (var c = 0; b > c; c++)
          a[c] = arguments[c];
      }
      var d = C(null, a);
      return new Kc(function(a) {
        function b() {
          0 === g.length ? a.onCompleted() : 1 === g.length ? a.onError(g[0]) : a.onError(new yc(g));
        }
        var c = new db,
            e = new kb,
            f = !1,
            g = [];
        return c.add(e), e.setDisposable(d.subscribe(function(d) {
          var e = new kb;
          c.add(e), fa(d) && (d = Wb(d)), e.setDisposable(d.subscribe(function(b) {
            a.onNext(b);
          }, function(a) {
            g.push(a), c.remove(e), f && 1 === c.length && b();
          }, function() {
            c.remove(e), f && 1 === c.length && b();
          }));
        }, function(a) {
          g.push(a), f = !0, 1 === c.length && b();
        }, function() {
          f = !0, 1 === c.length && b();
        })), c;
      });
    }, Fb.onErrorResumeNext = function(a) {
      if (!a)
        throw new Error("Second observable is required");
      return zc([this, a]);
    };
    var zc = Lb.onErrorResumeNext = function() {
      var a = [];
      if (Array.isArray(arguments[0]))
        a = arguments[0];
      else
        for (var b = 0,
            c = arguments.length; c > b; b++)
          a.push(arguments[b]);
      return new Kc(function(b) {
        var c = 0,
            d = new lb,
            e = tb.scheduleRecursive(function(e) {
              var f,
                  g;
              c < a.length ? (f = a[c++], fa(f) && (f = Wb(f)), g = new kb, d.setDisposable(g), g.setDisposable(f.subscribe(b.onNext.bind(b), e, e))) : b.onCompleted();
            });
        return new db(d, e);
      });
    };
    Fb.skipUntil = function(a) {
      var b = this;
      return new Kc(function(c) {
        var d = !1,
            e = new db(b.subscribe(function(a) {
              d && c.onNext(a);
            }, function(a) {
              c.onError(a);
            }, function() {
              d && c.onCompleted();
            }));
        fa(a) && (a = Wb(a));
        var f = new kb;
        return e.add(f), f.setDisposable(a.subscribe(function() {
          d = !0, f.dispose();
        }, function(a) {
          c.onError(a);
        }, function() {
          f.dispose();
        })), e;
      }, b);
    };
    var Ac = function(a) {
      function b(b) {
        this.source = b, a.call(this);
      }
      function c(a, b) {
        this.o = a, this.inner = b, this.stopped = !1, this.latest = 0, this.hasLatest = !1, this.isStopped = !1;
      }
      function d(a, b) {
        this.parent = a, this.id = b, this.isStopped = !1;
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        var b = new lb,
            d = this.source.subscribe(new c(a, b));
        return new db(d, b);
      }, c.prototype.onNext = function(a) {
        if (!this.isStopped) {
          var b = new kb,
              c = ++this.latest;
          this.hasLatest = !0, this.inner.setDisposable(b), fa(a) && (a = Wb(a)), b.setDisposable(a.subscribe(new d(this, c)));
        }
      }, c.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      }, c.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0, this.stopped = !0, !this.hasLatest && this.o.onCompleted());
      }, c.prototype.dispose = function() {
        this.isStopped = !0;
      }, c.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }, d.prototype.onNext = function(a) {
        this.isStopped || this.parent.latest === this.id && this.parent.o.onNext(a);
      }, d.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.parent.latest === this.id && this.parent.o.onError(a));
      }, d.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0, this.parent.latest === this.id && (this.parent.hasLatest = !1, this.parent.isStopped && this.parent.o.onCompleted()));
      }, d.prototype.dispose = function() {
        this.isStopped = !0;
      }, d.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.parent.o.onError(a), !0);
      }, b;
    }(Mb);
    Fb["switch"] = Fb.switchLatest = function() {
      return new Ac(this);
    };
    var Bc = function(a) {
      function b(b, c) {
        this.source = b, this.other = fa(c) ? Wb(c) : c, a.call(this);
      }
      function c(a) {
        this.o = a, this.isStopped = !1;
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        return new db(this.source.subscribe(a), this.other.subscribe(new c(a)));
      }, c.prototype.onNext = function(a) {
        this.isStopped || this.o.onCompleted();
      }, c.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      }, c.prototype.onCompleted = function() {
        !this.isStopped && (this.isStopped = !0);
      }, c.prototype.dispose = function() {
        this.isStopped = !0;
      }, c.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }, b;
    }(Mb);
    Fb.takeUntil = function(a) {
      return new Bc(this, a);
    }, Fb.withLatestFrom = function() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      var e = b.pop(),
          f = this;
      return Array.isArray(b[0]) && (b = b[0]), new Kc(function(a) {
        for (var c = b.length,
            g = q(c, H),
            h = !1,
            i = new Array(c),
            j = new Array(c + 1),
            k = 0; c > k; k++)
          !function(c) {
            var d = b[c],
                e = new kb;
            fa(d) && (d = Wb(d)), e.setDisposable(d.subscribe(function(a) {
              i[c] = a, g[c] = !0, h = g.every(aa);
            }, function(b) {
              a.onError(b);
            }, _)), j[c] = e;
          }(k);
        var l = new kb;
        return l.setDisposable(f.subscribe(function(b) {
          var c = [b].concat(i);
          if (h) {
            var f = d(e).apply(null, c);
            return f === ha ? a.onError(f.e) : void a.onNext(f);
          }
        }, function(b) {
          a.onError(b);
        }, function() {
          a.onCompleted();
        })), j[c] = l, new db(j);
      }, this);
    }, Fb.zip = function() {
      if (0 === arguments.length)
        throw new Error("invalid arguments");
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      var e = ga(b[a - 1]) ? b.pop() : I;
      Array.isArray(b[0]) && (b = b[0]);
      var f = this;
      return b.unshift(f), new Kc(function(a) {
        for (var c = b.length,
            g = q(c, J),
            h = q(c, H),
            i = new Array(c),
            j = 0; c > j; j++)
          !function(c) {
            var j = b[c],
                k = new kb;
            fa(j) && (j = Wb(j)), k.setDisposable(j.subscribe(function(b) {
              if (g[c].push(b), g.every(function(a) {
                return a.length > 0;
              })) {
                var i = g.map(function(a) {
                  return a.shift();
                }),
                    j = d(e).apply(f, i);
                if (j === ha)
                  return a.onError(j.e);
                a.onNext(j);
              } else
                h.filter(function(a, b) {
                  return b !== c;
                }).every(aa) && a.onCompleted();
            }, function(b) {
              a.onError(b);
            }, function() {
              h[c] = !0, h.every(aa) && a.onCompleted();
            })), i[c] = k;
          }(j);
        return new db(i);
      }, f);
    }, Lb.zip = function() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      Array.isArray(b[0]) && (b = ga(b[1]) ? b[0].concat(b[1]) : b[0]);
      var d = b.shift();
      return d.zip.apply(d, b);
    }, Fb.zipIterable = function() {
      if (0 === arguments.length)
        throw new Error("invalid arguments");
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      var e = ga(b[a - 1]) ? b.pop() : I,
          f = this;
      return b.unshift(f), new Kc(function(a) {
        for (var c = b.length,
            g = q(c, J),
            h = q(c, H),
            i = new Array(c),
            j = 0; c > j; j++)
          !function(c) {
            var j = b[c],
                k = new kb;
            (xa(j) || wa(j)) && (j = cc(j)), k.setDisposable(j.subscribe(function(b) {
              if (g[c].push(b), g.every(function(a) {
                return a.length > 0;
              })) {
                var i = g.map(function(a) {
                  return a.shift();
                }),
                    j = d(e).apply(f, i);
                if (j === ha)
                  return a.onError(j.e);
                a.onNext(j);
              } else
                h.filter(function(a, b) {
                  return b !== c;
                }).every(aa) && a.onCompleted();
            }, function(b) {
              a.onError(b);
            }, function() {
              h[c] = !0, h.every(aa) && a.onCompleted();
            })), i[c] = k;
          }(j);
        return new db(i);
      }, f);
    }, Fb.asObservable = function() {
      return new Kc(K(this), this);
    }, Fb.bufferWithCount = function(a, b) {
      return "number" != typeof b && (b = a), this.windowWithCount(a, b).flatMap(L).filter(M);
    }, Fb.dematerialize = function() {
      var a = this;
      return new Kc(function(b) {
        return a.subscribe(function(a) {
          return a.accept(b);
        }, function(a) {
          b.onError(a);
        }, function() {
          b.onCompleted();
        });
      }, this);
    };
    var Cc = function(a) {
      function b(b, c, d) {
        this.source = b, this.keyFn = c, this.comparer = d, a.call(this);
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new Dc(a, this.keyFn, this.comparer));
      }, b;
    }(Mb),
        Dc = function(a) {
          function b(b, c, d) {
            this.o = b, this.keyFn = c, this.comparer = d, this.hasCurrentKey = !1, this.currentKey = null, a.call(this);
          }
          return $a(b, a), b.prototype.next = function(a) {
            var b,
                c = a;
            return ga(this.keyFn) && (c = d(this.keyFn)(a), c === ha) ? this.o.onError(c.e) : this.hasCurrentKey && (b = d(this.comparer)(this.currentKey, c), b === ha) ? this.o.onError(b.e) : void(this.hasCurrentKey && b || (this.hasCurrentKey = !0, this.currentKey = c, this.o.onNext(a)));
          }, b.prototype.error = function(a) {
            this.o.onError(a);
          }, b.prototype.completed = function() {
            this.o.onCompleted();
          }, b;
        }(Gb);
    Fb.distinctUntilChanged = function(a, b) {
      return b || (b = ca), new Cc(this, a, b);
    };
    var Ec = function(a) {
      function b(b, c, d, e) {
        this.source = b, this._oN = c, this._oE = d, this._oC = e, a.call(this);
      }
      function c(a, b) {
        this.o = a, this.t = !b._oN || ga(b._oN) ? Eb(b._oN || _, b._oE || _, b._oC || _) : b._oN, this.isStopped = !1;
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new c(a, this));
      }, c.prototype.onNext = function(a) {
        if (!this.isStopped) {
          var b = d(this.t.onNext).call(this.t, a);
          b === ha && this.o.onError(b.e), this.o.onNext(a);
        }
      }, c.prototype.onError = function(a) {
        if (!this.isStopped) {
          this.isStopped = !0;
          var b = d(this.t.onError).call(this.t, a);
          if (b === ha)
            return this.o.onError(b.e);
          this.o.onError(a);
        }
      }, c.prototype.onCompleted = function() {
        if (!this.isStopped) {
          this.isStopped = !0;
          var a = d(this.t.onCompleted).call(this.t);
          if (a === ha)
            return this.o.onError(a.e);
          this.o.onCompleted();
        }
      }, c.prototype.dispose = function() {
        this.isStopped = !0;
      }, c.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }, b;
    }(Mb);
    Fb["do"] = Fb.tap = Fb.doAction = function(a, b, c) {
      return new Ec(this, a, b, c);
    }, Fb.doOnNext = Fb.tapOnNext = function(a, b) {
      return this.tap("undefined" != typeof b ? function(c) {
        a.call(b, c);
      } : a);
    }, Fb.doOnError = Fb.tapOnError = function(a, b) {
      return this.tap(_, "undefined" != typeof b ? function(c) {
        a.call(b, c);
      } : a);
    }, Fb.doOnCompleted = Fb.tapOnCompleted = function(a, b) {
      return this.tap(_, null, "undefined" != typeof b ? function() {
        a.call(b);
      } : a);
    }, Fb["finally"] = function(a) {
      var b = this;
      return new Kc(function(c) {
        var f = d(b.subscribe).call(b, c);
        return f === ha ? (a(), e(f.e)) : gb(function() {
          var b = d(f.dispose).call(f);
          a(), b === ha && e(b.e);
        });
      }, this);
    };
    var Fc = function(a) {
      function b(b) {
        this.source = b, a.call(this);
      }
      function c(a) {
        this.o = a, this.isStopped = !1;
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new c(a));
      }, c.prototype.onNext = _, c.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      }, c.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0, this.o.onCompleted());
      }, c.prototype.dispose = function() {
        this.isStopped = !0;
      }, c.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.observer.onError(a), !0);
      }, b;
    }(Mb);
    Fb.ignoreElements = function() {
      return new Fc(this);
    }, Fb.materialize = function() {
      var a = this;
      return new Kc(function(b) {
        return a.subscribe(function(a) {
          b.onNext(Ab(a));
        }, function(a) {
          b.onNext(Bb(a)), b.onCompleted();
        }, function() {
          b.onNext(Cb()), b.onCompleted();
        });
      }, a);
    }, Fb.repeat = function(a) {
      return Sb(this, a).concat();
    }, Fb.retry = function(a) {
      return Sb(this, a).catchError();
    }, Fb.retryWhen = function(a) {
      return Sb(this).catchErrorWhen(a);
    };
    var Gc = function(a) {
      function b(b, c, d, e) {
        this.source = b, this.accumulator = c, this.hasSeed = d, this.seed = e, a.call(this);
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new N(a, this));
      }, b;
    }(Mb);
    N.prototype = {
      onNext: function(a) {
        return this.isStopped ? void 0 : (!this.hasValue && (this.hasValue = !0), this.hasAccumulation ? this.accumulation = d(this.accumulator)(this.accumulation, a) : (this.accumulation = this.hasSeed ? d(this.accumulator)(this.seed, a) : a, this.hasAccumulation = !0), this.accumulation === ha ? this.o.onError(this.accumulation.e) : void this.o.onNext(this.accumulation));
      },
      onError: function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      },
      onCompleted: function() {
        this.isStopped || (this.isStopped = !0, !this.hasValue && this.hasSeed && this.o.onNext(this.seed), this.o.onCompleted());
      },
      dispose: function() {
        this.isStopped = !0;
      },
      fail: function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }
    }, Fb.scan = function() {
      var a,
          b = !1,
          c = arguments[0];
      return 2 === arguments.length && (b = !0, a = arguments[1]), new Gc(this, c, b, a);
    }, Fb.skipLast = function(a) {
      if (0 > a)
        throw new pa;
      var b = this;
      return new Kc(function(c) {
        var d = [];
        return b.subscribe(function(b) {
          d.push(b), d.length > a && c.onNext(d.shift());
        }, function(a) {
          c.onError(a);
        }, function() {
          c.onCompleted();
        });
      }, b);
    }, Fb.startWith = function() {
      var a,
          b = 0;
      arguments.length && qb(arguments[0]) ? (a = arguments[0], b = 1) : a = tb;
      for (var c = [],
          d = b,
          e = arguments.length; e > d; d++)
        c.push(arguments[d]);
      return Ub([ec(c, a), this]).concat();
    }, Fb.takeLast = function(a) {
      if (0 > a)
        throw new pa;
      var b = this;
      return new Kc(function(c) {
        var d = [];
        return b.subscribe(function(b) {
          d.push(b), d.length > a && d.shift();
        }, function(a) {
          c.onError(a);
        }, function() {
          for (; d.length > 0; )
            c.onNext(d.shift());
          c.onCompleted();
        });
      }, b);
    }, Fb.takeLastBuffer = function(a) {
      var b = this;
      return new Kc(function(c) {
        var d = [];
        return b.subscribe(function(b) {
          d.push(b), d.length > a && d.shift();
        }, function(a) {
          c.onError(a);
        }, function() {
          c.onNext(d), c.onCompleted();
        });
      }, b);
    }, Fb.windowWithCount = function(a, b) {
      var c = this;
      if (+a || (a = 0), Math.abs(a) === 1 / 0 && (a = 0), 0 >= a)
        throw new pa;
      if (null == b && (b = a), +b || (b = 0), Math.abs(b) === 1 / 0 && (b = 0), 0 >= b)
        throw new pa;
      return new Kc(function(d) {
        function e() {
          var a = new Nc;
          i.push(a), d.onNext(ab(a, g));
        }
        var f = new kb,
            g = new mb(f),
            h = 0,
            i = [];
        return e(), f.setDisposable(c.subscribe(function(c) {
          for (var d = 0,
              f = i.length; f > d; d++)
            i[d].onNext(c);
          var g = h - a + 1;
          g >= 0 && g % b === 0 && i.shift().onCompleted(), ++h % b === 0 && e();
        }, function(a) {
          for (; i.length > 0; )
            i.shift().onError(a);
          d.onError(a);
        }, function() {
          for (; i.length > 0; )
            i.shift().onCompleted();
          d.onCompleted();
        })), g;
      }, c);
    }, Fb.flatMapConcat = Fb.concatMap = function(a, b, c) {
      return new Nb(this, a, b, c).merge(1);
    }, Fb.concatMapObserver = Fb.selectConcatObserver = function(a, b, c, d) {
      var e = this,
          f = za(a, d, 2),
          g = za(b, d, 1),
          h = za(c, d, 0);
      return new Kc(function(a) {
        var b = 0;
        return e.subscribe(function(c) {
          var d;
          try {
            d = f(c, b++);
          } catch (e) {
            return void a.onError(e);
          }
          fa(d) && (d = Wb(d)), a.onNext(d);
        }, function(b) {
          var c;
          try {
            c = g(b);
          } catch (d) {
            return void a.onError(d);
          }
          fa(c) && (c = Wb(c)), a.onNext(c), a.onCompleted();
        }, function() {
          var b;
          try {
            b = h();
          } catch (c) {
            return void a.onError(c);
          }
          fa(b) && (b = Wb(b)), a.onNext(b), a.onCompleted();
        });
      }, this).concatAll();
    }, Fb.defaultIfEmpty = function(b) {
      var c = this;
      return b === a && (b = null), new Kc(function(a) {
        var d = !1;
        return c.subscribe(function(b) {
          d = !0, a.onNext(b);
        }, function(b) {
          a.onError(b);
        }, function() {
          !d && a.onNext(b), a.onCompleted();
        });
      }, c);
    }, P.prototype.push = function(a) {
      var b = -1 === O(this.set, a, this.comparer);
      return b && this.set.push(a), b;
    }, Fb.distinct = function(a, b) {
      var c = this;
      return b || (b = ca), new Kc(function(d) {
        var e = new P(b);
        return c.subscribe(function(b) {
          var c = b;
          if (a)
            try {
              c = a(b);
            } catch (f) {
              return void d.onError(f);
            }
          e.push(c) && d.onNext(b);
        }, function(a) {
          d.onError(a);
        }, function() {
          d.onCompleted();
        });
      }, this);
    };
    var Hc = function(a) {
      function b(b, c, d) {
        this.source = b, this.selector = za(c, d, 3), a.call(this);
      }
      function c(a, b) {
        return function(c, d, e) {
          return a.call(this, b.selector(c, d, e), d, e);
        };
      }
      function e(a, b, c) {
        this.o = a, this.selector = b, this.source = c, this.i = 0, this.isStopped = !1;
      }
      return $a(b, a), b.prototype.internalMap = function(a, d) {
        return new b(this.source, c(a, this), d);
      }, b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new e(a, this.selector, this));
      }, e.prototype.onNext = function(a) {
        if (!this.isStopped) {
          var b = d(this.selector)(a, this.i++, this.source);
          return b === ha ? this.o.onError(b.e) : void this.o.onNext(b);
        }
      }, e.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      }, e.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0, this.o.onCompleted());
      }, e.prototype.dispose = function() {
        this.isStopped = !0;
      }, e.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }, b;
    }(Mb);
    Fb.map = Fb.select = function(a, b) {
      var c = "function" == typeof a ? a : function() {
        return a;
      };
      return this instanceof Hc ? this.internalMap(c, b) : new Hc(this, c, b);
    }, Fb.pluck = function() {
      var a = arguments.length,
          b = new Array(a);
      if (0 === a)
        throw new Error("List of properties cannot be empty.");
      for (var c = 0; a > c; c++)
        b[c] = arguments[c];
      return this.map(Q(b, a));
    }, Fb.flatMap = Fb.selectMany = function(a, b, c) {
      return new Nb(this, a, b, c).mergeAll();
    }, Fb.flatMapObserver = Fb.selectManyObserver = function(a, b, c, d) {
      var e = this;
      return new Kc(function(f) {
        var g = 0;
        return e.subscribe(function(b) {
          var c;
          try {
            c = a.call(d, b, g++);
          } catch (e) {
            return void f.onError(e);
          }
          fa(c) && (c = Wb(c)), f.onNext(c);
        }, function(a) {
          var c;
          try {
            c = b.call(d, a);
          } catch (e) {
            return void f.onError(e);
          }
          fa(c) && (c = Wb(c)), f.onNext(c), f.onCompleted();
        }, function() {
          var a;
          try {
            a = c.call(d);
          } catch (b) {
            return void f.onError(b);
          }
          fa(a) && (a = Wb(a)), f.onNext(a), f.onCompleted();
        });
      }, e).mergeAll();
    }, $.Observable.prototype.flatMapLatest = function(a, b, c) {
      return new Nb(this, a, b, c).switchLatest();
    };
    var Ic = function(a) {
      function b(b, c) {
        this.source = b, this.skipCount = c, a.call(this);
      }
      function c(a, b) {
        this.c = b, this.r = b, this.o = a, this.isStopped = !1;
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new c(a, this.skipCount));
      }, c.prototype.onNext = function(a) {
        this.isStopped || (this.r <= 0 ? this.o.onNext(a) : this.r--);
      }, c.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      }, c.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0, this.o.onCompleted());
      }, c.prototype.dispose = function() {
        this.isStopped = !0;
      }, c.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }, b;
    }(Mb);
    Fb.skip = function(a) {
      if (0 > a)
        throw new pa;
      return new Ic(this, a);
    }, Fb.skipWhile = function(a, b) {
      var c = this,
          d = za(a, b, 3);
      return new Kc(function(a) {
        var b = 0,
            e = !1;
        return c.subscribe(function(f) {
          if (!e)
            try {
              e = !d(f, b++, c);
            } catch (g) {
              return void a.onError(g);
            }
          e && a.onNext(f);
        }, function(b) {
          a.onError(b);
        }, function() {
          a.onCompleted();
        });
      }, c);
    }, Fb.take = function(a, b) {
      if (0 > a)
        throw new pa;
      if (0 === a)
        return $b(b);
      var c = this;
      return new Kc(function(b) {
        var d = a;
        return c.subscribe(function(a) {
          d-- > 0 && (b.onNext(a), 0 >= d && b.onCompleted());
        }, function(a) {
          b.onError(a);
        }, function() {
          b.onCompleted();
        });
      }, c);
    }, Fb.takeWhile = function(a, b) {
      var c = this,
          d = za(a, b, 3);
      return new Kc(function(a) {
        var b = 0,
            e = !0;
        return c.subscribe(function(f) {
          if (e) {
            try {
              e = d(f, b++, c);
            } catch (g) {
              return void a.onError(g);
            }
            e ? a.onNext(f) : a.onCompleted();
          }
        }, function(b) {
          a.onError(b);
        }, function() {
          a.onCompleted();
        });
      }, c);
    };
    var Jc = function(a) {
      function b(b, c, d) {
        this.source = b, this.predicate = za(c, d, 3), a.call(this);
      }
      function c(a, b) {
        return function(c, d, e) {
          return b.predicate(c, d, e) && a.call(this, c, d, e);
        };
      }
      function e(a, b, c) {
        this.o = a, this.predicate = b, this.source = c, this.i = 0, this.isStopped = !1;
      }
      return $a(b, a), b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new e(a, this.predicate, this));
      }, b.prototype.internalFilter = function(a, d) {
        return new b(this.source, c(a, this), d);
      }, e.prototype.onNext = function(a) {
        if (!this.isStopped) {
          var b = d(this.predicate)(a, this.i++, this.source);
          return b === ha ? this.o.onError(b.e) : void(b && this.o.onNext(a));
        }
      }, e.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      }, e.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0, this.o.onCompleted());
      }, e.prototype.dispose = function() {
        this.isStopped = !0;
      }, e.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }, b;
    }(Mb);
    Fb.filter = Fb.where = function(a, b) {
      return this instanceof Jc ? this.internalFilter(a, b) : new Jc(this, a, b);
    }, Fb.transduce = function(a) {
      function b(a) {
        return {
          "@@transducer/init": function() {
            return a;
          },
          "@@transducer/step": function(a, b) {
            return a.onNext(b);
          },
          "@@transducer/result": function(a) {
            return a.onCompleted();
          }
        };
      }
      var c = this;
      return new Kc(function(e) {
        var f = a(b(e));
        return c.subscribe(function(a) {
          var b = d(f["@@transducer/step"]).call(f, e, a);
          b === ha && e.onError(b.e);
        }, function(a) {
          e.onError(a);
        }, function() {
          f["@@transducer/result"](e);
        });
      }, c);
    };
    var Kc = $.AnonymousObservable = function(a) {
      function b(a) {
        return a && ga(a.dispose) ? a : ga(a) ? gb(a) : hb;
      }
      function c(a, c) {
        var f = c[0],
            g = c[1],
            h = d(g.__subscribe).call(g, f);
        return h !== ha || f.fail(ha.e) ? void f.setDisposable(b(h)) : e(ha.e);
      }
      function f(a) {
        var b = new Lc(a),
            d = [b, this];
        return ub.scheduleRequired() ? ub.scheduleWithState(d, c) : c(null, d), b;
      }
      function g(b, c) {
        this.source = c, this.__subscribe = b, a.call(this, f);
      }
      return $a(g, a), g;
    }(Lb),
        Lc = function(a) {
          function b(b) {
            a.call(this), this.observer = b, this.m = new kb;
          }
          $a(b, a);
          var c = b.prototype;
          return c.next = function(a) {
            var b = d(this.observer.onNext).call(this.observer, a);
            b === ha && (this.dispose(), e(b.e));
          }, c.error = function(a) {
            var b = d(this.observer.onError).call(this.observer, a);
            this.dispose(), b === ha && e(b.e);
          }, c.completed = function() {
            var a = d(this.observer.onCompleted).call(this.observer);
            this.dispose(), a === ha && e(a.e);
          }, c.setDisposable = function(a) {
            this.m.setDisposable(a);
          }, c.getDisposable = function() {
            return this.m.getDisposable();
          }, c.dispose = function() {
            a.prototype.dispose.call(this), this.m.dispose();
          }, b;
        }(Gb),
        Mc = function(a, b) {
          this.subject = a, this.observer = b;
        };
    Mc.prototype.dispose = function() {
      if (!this.subject.isDisposed && null !== this.observer) {
        var a = this.subject.observers.indexOf(this.observer);
        this.subject.observers.splice(a, 1), this.observer = null;
      }
    };
    var Nc = $.Subject = function(a) {
      function c(a) {
        return jb(this), this.isStopped ? this.hasError ? (a.onError(this.error), hb) : (a.onCompleted(), hb) : (this.observers.push(a), new Mc(this, a));
      }
      function d() {
        a.call(this, c), this.isDisposed = !1, this.isStopped = !1, this.observers = [], this.hasError = !1;
      }
      return $a(d, a), _a(d.prototype, Db.prototype, {
        hasObservers: function() {
          return this.observers.length > 0;
        },
        onCompleted: function() {
          if (jb(this), !this.isStopped) {
            this.isStopped = !0;
            for (var a = 0,
                c = b(this.observers),
                d = c.length; d > a; a++)
              c[a].onCompleted();
            this.observers.length = 0;
          }
        },
        onError: function(a) {
          if (jb(this), !this.isStopped) {
            this.isStopped = !0, this.error = a, this.hasError = !0;
            for (var c = 0,
                d = b(this.observers),
                e = d.length; e > c; c++)
              d[c].onError(a);
            this.observers.length = 0;
          }
        },
        onNext: function(a) {
          if (jb(this), !this.isStopped)
            for (var c = 0,
                d = b(this.observers),
                e = d.length; e > c; c++)
              d[c].onNext(a);
        },
        dispose: function() {
          this.isDisposed = !0, this.observers = null;
        }
      }), d.create = function(a, b) {
        return new Oc(a, b);
      }, d;
    }(Lb),
        Oc = ($.AsyncSubject = function(a) {
          function c(a) {
            return jb(this), this.isStopped ? (this.hasError ? a.onError(this.error) : this.hasValue ? (a.onNext(this.value), a.onCompleted()) : a.onCompleted(), hb) : (this.observers.push(a), new Mc(this, a));
          }
          function d() {
            a.call(this, c), this.isDisposed = !1, this.isStopped = !1, this.hasValue = !1, this.observers = [], this.hasError = !1;
          }
          return $a(d, a), _a(d.prototype, Db, {
            hasObservers: function() {
              return jb(this), this.observers.length > 0;
            },
            onCompleted: function() {
              var a,
                  c;
              if (jb(this), !this.isStopped) {
                this.isStopped = !0;
                var d = b(this.observers),
                    c = d.length;
                if (this.hasValue)
                  for (a = 0; c > a; a++) {
                    var e = d[a];
                    e.onNext(this.value), e.onCompleted();
                  }
                else
                  for (a = 0; c > a; a++)
                    d[a].onCompleted();
                this.observers.length = 0;
              }
            },
            onError: function(a) {
              if (jb(this), !this.isStopped) {
                this.isStopped = !0, this.hasError = !0, this.error = a;
                for (var c = 0,
                    d = b(this.observers),
                    e = d.length; e > c; c++)
                  d[c].onError(a);
                this.observers.length = 0;
              }
            },
            onNext: function(a) {
              jb(this), this.isStopped || (this.value = a, this.hasValue = !0);
            },
            dispose: function() {
              this.isDisposed = !0, this.observers = null, this.exception = null, this.value = null;
            }
          }), d;
        }(Lb), $.AnonymousSubject = function(a) {
          function b(a) {
            return this.observable.subscribe(a);
          }
          function c(c, d) {
            this.observer = c, this.observable = d, a.call(this, b);
          }
          return $a(c, a), _a(c.prototype, Db.prototype, {
            onCompleted: function() {
              this.observer.onCompleted();
            },
            onError: function(a) {
              this.observer.onError(a);
            },
            onNext: function(a) {
              this.observer.onNext(a);
            }
          }), c;
        }(Lb));
    "function" == typeof define && "object" == typeof define.amd && define.amd ? (Z.Rx = $, define(function() {
      return $;
    })) : T && W ? X ? (W.exports = $).Rx = $ : T.Rx = $ : Z.Rx = $;
    var Pc = j();
  }).call(this);
})(require("process"));
