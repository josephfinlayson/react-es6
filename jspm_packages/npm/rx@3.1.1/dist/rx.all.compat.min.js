/* */ 
"format cjs";
(function(process) {
  (function(a) {
    function b(a) {
      for (var b = a.length,
          c = new Array(b),
          d = 0; b > d; d++)
        c[d] = a[d];
      return c;
    }
    function c() {
      try {
        return Aa.apply(this, arguments);
      } catch (a) {
        return Sa.e = a, Sa;
      }
    }
    function d(a) {
      if (!Ra(a))
        throw new TypeError("fn must be a function");
      return Aa = a, c;
    }
    function e(a) {
      throw a;
    }
    function f(a, b) {
      if (Ta && b.stack && "object" == typeof a && null !== a && a.stack && -1 === a.stack.indexOf(Xa)) {
        for (var c = [],
            d = b; d; d = d.source)
          d.stack && c.unshift(d.stack);
        c.unshift(a.stack);
        var e = c.join("\n" + Xa + "\n");
        a.stack = g(e);
      }
    }
    function g(a) {
      for (var b = a.split("\n"),
          c = [],
          d = 0,
          e = b.length; e > d; d++) {
        var f = b[d];
        h(f) || i(f) || !f || c.push(f);
      }
      return c.join("\n");
    }
    function h(a) {
      var b = k(a);
      if (!b)
        return !1;
      var c = b[0],
          d = b[1];
      return c === Va && d >= Wa && be >= d;
    }
    function i(a) {
      return -1 !== a.indexOf("(module.js:") || -1 !== a.indexOf("(node.js:");
    }
    function j() {
      if (Ta)
        try {
          throw new Error;
        } catch (a) {
          var b = a.stack.split("\n"),
              c = b[0].indexOf("@") > 0 ? b[1] : b[2],
              d = k(c);
          if (!d)
            return;
          return Va = d[0], d[1];
        }
    }
    function k(a) {
      var b = /at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);
      if (b)
        return [b[1], Number(b[2])];
      var c = /at ([^ ]+):(\d+):(?:\d+)$/.exec(a);
      if (c)
        return [c[1], Number(c[2])];
      var d = /.*@(.+):(\d+)$/.exec(a);
      return d ? [d[1], Number(d[2])] : void 0;
    }
    function l(a) {
      var b = [];
      if (!Fb(a))
        return b;
      Eb.nonEnumArgs && a.length && Gb(a) && (a = Ib.call(a));
      var c = Eb.enumPrototypes && "function" == typeof a,
          d = Eb.enumErrorProps && (a === yb || a instanceof Error);
      for (var e in a)
        c && "prototype" == e || d && ("message" == e || "name" == e) || b.push(e);
      if (Eb.nonEnumShadows && a !== zb) {
        var f = a.constructor,
            g = -1,
            h = kb;
        if (a === (f && f.prototype))
          var i = a === Ab ? ub : a === yb ? pb : vb.call(a),
              j = Db[i];
        for (; ++g < h; )
          e = jb[g], j && j[e] || !wb.call(a, e) || b.push(e);
      }
      return b;
    }
    function m(a, b, c) {
      for (var d = -1,
          e = c(a),
          f = e.length; ++d < f; ) {
        var g = e[d];
        if (b(a[g], g, a) === !1)
          break;
      }
      return a;
    }
    function n(a, b) {
      return m(a, b, l);
    }
    function o(a) {
      return "function" != typeof a.toString && "string" == typeof(a + "");
    }
    function p(a, b, c, d) {
      if (a === b)
        return 0 !== a || 1 / a == 1 / b;
      var e = typeof a,
          f = typeof b;
      if (a === a && (null == a || null == b || "function" != e && "object" != e && "function" != f && "object" != f))
        return !1;
      var g = vb.call(a),
          h = vb.call(b);
      if (g == lb && (g = sb), h == lb && (h = sb), g != h)
        return !1;
      switch (g) {
        case nb:
        case ob:
          return +a == +b;
        case rb:
          return a != +a ? b != +b : 0 == a ? 1 / a == 1 / b : a == +b;
        case tb:
        case ub:
          return a == String(b);
      }
      var i = g == mb;
      if (!i) {
        if (g != sb || !Eb.nodeClass && (o(a) || o(b)))
          return !1;
        var j = !Eb.argsObject && Gb(a) ? Object : a.constructor,
            k = !Eb.argsObject && Gb(b) ? Object : b.constructor;
        if (!(j == k || wb.call(a, "constructor") && wb.call(b, "constructor") || Ra(j) && j instanceof j && Ra(k) && k instanceof k || !("constructor" in a && "constructor" in b)))
          return !1;
      }
      c || (c = []), d || (d = []);
      for (var l = c.length; l--; )
        if (c[l] == a)
          return d[l] == b;
      var m = 0,
          q = !0;
      if (c.push(a), d.push(b), i) {
        if (l = a.length, m = b.length, q = m == l)
          for (; m--; ) {
            var r = b[m];
            if (!(q = p(a[m], r, c, d)))
              break;
          }
      } else
        n(b, function(b, e, f) {
          return wb.call(f, e) ? (m++, q = wb.call(a, e) && p(a[e], b, c, d)) : void 0;
        }), q && n(a, function(a, b, c) {
          return wb.call(c, b) ? q = --m > -1 : void 0;
        });
      return c.pop(), d.pop(), q;
    }
    function q(a, b) {
      for (var c = new Array(a),
          d = 0; a > d; d++)
        c[d] = b();
      return c;
    }
    function r(a, b) {
      this.id = a, this.value = b;
    }
    function s(a, b) {
      this.scheduler = a, this.disposable = b, this.isDisposed = !1;
    }
    function t(a, b) {
      b.isDisposed || (b.isDisposed = !0, b.disposable.dispose());
    }
    function u(a) {
      this._s = a;
    }
    function v(a) {
      this._s = a, this._l = a.length, this._i = 0;
    }
    function w(a) {
      this._a = a;
    }
    function x(a) {
      this._a = a, this._l = B(a), this._i = 0;
    }
    function y(a) {
      return "number" == typeof a && Ia.isFinite(a);
    }
    function z(b) {
      var c,
          d = b[db];
      if (!d && "string" == typeof b)
        return c = new u(b), c[db]();
      if (!d && b.length !== a)
        return c = new w(b), c[db]();
      if (!d)
        throw new TypeError("Object is not iterable");
      return b[db]();
    }
    function A(a) {
      var b = +a;
      return 0 === b ? b : isNaN(b) ? b : 0 > b ? -1 : 1;
    }
    function B(a) {
      var b = +a.length;
      return isNaN(b) ? 0 : 0 !== b && y(b) ? (b = A(b) * Math.floor(Math.abs(b)), 0 >= b ? 0 : b > Rc ? Rc : b) : b;
    }
    function C(a, b) {
      this.observer = a, this.parent = b;
    }
    function D(a, b) {
      return bc(a) || (a = gc), new Tc(b, a);
    }
    function E(a, b) {
      this.observer = a, this.parent = b;
    }
    function F(a, b) {
      this.observer = a, this.parent = b;
    }
    function G(a, b) {
      return a.amb(b);
    }
    function H(a, b) {
      return new Xd(function(c) {
        var d = new Xb,
            e = new Yb;
        return e.setDisposable(d), d.setDisposable(a.subscribe(new dd(c, e, b))), e;
      }, a);
    }
    function I() {
      return !1;
    }
    function J() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      return b;
    }
    function I() {
      return !1;
    }
    function I() {
      return !1;
    }
    function K() {
      return [];
    }
    function J() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      return b;
    }
    function I() {
      return !1;
    }
    function K() {
      return [];
    }
    function J() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      return b;
    }
    function L(a) {
      return function(b) {
        return a.subscribe(b);
      };
    }
    function M(a) {
      return a.toArray();
    }
    function N(a) {
      return a.length > 0;
    }
    function O(a, b) {
      this.o = a, this.accumulator = b.accumulator, this.hasSeed = b.hasSeed, this.seed = b.seed, this.hasAccumulation = !1, this.accumulation = null, this.hasValue = !1, this.isStopped = !1;
    }
    function P(a, b, c) {
      for (var d = 0,
          e = a.length; e > d; d++)
        if (c(a[d], b))
          return d;
      return -1;
    }
    function Q(a) {
      this.comparer = a, this.set = [];
    }
    function R(b, c) {
      return function(d) {
        for (var e = d,
            f = 0; c > f; f++) {
          var g = e[b[f]];
          if ("undefined" == typeof g)
            return a;
          e = g;
        }
        return e;
      };
    }
    function S(a, b, c) {
      return new Xd(function(d) {
        var e = !1,
            f = null,
            g = [];
        return a.subscribe(function(a) {
          var h,
              i;
          try {
            i = b(a);
          } catch (j) {
            return void d.onError(j);
          }
          if (h = 0, e)
            try {
              h = c(i, f);
            } catch (k) {
              return void d.onError(k);
            }
          else
            e = !0, f = i;
          h > 0 && (f = i, g = []), h >= 0 && g.push(a);
        }, function(a) {
          d.onError(a);
        }, function() {
          d.onNext(g), d.onCompleted();
        });
      }, a);
    }
    function T(a) {
      if (0 === a.length)
        throw new Ya;
      return a[0];
    }
    function U(b, c, d, e) {
      var f = ib(c, d, 3);
      return new Xd(function(c) {
        var d = 0;
        return b.subscribe(function(a) {
          var g;
          try {
            g = f(a, d, b);
          } catch (h) {
            return void c.onError(h);
          }
          g ? (c.onNext(e ? d : a), c.onCompleted()) : d++;
        }, function(a) {
          c.onError(a);
        }, function() {
          c.onNext(e ? -1 : a), c.onCompleted();
        });
      }, b);
    }
    function V(a) {
      return a ? yc.isObservable(a) ? a : Qa(a) ? yc.fromPromise(a) : $(a) || Z(a) ? Ed.call(this, a) : Ra(a) ? Y.call(this, a) : gb(a) || fb(a) ? W.call(this, a) : Fb(a) ? X.call(this, a) : a : a;
    }
    function W(a) {
      return yc.from(a).flatMap(V).toArray();
    }
    function X(b) {
      function c(b, c) {
        d[c] = a, f.push(b.map(function(a) {
          d[c] = a;
        }));
      }
      for (var d = new b.constructor,
          e = Object.keys(b),
          f = [],
          g = 0,
          h = e.length; h > g; g++) {
        var i = e[g],
            j = V.call(this, b[i]);
        j && yc.isObservable(j) ? c(j, i) : d[i] = b[i];
      }
      return yc.forkJoin.apply(yc, f).map(function() {
        return d;
      });
    }
    function Y(a) {
      var b = this;
      return new Xd(function(c) {
        a.call(b, function() {
          var a = arguments[0],
              b = arguments[1];
          if (a)
            return c.onError(a);
          if (arguments.length > 2) {
            for (var d = [],
                e = 1,
                f = arguments.length; f > e; e++)
              d.push(arguments[e]);
            b = d;
          }
          c.onNext(b), c.onCompleted();
        });
      });
    }
    function Z(a) {
      return Ra(a.next) && Ra(a["throw"]);
    }
    function $(a) {
      var b = a.constructor;
      return b ? "GeneratorFunction" === b.name || "GeneratorFunction" === b.displayName ? !0 : Z(b.prototype) : !1;
    }
    function _(a, b, c, d) {
      var e = new _d;
      return d.push(aa(e, b, c)), a.apply(b, d), e.asObservable();
    }
    function aa(a, b, c) {
      return function() {
        for (var e = arguments.length,
            f = new Array(e),
            g = 0; e > g; g++)
          f[g] = arguments[g];
        if (Ra(c)) {
          if (f = d(c).apply(b, f), f === Sa)
            return a.onError(f.e);
          a.onNext(f);
        } else
          f.length <= 1 ? a.onNext(f[0]) : a.onNext(f);
        a.onCompleted();
      };
    }
    function ba(a, b, c, d) {
      var e = new _d;
      return d.push(ca(e, b, c)), a.apply(b, d), e.asObservable();
    }
    function ca(a, b, c) {
      return function() {
        var e = arguments[0];
        if (e)
          return a.onError(e);
        for (var f = arguments.length,
            g = [],
            h = 1; f > h; h++)
          g[h - 1] = arguments[h];
        if (Ra(c)) {
          var g = d(c).apply(b, g);
          if (g === Sa)
            return a.onError(g.e);
          a.onNext(g);
        } else
          g.length <= 1 ? a.onNext(g[0]) : a.onNext(g);
        a.onCompleted();
      };
    }
    function da(a) {
      return window.StaticNodeList ? a instanceof window.StaticNodeList || a instanceof window.NodeList : "[object NodeList]" == Object.prototype.toString.call(a);
    }
    function ea(a) {
      var b = function() {
        this.cancelBubble = !0;
      },
          c = function() {
            if (this.bubbledKeyCode = this.keyCode, this.ctrlKey)
              try {
                this.keyCode = 0;
              } catch (a) {}
            this.defaultPrevented = !0, this.returnValue = !1, this.modified = !0;
          };
      if (a || (a = Ia.event), !a.target)
        switch (a.target = a.target || a.srcElement, "mouseover" == a.type && (a.relatedTarget = a.fromElement), "mouseout" == a.type && (a.relatedTarget = a.toElement), a.stopPropagation || (a.stopPropagation = b, a.preventDefault = c), a.type) {
          case "keypress":
            var d = "charCode" in a ? a.charCode : a.keyCode;
            10 == d ? (d = 0, a.keyCode = 13) : 13 == d || 27 == d ? d = 0 : 3 == d && (d = 99), a.charCode = d, a.keyChar = a.charCode ? String.fromCharCode(a.charCode) : "";
        }
      return a;
    }
    function fa(a, b, c) {
      this._e = a, this._n = b, this._fn = c, this._e.addEventListener(this._n, this._fn, !1), this.isDisposed = !1;
    }
    function ga(a, b, c) {
      this._e = a, this._n = "on" + b, this._fn = function(a) {
        c(ea(a));
      }, this._e.attachEvent(this._n, this._fn), this.isDisposed = !1;
    }
    function ha(a, b, c) {
      this._e = a, this._n = "on" + b, this._e[this._n] = c, this.isDisposed = !1;
    }
    function ia(a, b, c) {
      return a.addEventListener ? new fa(a, b, c) : a.attachEvent ? new ga(a, b, c) : ha(a, b, c);
    }
    function ja(a, b, c) {
      var d = new Qb;
      if (da(a) || "[object HTMLCollection]" === Object.prototype.toString.call(a))
        for (var e = 0,
            f = a.length; f > e; e++)
          d.add(ja(a.item(e), b, c));
      else
        a && d.add(ia(a, b, c));
      return d;
    }
    function ka(a, b, c) {
      return new Xd(function(e) {
        function f(a, b) {
          if (k[b] = a, h[b] = !0, i || (i = h.every(La))) {
            if (g)
              return e.onError(g);
            var f = d(c).apply(null, k);
            if (f === Sa)
              return e.onError(f.e);
            e.onNext(f);
          }
          j && k[1] && e.onCompleted();
        }
        var g,
            h = [!1, !1],
            i = !1,
            j = !1,
            k = new Array(2);
        return new Qb(a.subscribe(function(a) {
          f(a, 0);
        }, function(a) {
          k[1] ? e.onError(a) : g = a;
        }, function() {
          j = !0, k[1] && e.onCompleted();
        }), b.subscribe(function(a) {
          f(a, 1);
        }, function(a) {
          e.onError(a);
        }, function() {
          j = !0, f(!0, 1);
        }));
      }, a);
    }
    function M(a) {
      return a.toArray();
    }
    function la(a, b) {
      return a.groupJoin(this, b, Oc, function(a, b) {
        return b;
      });
    }
    function ma(a) {
      var b = this;
      return new Xd(function(c) {
        var d = new $d,
            e = new Qb,
            f = new Zb(e);
        return c.onNext(Lb(d, f)), e.add(b.subscribe(function(a) {
          d.onNext(a);
        }, function(a) {
          d.onError(a), c.onError(a);
        }, function() {
          d.onCompleted(), c.onCompleted();
        })), Qa(a) && (a = Jc(a)), e.add(a.subscribe(function(a) {
          d.onCompleted(), d = new $d, c.onNext(Lb(d, f));
        }, function(a) {
          d.onError(a), c.onError(a);
        }, function() {
          d.onCompleted(), c.onCompleted();
        })), f;
      }, b);
    }
    function na(a) {
      var b = this;
      return new Xd(function(c) {
        function d() {
          var b;
          try {
            b = a();
          } catch (f) {
            return void c.onError(f);
          }
          Qa(b) && (b = Jc(b));
          var i = new Xb;
          e.setDisposable(i), i.setDisposable(b.take(1).subscribe(Ka, function(a) {
            h.onError(a), c.onError(a);
          }, function() {
            h.onCompleted(), h = new $d, c.onNext(Lb(h, g)), d();
          }));
        }
        var e = new Yb,
            f = new Qb(e),
            g = new Zb(f),
            h = new $d;
        return c.onNext(Lb(h, g)), f.add(b.subscribe(function(a) {
          h.onNext(a);
        }, function(a) {
          h.onError(a), c.onError(a);
        }, function() {
          h.onCompleted(), c.onCompleted();
        })), d(), g;
      }, b);
    }
    function oa(a, b) {
      return new Rd(a, b);
    }
    function pa(a) {
      this.patterns = a;
    }
    function qa(a, b) {
      this.expression = a, this.selector = b;
    }
    function ra(a, b, c) {
      var d = a.get(b);
      if (!d) {
        var e = new Vd(b, c);
        return a.set(b, e), e;
      }
      return d;
    }
    function sa(a, b, c) {
      this.joinObserverArray = a, this.onNext = b, this.onCompleted = c, this.joinObservers = new Ud;
      for (var d = 0,
          e = this.joinObserverArray.length; e > d; d++) {
        var f = this.joinObserverArray[d];
        this.joinObservers.set(f, f);
      }
    }
    function ta(a, b) {
      return new Xd(function(c) {
        return b.scheduleWithAbsolute(a, function() {
          c.onNext(0), c.onCompleted();
        });
      });
    }
    function ua(a, b, c) {
      return new Xd(function(d) {
        var e = a,
            f = ac(b);
        return c.scheduleRecursiveWithAbsoluteAndState(0, e, function(a, b) {
          if (f > 0) {
            var g = c.now();
            e += f, g >= e && (e = g + f);
          }
          d.onNext(a), b(a + 1, e);
        });
      });
    }
    function va(a, b) {
      return new Xd(function(c) {
        return b.scheduleWithRelative(ac(a), function() {
          c.onNext(0), c.onCompleted();
        });
      });
    }
    function wa(a, b, c) {
      return a === b ? new Xd(function(a) {
        return c.schedulePeriodicWithState(0, b, function(b) {
          return a.onNext(b), b + 1;
        });
      }) : Lc(function() {
        return ua(c.now() + a, b, c);
      });
    }
    function xa(a, b, c) {
      return new Xd(function(d) {
        var e,
            f = !1,
            g = new Yb,
            h = null,
            i = [],
            j = !1;
        return e = a.materialize().timestamp(c).subscribe(function(a) {
          var e,
              k;
          "E" === a.value.kind ? (i = [], i.push(a), h = a.value.exception, k = !j) : (i.push({
            value: a.value,
            timestamp: a.timestamp + b
          }), k = !f, f = !0), k && (null !== h ? d.onError(h) : (e = new Xb, g.setDisposable(e), e.setDisposable(c.scheduleRecursiveWithRelative(b, function(a) {
            var b,
                e,
                g,
                k;
            if (null === h) {
              j = !0;
              do
                g = null, i.length > 0 && i[0].timestamp - c.now() <= 0 && (g = i.shift().value), null !== g && g.accept(d);
 while (null !== g);
              k = !1, e = 0, i.length > 0 ? (k = !0, e = Math.max(0, i[0].timestamp - c.now())) : f = !1, b = h, j = !1, null !== b ? d.onError(b) : k && a(e);
            }
          }))));
        }), new Qb(e, g);
      }, a);
    }
    function ya(a, b, c) {
      return Lc(function() {
        return xa(a, b - c.now(), c);
      });
    }
    function M(a) {
      return a.toArray();
    }
    function M(a) {
      return a.toArray();
    }
    function za(a, b) {
      return new Xd(function(c) {
        function d() {
          g && (g = !1, c.onNext(e)), f && c.onCompleted();
        }
        var e,
            f = !1,
            g = !1,
            h = new Xb;
        return h.setDisposable(a.subscribe(function(a) {
          g = !0, e = a;
        }, function(a) {
          c.onError(a);
        }, function() {
          f = !0, h.dispose();
        })), new Qb(h, b.subscribe(d, function(a) {
          c.onError(a);
        }, d));
      }, a);
    }
    var Aa,
        Ba = {
          "function": !0,
          object: !0
        },
        Ca = Ba[typeof exports] && exports && !exports.nodeType && exports,
        Da = Ba[typeof self] && self.Object && self,
        Ea = Ba[typeof window] && window && window.Object && window,
        Fa = Ba[typeof module] && module && !module.nodeType && module,
        Ga = Fa && Fa.exports === Ca && Ca,
        Ha = Ca && Fa && "object" == typeof global && global && global.Object && global,
        Ia = Ia = Ha || Ea !== (this && this.window) && Ea || Da || this,
        Ja = {
          internals: {},
          config: {Promise: Ia.Promise},
          helpers: {}
        },
        Ka = Ja.helpers.noop = function() {},
        La = Ja.helpers.identity = function(a) {
          return a;
        },
        Ma = Ja.helpers.defaultNow = function() {
          return Date.now ? Date.now : function() {
            return +new Date;
          };
        }(),
        Na = Ja.helpers.defaultComparer = function(a, b) {
          return Hb(a, b);
        },
        Oa = Ja.helpers.defaultSubComparer = function(a, b) {
          return a > b ? 1 : b > a ? -1 : 0;
        },
        Pa = (Ja.helpers.defaultKeySerializer = function(a) {
          return a.toString();
        }, Ja.helpers.defaultError = function(a) {
          throw a;
        }),
        Qa = Ja.helpers.isPromise = function(a) {
          return !!a && "function" != typeof a.subscribe && "function" == typeof a.then;
        },
        Ra = Ja.helpers.isFunction = function() {
          var a = function(a) {
            return "function" == typeof a || !1;
          };
          return a(/x/) && (a = function(a) {
            return "function" == typeof a && "[object Function]" == vb.call(a);
          }), a;
        }(),
        Sa = {e: {}};
    Ja.config.longStackSupport = !1;
    var Ta = !1,
        Ua = d(function() {
          throw new Error;
        })();
    Ta = !!Ua.e && !!Ua.e.stack;
    var Va,
        Wa = j(),
        Xa = "From previous event:",
        Ya = Ja.EmptyError = function() {
          this.message = "Sequence contains no elements.", this.name = "EmptyError", Error.call(this);
        };
    Ya.prototype = Error.prototype;
    var Za = Ja.ObjectDisposedError = function() {
      this.message = "Object has been disposed", this.name = "ObjectDisposedError", Error.call(this);
    };
    Za.prototype = Error.prototype;
    var $a = Ja.ArgumentOutOfRangeError = function() {
      this.message = "Argument out of range", this.name = "ArgumentOutOfRangeError", Error.call(this);
    };
    $a.prototype = Error.prototype;
    var _a = Ja.NotSupportedError = function(a) {
      this.message = a || "This operation is not supported", this.name = "NotSupportedError", Error.call(this);
    };
    _a.prototype = Error.prototype;
    var ab = Ja.NotImplementedError = function(a) {
      this.message = a || "This operation is not implemented", this.name = "NotImplementedError", Error.call(this);
    };
    ab.prototype = Error.prototype;
    var bb = Ja.helpers.notImplemented = function() {
      throw new ab;
    },
        cb = Ja.helpers.notSupported = function() {
          throw new _a;
        },
        db = "function" == typeof Symbol && Symbol.iterator || "_es6shim_iterator_";
    Ia.Set && "function" == typeof(new Ia.Set)["@@iterator"] && (db = "@@iterator");
    var eb = Ja.doneEnumerator = {
      done: !0,
      value: a
    },
        fb = Ja.helpers.isIterable = function(b) {
          return b[db] !== a;
        },
        gb = Ja.helpers.isArrayLike = function(b) {
          return b && b.length !== a;
        };
    Ja.helpers.iterator = db;
    var hb,
        ib = Ja.internals.bindCallback = function(a, b, c) {
          if ("undefined" == typeof b)
            return a;
          switch (c) {
            case 0:
              return function() {
                return a.call(b);
              };
            case 1:
              return function(c) {
                return a.call(b, c);
              };
            case 2:
              return function(c, d) {
                return a.call(b, c, d);
              };
            case 3:
              return function(c, d, e) {
                return a.call(b, c, d, e);
              };
          }
          return function() {
            return a.apply(b, arguments);
          };
        },
        jb = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"],
        kb = jb.length,
        lb = "[object Arguments]",
        mb = "[object Array]",
        nb = "[object Boolean]",
        ob = "[object Date]",
        pb = "[object Error]",
        qb = "[object Function]",
        rb = "[object Number]",
        sb = "[object Object]",
        tb = "[object RegExp]",
        ub = "[object String]",
        vb = Object.prototype.toString,
        wb = Object.prototype.hasOwnProperty,
        xb = vb.call(arguments) == lb,
        yb = Error.prototype,
        zb = Object.prototype,
        Ab = String.prototype,
        Bb = zb.propertyIsEnumerable;
    try {
      hb = !(vb.call(document) == sb && !({toString: 0} + ""));
    } catch (Cb) {
      hb = !0;
    }
    var Db = {};
    Db[mb] = Db[ob] = Db[rb] = {
      constructor: !0,
      toLocaleString: !0,
      toString: !0,
      valueOf: !0
    }, Db[nb] = Db[ub] = {
      constructor: !0,
      toString: !0,
      valueOf: !0
    }, Db[pb] = Db[qb] = Db[tb] = {
      constructor: !0,
      toString: !0
    }, Db[sb] = {constructor: !0};
    var Eb = {};
    !function() {
      var a = function() {
        this.x = 1;
      },
          b = [];
      a.prototype = {
        valueOf: 1,
        y: 1
      };
      for (var c in new a)
        b.push(c);
      for (c in arguments)
        ;
      Eb.enumErrorProps = Bb.call(yb, "message") || Bb.call(yb, "name"), Eb.enumPrototypes = Bb.call(a, "prototype"), Eb.nonEnumArgs = 0 != c, Eb.nonEnumShadows = !/valueOf/.test(b);
    }(1);
    var Fb = Ja.internals.isObject = function(a) {
      var b = typeof a;
      return a && ("function" == b || "object" == b) || !1;
    },
        Gb = function(a) {
          return a && "object" == typeof a ? vb.call(a) == lb : !1;
        };
    xb || (Gb = function(a) {
      return a && "object" == typeof a ? wb.call(a, "callee") : !1;
    });
    var Hb = Ja.internals.isEqual = function(a, b) {
      return p(a, b, [], []);
    },
        Ib = ({}.hasOwnProperty, Array.prototype.slice),
        Jb = Ja.internals.inherits = function(a, b) {
          function c() {
            this.constructor = a;
          }
          c.prototype = b.prototype, a.prototype = new c;
        },
        Kb = Ja.internals.addProperties = function(a) {
          for (var b = [],
              c = 1,
              d = arguments.length; d > c; c++)
            b.push(arguments[c]);
          for (var e = 0,
              f = b.length; f > e; e++) {
            var g = b[e];
            for (var h in g)
              a[h] = g[h];
          }
        },
        Lb = Ja.internals.addRef = function(a, b) {
          return new Xd(function(c) {
            return new Qb(b.getDisposable(), a.subscribe(c));
          });
        };
    Function.prototype.bind || (Function.prototype.bind = function(a) {
      var b = this,
          c = Ib.call(arguments, 1),
          d = function() {
            function e() {}
            if (this instanceof d) {
              e.prototype = b.prototype;
              var f = new e,
                  g = b.apply(f, c.concat(Ib.call(arguments)));
              return Object(g) === g ? g : f;
            }
            return b.apply(a, c.concat(Ib.call(arguments)));
          };
      return d;
    }), Array.prototype.forEach || (Array.prototype.forEach = function(a, b) {
      var c,
          d;
      if (null == this)
        throw new TypeError(" this is null or not defined");
      var e = Object(this),
          f = e.length >>> 0;
      if ("function" != typeof a)
        throw new TypeError(a + " is not a function");
      for (arguments.length > 1 && (c = b), d = 0; f > d; ) {
        var g;
        d in e && (g = e[d], a.call(c, g, d, e)), d++;
      }
    });
    var Mb = Object("a"),
        Nb = "a" != Mb[0] || !(0 in Mb);
    Array.prototype.every || (Array.prototype.every = function(a) {
      var b = Object(this),
          c = Nb && {}.toString.call(this) == ub ? this.split("") : b,
          d = c.length >>> 0,
          e = arguments[1];
      if ({}.toString.call(a) != qb)
        throw new TypeError(a + " is not a function");
      for (var f = 0; d > f; f++)
        if (f in c && !a.call(e, c[f], f, b))
          return !1;
      return !0;
    }), Array.prototype.map || (Array.prototype.map = function(a) {
      var b = Object(this),
          c = Nb && {}.toString.call(this) == ub ? this.split("") : b,
          d = c.length >>> 0,
          e = Array(d),
          f = arguments[1];
      if ({}.toString.call(a) != qb)
        throw new TypeError(a + " is not a function");
      for (var g = 0; d > g; g++)
        g in c && (e[g] = a.call(f, c[g], g, b));
      return e;
    }), Array.prototype.filter || (Array.prototype.filter = function(a) {
      for (var b,
          c = [],
          d = new Object(this),
          e = 0,
          f = d.length >>> 0; f > e; e++)
        b = d[e], e in d && a.call(arguments[1], b, e, d) && c.push(b);
      return c;
    }), Array.isArray || (Array.isArray = function(a) {
      return {}.toString.call(a) == mb;
    }), Array.prototype.indexOf || (Array.prototype.indexOf = function(a) {
      var b = Object(this),
          c = b.length >>> 0;
      if (0 === c)
        return -1;
      var d = 0;
      if (arguments.length > 1 && (d = Number(arguments[1]), d !== d ? d = 0 : 0 !== d && d != 1 / 0 && d !== -(1 / 0) && (d = (d > 0 || -1) * Math.floor(Math.abs(d)))), d >= c)
        return -1;
      for (var e = d >= 0 ? d : Math.max(c - Math.abs(d), 0); c > e; e++)
        if (e in b && b[e] === a)
          return e;
      return -1;
    }), Object.prototype.propertyIsEnumerable || (Object.prototype.propertyIsEnumerable = function(a) {
      for (var b in this)
        if (b === a)
          return !0;
      return !1;
    }), Object.keys || (Object.keys = function() {
      "use strict";
      var a = Object.prototype.hasOwnProperty,
          b = !{toString: null}.propertyIsEnumerable("toString");
      return function(c) {
        if ("object" != typeof c && ("function" != typeof c || null === c))
          throw new TypeError("Object.keys called on non-object");
        var d,
            e,
            f = [];
        for (d in c)
          a.call(c, d) && f.push(d);
        if (b)
          for (e = 0; kb > e; e++)
            a.call(c, jb[e]) && f.push(jb[e]);
        return f;
      };
    }()), r.prototype.compareTo = function(a) {
      var b = this.value.compareTo(a.value);
      return 0 === b && (b = this.id - a.id), b;
    };
    var Ob = Ja.internals.PriorityQueue = function(a) {
      this.items = new Array(a), this.length = 0;
    },
        Pb = Ob.prototype;
    Pb.isHigherPriority = function(a, b) {
      return this.items[a].compareTo(this.items[b]) < 0;
    }, Pb.percolate = function(a) {
      if (!(a >= this.length || 0 > a)) {
        var b = a - 1 >> 1;
        if (!(0 > b || b === a) && this.isHigherPriority(a, b)) {
          var c = this.items[a];
          this.items[a] = this.items[b], this.items[b] = c, this.percolate(b);
        }
      }
    }, Pb.heapify = function(a) {
      if (+a || (a = 0), !(a >= this.length || 0 > a)) {
        var b = 2 * a + 1,
            c = 2 * a + 2,
            d = a;
        if (b < this.length && this.isHigherPriority(b, d) && (d = b), c < this.length && this.isHigherPriority(c, d) && (d = c), d !== a) {
          var e = this.items[a];
          this.items[a] = this.items[d], this.items[d] = e, this.heapify(d);
        }
      }
    }, Pb.peek = function() {
      return this.items[0].value;
    }, Pb.removeAt = function(b) {
      this.items[b] = this.items[--this.length], this.items[this.length] = a, this.heapify();
    }, Pb.dequeue = function() {
      var a = this.peek();
      return this.removeAt(0), a;
    }, Pb.enqueue = function(a) {
      var b = this.length++;
      this.items[b] = new r(Ob.count++, a), this.percolate(b);
    }, Pb.remove = function(a) {
      for (var b = 0; b < this.length; b++)
        if (this.items[b].value === a)
          return this.removeAt(b), !0;
      return !1;
    }, Ob.count = 0;
    var Qb = Ja.CompositeDisposable = function() {
      var a,
          b,
          c = [];
      if (Array.isArray(arguments[0]))
        c = arguments[0], b = c.length;
      else
        for (b = arguments.length, c = new Array(b), a = 0; b > a; a++)
          c[a] = arguments[a];
      for (a = 0; b > a; a++)
        if (!Vb(c[a]))
          throw new TypeError("Not a disposable");
      this.disposables = c, this.isDisposed = !1, this.length = c.length;
    },
        Rb = Qb.prototype;
    Rb.add = function(a) {
      this.isDisposed ? a.dispose() : (this.disposables.push(a), this.length++);
    }, Rb.remove = function(a) {
      var b = !1;
      if (!this.isDisposed) {
        var c = this.disposables.indexOf(a);
        -1 !== c && (b = !0, this.disposables.splice(c, 1), this.length--, a.dispose());
      }
      return b;
    }, Rb.dispose = function() {
      if (!this.isDisposed) {
        this.isDisposed = !0;
        for (var a = this.disposables.length,
            b = new Array(a),
            c = 0; a > c; c++)
          b[c] = this.disposables[c];
        for (this.disposables = [], this.length = 0, c = 0; a > c; c++)
          b[c].dispose();
      }
    };
    var Sb = Ja.Disposable = function(a) {
      this.isDisposed = !1, this.action = a || Ka;
    };
    Sb.prototype.dispose = function() {
      this.isDisposed || (this.action(), this.isDisposed = !0);
    };
    var Tb = Sb.create = function(a) {
      return new Sb(a);
    },
        Ub = Sb.empty = {dispose: Ka},
        Vb = Sb.isDisposable = function(a) {
          return a && Ra(a.dispose);
        },
        Wb = Sb.checkDisposed = function(a) {
          if (a.isDisposed)
            throw new Za;
        },
        Xb = Ja.SingleAssignmentDisposable = function() {
          this.isDisposed = !1, this.current = null;
        };
    Xb.prototype.getDisposable = function() {
      return this.current;
    }, Xb.prototype.setDisposable = function(a) {
      if (this.current)
        throw new Error("Disposable has already been assigned");
      var b = this.isDisposed;
      !b && (this.current = a), b && a && a.dispose();
    }, Xb.prototype.dispose = function() {
      if (!this.isDisposed) {
        this.isDisposed = !0;
        var a = this.current;
        this.current = null;
      }
      a && a.dispose();
    };
    var Yb = Ja.SerialDisposable = function() {
      this.isDisposed = !1, this.current = null;
    };
    Yb.prototype.getDisposable = function() {
      return this.current;
    }, Yb.prototype.setDisposable = function(a) {
      var b = this.isDisposed;
      if (!b) {
        var c = this.current;
        this.current = a;
      }
      c && c.dispose(), b && a && a.dispose();
    }, Yb.prototype.dispose = function() {
      if (!this.isDisposed) {
        this.isDisposed = !0;
        var a = this.current;
        this.current = null;
      }
      a && a.dispose();
    };
    var Zb = Ja.RefCountDisposable = function() {
      function a(a) {
        this.disposable = a, this.disposable.count++, this.isInnerDisposed = !1;
      }
      function b(a) {
        this.underlyingDisposable = a, this.isDisposed = !1, this.isPrimaryDisposed = !1, this.count = 0;
      }
      return a.prototype.dispose = function() {
        this.disposable.isDisposed || this.isInnerDisposed || (this.isInnerDisposed = !0, this.disposable.count--, 0 === this.disposable.count && this.disposable.isPrimaryDisposed && (this.disposable.isDisposed = !0, this.disposable.underlyingDisposable.dispose()));
      }, b.prototype.dispose = function() {
        this.isDisposed || this.isPrimaryDisposed || (this.isPrimaryDisposed = !0, 0 === this.count && (this.isDisposed = !0, this.underlyingDisposable.dispose()));
      }, b.prototype.getDisposable = function() {
        return this.isDisposed ? Ub : new a(this);
      }, b;
    }();
    s.prototype.dispose = function() {
      this.scheduler.scheduleWithState(this, t);
    };
    var $b = Ja.internals.ScheduledItem = function(a, b, c, d, e) {
      this.scheduler = a, this.state = b, this.action = c, this.dueTime = d, this.comparer = e || Oa, this.disposable = new Xb;
    };
    $b.prototype.invoke = function() {
      this.disposable.setDisposable(this.invokeCore());
    }, $b.prototype.compareTo = function(a) {
      return this.comparer(this.dueTime, a.dueTime);
    }, $b.prototype.isCancelled = function() {
      return this.disposable.isDisposed;
    }, $b.prototype.invokeCore = function() {
      return this.action(this.scheduler, this.state);
    };
    var _b = Ja.Scheduler = function() {
      function a(a, b, c, d) {
        this.now = a, this._schedule = b, this._scheduleRelative = c, this._scheduleAbsolute = d;
      }
      function b(a, b) {
        return b(), Ub;
      }
      a.isScheduler = function(b) {
        return b instanceof a;
      };
      var c = a.prototype;
      return c.schedule = function(a) {
        return this._schedule(a, b);
      }, c.scheduleWithState = function(a, b) {
        return this._schedule(a, b);
      }, c.scheduleWithRelative = function(a, c) {
        return this._scheduleRelative(c, a, b);
      }, c.scheduleWithRelativeAndState = function(a, b, c) {
        return this._scheduleRelative(a, b, c);
      }, c.scheduleWithAbsolute = function(a, c) {
        return this._scheduleAbsolute(c, a, b);
      }, c.scheduleWithAbsoluteAndState = function(a, b, c) {
        return this._scheduleAbsolute(a, b, c);
      }, a.now = Ma, a.normalize = function(a) {
        return 0 > a && (a = 0), a;
      }, a;
    }(),
        ac = _b.normalize,
        bc = _b.isScheduler;
    !function(a) {
      function b(a, b) {
        function c(b) {
          function d(a, b) {
            return g ? f.remove(i) : h = !0, e(b, c), Ub;
          }
          var g = !1,
              h = !1,
              i = a.scheduleWithState(b, d);
          h || (f.add(i), g = !0);
        }
        var d = b[0],
            e = b[1],
            f = new Qb;
        return e(d, c), f;
      }
      function c(a, b, c) {
        function d(b, e) {
          function h(a, b) {
            return i ? g.remove(k) : j = !0, f(b, d), Ub;
          }
          var i = !1,
              j = !1,
              k = a[c](b, e, h);
          j || (g.add(k), i = !0);
        }
        var e = b[0],
            f = b[1],
            g = new Qb;
        return f(e, d), g;
      }
      function d(a, b) {
        return c(a, b, "scheduleWithRelativeAndState");
      }
      function e(a, b) {
        return c(a, b, "scheduleWithAbsoluteAndState");
      }
      function f(a, b) {
        a(function(c) {
          b(a, c);
        });
      }
      a.scheduleRecursive = function(a) {
        return this.scheduleRecursiveWithState(a, f);
      }, a.scheduleRecursiveWithState = function(a, c) {
        return this.scheduleWithState([a, c], b);
      }, a.scheduleRecursiveWithRelative = function(a, b) {
        return this.scheduleRecursiveWithRelativeAndState(b, a, f);
      }, a.scheduleRecursiveWithRelativeAndState = function(a, b, c) {
        return this._scheduleRelative([a, c], b, d);
      }, a.scheduleRecursiveWithAbsolute = function(a, b) {
        return this.scheduleRecursiveWithAbsoluteAndState(b, a, f);
      }, a.scheduleRecursiveWithAbsoluteAndState = function(a, b, c) {
        return this._scheduleAbsolute([a, c], b, e);
      };
    }(_b.prototype), function(a) {
      _b.prototype.schedulePeriodic = function(a, b) {
        return this.schedulePeriodicWithState(null, a, b);
      }, _b.prototype.schedulePeriodicWithState = function(a, b, c) {
        if ("undefined" == typeof Ia.setInterval)
          throw new _a;
        b = ac(b);
        var d = a,
            e = Ia.setInterval(function() {
              d = c(d);
            }, b);
        return Tb(function() {
          Ia.clearInterval(e);
        });
      };
    }(_b.prototype), function(a) {
      a.catchError = a["catch"] = function(a) {
        return new lc(this, a);
      };
    }(_b.prototype);
    var cc,
        dc,
        ec = Ja.internals.SchedulePeriodicRecursive = function() {
          function a(a, b) {
            b(0, this._period);
            try {
              this._state = this._action(this._state);
            } catch (c) {
              throw this._cancel.dispose(), c;
            }
          }
          function b(a, b, c, d) {
            this._scheduler = a, this._state = b, this._period = c, this._action = d;
          }
          return b.prototype.start = function() {
            var b = new Xb;
            return this._cancel = b, b.setDisposable(this._scheduler.scheduleRecursiveWithRelativeAndState(0, this._period, a.bind(this))), b;
          }, b;
        }(),
        fc = _b.immediate = function() {
          function a(a, b) {
            return b(this, a);
          }
          return new _b(Ma, a, cb, cb);
        }(),
        gc = _b.currentThread = function() {
          function a() {
            for (; c.length > 0; ) {
              var a = c.shift();
              !a.isCancelled() && a.invoke();
            }
          }
          function b(b, f) {
            var g = new $b(this, b, f, this.now());
            if (c)
              c.push(g);
            else {
              c = [g];
              var h = d(a)();
              if (c = null, h === Sa)
                return e(h.e);
            }
            return g.disposable;
          }
          var c,
              f = new _b(Ma, b, cb, cb);
          return f.scheduleRequired = function() {
            return !c;
          }, f;
        }(),
        hc = function() {
          var a,
              b = Ka;
          if (Ia.setTimeout)
            a = Ia.setTimeout, b = Ia.clearTimeout;
          else {
            if (!Ia.WScript)
              throw new _a;
            a = function(a, b) {
              Ia.WScript.Sleep(b), a();
            };
          }
          return {
            setTimeout: a,
            clearTimeout: b
          };
        }(),
        ic = hc.setTimeout,
        jc = hc.clearTimeout;
    !function() {
      function a(b) {
        if (h)
          ic(function() {
            a(b);
          }, 0);
        else {
          var c = g[b];
          if (c) {
            h = !0;
            var f = d(c)();
            if (dc(b), h = !1, f === Sa)
              return e(f.e);
          }
        }
      }
      function b() {
        if (!Ia.postMessage || Ia.importScripts)
          return !1;
        var a = !1,
            b = Ia.onmessage;
        return Ia.onmessage = function() {
          a = !0;
        }, Ia.postMessage("", "*"), Ia.onmessage = b, a;
      }
      function c(b) {
        "string" == typeof b.data && b.data.substring(0, k.length) === k && a(b.data.substring(k.length));
      }
      var f = 1,
          g = {},
          h = !1;
      dc = function(a) {
        delete g[a];
      };
      var i = RegExp("^" + String(vb).replace(/[.*+?^${}()|[\]\\]/g, "\\$&").replace(/toString| for [^\]]+/g, ".*?") + "$"),
          j = "function" == typeof(j = Ha && Ga && Ha.setImmediate) && !i.test(j) && j;
      if (Ra(j))
        cc = function(b) {
          var c = f++;
          return g[c] = b, j(function() {
            a(c);
          }), c;
        };
      else if ("undefined" != typeof process && "[object process]" === {}.toString.call(process))
        cc = function(b) {
          var c = f++;
          return g[c] = b, process.nextTick(function() {
            a(c);
          }), c;
        };
      else if (b()) {
        var k = "ms.rx.schedule" + Math.random();
        Ia.addEventListener ? Ia.addEventListener("message", c, !1) : Ia.attachEvent ? Ia.attachEvent("onmessage", c) : Ia.onmessage = c, cc = function(a) {
          var b = f++;
          return g[b] = a, Ia.postMessage(k + currentId, "*"), b;
        };
      } else if (Ia.MessageChannel) {
        var l = new Ia.MessageChannel;
        l.port1.onmessage = function(b) {
          a(b.data);
        }, cc = function(a) {
          var b = f++;
          return g[b] = a, l.port2.postMessage(b), b;
        };
      } else
        cc = "document" in Ia && "onreadystatechange" in Ia.document.createElement("script") ? function(b) {
          var c = Ia.document.createElement("script"),
              d = f++;
          return g[d] = b, c.onreadystatechange = function() {
            a(d), c.onreadystatechange = null, c.parentNode.removeChild(c), c = null;
          }, Ia.document.documentElement.appendChild(c), d;
        } : function(b) {
          var c = f++;
          return g[c] = b, ic(function() {
            a(c);
          }, 0), c;
        };
    }();
    var kc = _b.timeout = _b["default"] = function() {
      function a(a, b) {
        var c = this,
            d = new Xb,
            e = cc(function() {
              !d.isDisposed && d.setDisposable(b(c, a));
            });
        return new Qb(d, Tb(function() {
          dc(e);
        }));
      }
      function b(a, b, c) {
        var d = this,
            e = _b.normalize(b),
            f = new Xb;
        if (0 === e)
          return d.scheduleWithState(a, c);
        var g = ic(function() {
          !f.isDisposed && f.setDisposable(c(d, a));
        }, e);
        return new Qb(f, Tb(function() {
          jc(g);
        }));
      }
      function c(a, b, c) {
        return this.scheduleWithRelativeAndState(a, b - this.now(), c);
      }
      return new _b(Ma, a, b, c);
    }(),
        lc = function(a) {
          function b(a, b) {
            return this._scheduler.scheduleWithState(a, this._wrap(b));
          }
          function c(a, b, c) {
            return this._scheduler.scheduleWithRelativeAndState(a, b, this._wrap(c));
          }
          function d(a, b, c) {
            return this._scheduler.scheduleWithAbsoluteAndState(a, b, this._wrap(c));
          }
          function e(e, f) {
            this._scheduler = e, this._handler = f, this._recursiveOriginal = null, this._recursiveWrapper = null, a.call(this, this._scheduler.now.bind(this._scheduler), b, c, d);
          }
          return Jb(e, a), e.prototype._clone = function(a) {
            return new e(a, this._handler);
          }, e.prototype._wrap = function(a) {
            var b = this;
            return function(c, d) {
              try {
                return a(b._getRecursiveWrapper(c), d);
              } catch (e) {
                if (!b._handler(e))
                  throw e;
                return Ub;
              }
            };
          }, e.prototype._getRecursiveWrapper = function(a) {
            if (this._recursiveOriginal !== a) {
              this._recursiveOriginal = a;
              var b = this._clone(a);
              b._recursiveOriginal = a, b._recursiveWrapper = b, this._recursiveWrapper = b;
            }
            return this._recursiveWrapper;
          }, e.prototype.schedulePeriodicWithState = function(a, b, c) {
            var d = this,
                e = !1,
                f = new Xb;
            return f.setDisposable(this._scheduler.schedulePeriodicWithState(a, b, function(a) {
              if (e)
                return null;
              try {
                return c(a);
              } catch (b) {
                if (e = !0, !d._handler(b))
                  throw b;
                return f.dispose(), null;
              }
            })), f;
          }, e;
        }(_b),
        mc = Ja.Notification = function() {
          function a(a, b, c, d, e, f) {
            this.kind = a, this.value = b, this.exception = c, this._accept = d, this._acceptObservable = e, this.toString = f;
          }
          return a.prototype.accept = function(a, b, c) {
            return a && "object" == typeof a ? this._acceptObservable(a) : this._accept(a, b, c);
          }, a.prototype.toObservable = function(a) {
            var b = this;
            return bc(a) || (a = fc), new Xd(function(c) {
              return a.scheduleWithState(b, function(a, b) {
                b._acceptObservable(c), "N" === b.kind && c.onCompleted();
              });
            });
          }, a;
        }(),
        nc = mc.createOnNext = function() {
          function a(a) {
            return a(this.value);
          }
          function b(a) {
            return a.onNext(this.value);
          }
          function c() {
            return "OnNext(" + this.value + ")";
          }
          return function(d) {
            return new mc("N", d, null, a, b, c);
          };
        }(),
        oc = mc.createOnError = function() {
          function a(a, b) {
            return b(this.exception);
          }
          function b(a) {
            return a.onError(this.exception);
          }
          function c() {
            return "OnError(" + this.exception + ")";
          }
          return function(d) {
            return new mc("E", null, d, a, b, c);
          };
        }(),
        pc = mc.createOnCompleted = function() {
          function a(a, b, c) {
            return c();
          }
          function b(a) {
            return a.onCompleted();
          }
          function c() {
            return "OnCompleted()";
          }
          return function() {
            return new mc("C", null, null, a, b, c);
          };
        }(),
        qc = Ja.Observer = function() {};
    qc.prototype.toNotifier = function() {
      var a = this;
      return function(b) {
        return b.accept(a);
      };
    }, qc.prototype.asObserver = function() {
      var a = this;
      return new uc(function(b) {
        a.onNext(b);
      }, function(b) {
        a.onError(b);
      }, function() {
        a.onCompleted();
      });
    }, qc.prototype.checked = function() {
      return new vc(this);
    };
    var rc = qc.create = function(a, b, c) {
      return a || (a = Ka), b || (b = Pa), c || (c = Ka), new uc(a, b, c);
    };
    qc.fromNotifier = function(a, b) {
      var c = ib(a, b, 1);
      return new uc(function(a) {
        return c(nc(a));
      }, function(a) {
        return c(oc(a));
      }, function() {
        return c(pc());
      });
    }, qc.prototype.notifyOn = function(a) {
      return new xc(a, this);
    }, qc.prototype.makeSafe = function(a) {
      return new AnonymousSafeObserver(this._onNext, this._onError, this._onCompleted, a);
    };
    var sc,
        tc = Ja.internals.AbstractObserver = function(a) {
          function b() {
            this.isStopped = !1;
          }
          return Jb(b, a), b.prototype.next = bb, b.prototype.error = bb, b.prototype.completed = bb, b.prototype.onNext = function(a) {
            !this.isStopped && this.next(a);
          }, b.prototype.onError = function(a) {
            this.isStopped || (this.isStopped = !0, this.error(a));
          }, b.prototype.onCompleted = function() {
            this.isStopped || (this.isStopped = !0, this.completed());
          }, b.prototype.dispose = function() {
            this.isStopped = !0;
          }, b.prototype.fail = function(a) {
            return this.isStopped ? !1 : (this.isStopped = !0, this.error(a), !0);
          }, b;
        }(qc),
        uc = Ja.AnonymousObserver = function(a) {
          function b(b, c, d) {
            a.call(this), this._onNext = b, this._onError = c, this._onCompleted = d;
          }
          return Jb(b, a), b.prototype.next = function(a) {
            this._onNext(a);
          }, b.prototype.error = function(a) {
            this._onError(a);
          }, b.prototype.completed = function() {
            this._onCompleted();
          }, b;
        }(tc),
        vc = function(a) {
          function b(b) {
            a.call(this), this._observer = b, this._state = 0;
          }
          Jb(b, a);
          var c = b.prototype;
          return c.onNext = function(a) {
            this.checkAccess();
            var b = d(this._observer.onNext).call(this._observer, a);
            this._state = 0, b === Sa && e(b.e);
          }, c.onError = function(a) {
            this.checkAccess();
            var b = d(this._observer.onError).call(this._observer, a);
            this._state = 2, b === Sa && e(b.e);
          }, c.onCompleted = function() {
            this.checkAccess();
            var a = d(this._observer.onCompleted).call(this._observer);
            this._state = 2, a === Sa && e(a.e);
          }, c.checkAccess = function() {
            if (1 === this._state)
              throw new Error("Re-entrancy detected");
            if (2 === this._state)
              throw new Error("Observer completed");
            0 === this._state && (this._state = 1);
          }, b;
        }(qc),
        wc = Ja.internals.ScheduledObserver = function(a) {
          function b(b, c) {
            a.call(this), this.scheduler = b, this.observer = c, this.isAcquired = !1, this.hasFaulted = !1, this.queue = [], this.disposable = new Yb;
          }
          return Jb(b, a), b.prototype.next = function(a) {
            var b = this;
            this.queue.push(function() {
              b.observer.onNext(a);
            });
          }, b.prototype.error = function(a) {
            var b = this;
            this.queue.push(function() {
              b.observer.onError(a);
            });
          }, b.prototype.completed = function() {
            var a = this;
            this.queue.push(function() {
              a.observer.onCompleted();
            });
          }, b.prototype.ensureActive = function() {
            var a = !1;
            !this.hasFaulted && this.queue.length > 0 && (a = !this.isAcquired, this.isAcquired = !0), a && this.disposable.setDisposable(this.scheduler.scheduleRecursiveWithState(this, function(a, b) {
              var c;
              if (!(a.queue.length > 0))
                return void(a.isAcquired = !1);
              c = a.queue.shift();
              var f = d(c)();
              return f === Sa ? (a.queue = [], a.hasFaulted = !0, e(f.e)) : void b(a);
            }));
          }, b.prototype.dispose = function() {
            a.prototype.dispose.call(this), this.disposable.dispose();
          }, b;
        }(tc),
        xc = function(a) {
          function b(b, c, d) {
            a.call(this, b, c), this._cancel = d;
          }
          return Jb(b, a), b.prototype.next = function(b) {
            a.prototype.next.call(this, b), this.ensureActive();
          }, b.prototype.error = function(b) {
            a.prototype.error.call(this, b), this.ensureActive();
          }, b.prototype.completed = function() {
            a.prototype.completed.call(this), this.ensureActive();
          }, b.prototype.dispose = function() {
            a.prototype.dispose.call(this), this._cancel && this._cancel.dispose(), this._cancel = null;
          }, b;
        }(wc),
        yc = Ja.Observable = function() {
          function a(a, b) {
            return function(c) {
              var d = c.onError;
              return c.onError = function(b) {
                f(b, a), d.call(c, b);
              }, b.call(a, c);
            };
          }
          function b(b) {
            if (Ja.config.longStackSupport && Ta) {
              var c = d(e)(new Error).e;
              this.stack = c.stack.substring(c.stack.indexOf("\n") + 1), this._subscribe = a(this, b);
            } else
              this._subscribe = b;
          }
          return sc = b.prototype, b.isObservable = function(a) {
            return a && Ra(a.subscribe);
          }, sc.subscribe = sc.forEach = function(a, b, c) {
            return this._subscribe("object" == typeof a ? a : rc(a, b, c));
          }, sc.subscribeOnNext = function(a, b) {
            return this._subscribe(rc("undefined" != typeof b ? function(c) {
              a.call(b, c);
            } : a));
          }, sc.subscribeOnError = function(a, b) {
            return this._subscribe(rc(null, "undefined" != typeof b ? function(c) {
              a.call(b, c);
            } : a));
          }, sc.subscribeOnCompleted = function(a, b) {
            return this._subscribe(rc(null, null, "undefined" != typeof b ? function() {
              a.call(b);
            } : a));
          }, b;
        }(),
        zc = Ja.ObservableBase = function(a) {
          function b(a) {
            return a && Ra(a.dispose) ? a : Ra(a) ? Tb(a) : Ub;
          }
          function c(a, c) {
            var f = c[0],
                g = c[1],
                h = d(g.subscribeCore).call(g, f);
            return h !== Sa || f.fail(Sa.e) ? void f.setDisposable(b(h)) : e(Sa.e);
          }
          function f(a) {
            var b = new Yd(a),
                d = [b, this];
            return gc.scheduleRequired() ? gc.scheduleWithState(d, c) : c(null, d), b;
          }
          function g() {
            a.call(this, f);
          }
          return Jb(g, a), g.prototype.subscribeCore = bb, g;
        }(yc),
        Ac = function(a) {
          function b(b, c, d, e) {
            this.resultSelector = Ja.helpers.isFunction(d) ? d : null, this.selector = Ja.internals.bindCallback(Ja.helpers.isFunction(c) ? c : function() {
              return c;
            }, e, 3), this.source = b, a.call(this);
          }
          function c(a, b, c, d) {
            this.i = 0, this.selector = b, this.resultSelector = c, this.source = d, this.isStopped = !1, this.o = a;
          }
          return Jb(b, a), b.prototype.subscribeCore = function(a) {
            return this.source.subscribe(new c(a, this.selector, this.resultSelector, this));
          }, c.prototype._wrapResult = function(a, b, c) {
            return this.resultSelector ? a.map(function(a, d) {
              return this.resultSelector(b, a, c, d);
            }, this) : a;
          }, c.prototype.onNext = function(a) {
            if (!this.isStopped) {
              var b = this.i++,
                  c = d(this.selector)(a, b, this.source);
              if (c === Sa)
                return this.o.onError(c.e);
              Ja.helpers.isPromise(c) && (c = Ja.Observable.fromPromise(c)), (Ja.helpers.isArrayLike(c) || Ja.helpers.isIterable(c)) && (c = Ja.Observable.from(c)), this.o.onNext(this._wrapResult(c, a, b));
            }
          }, c.prototype.onError = function(a) {
            this.isStopped || (this.isStopped = !0, this.o.onError(a));
          }, c.prototype.onCompleted = function() {
            this.isStopped || (this.isStopped = !0, this.o.onCompleted());
          }, b;
        }(zc),
        Bc = Ja.internals.Enumerable = function() {},
        Cc = function(a) {
          function b(b) {
            this.sources = b, a.call(this);
          }
          function c(a, b, c) {
            this.o = a, this.s = b, this.e = c, this.isStopped = !1;
          }
          return Jb(b, a), b.prototype.subscribeCore = function(a) {
            var b,
                e = new Yb,
                f = fc.scheduleRecursiveWithState(this.sources[db](), function(f, g) {
                  if (!b) {
                    var h = d(f.next).call(f);
                    if (h === Sa)
                      return a.onError(h.e);
                    if (h.done)
                      return a.onCompleted();
                    var i = h.value;
                    Qa(i) && (i = Jc(i));
                    var j = new Xb;
                    e.setDisposable(j), j.setDisposable(i.subscribe(new c(a, g, f)));
                  }
                });
            return new Qb(e, f, Tb(function() {
              b = !0;
            }));
          }, c.prototype.onNext = function(a) {
            this.isStopped || this.o.onNext(a);
          }, c.prototype.onError = function(a) {
            this.isStopped || (this.isStopped = !0, this.o.onError(a));
          }, c.prototype.onCompleted = function() {
            this.isStopped || (this.isStopped = !0, this.s(this.e));
          }, c.prototype.dispose = function() {
            this.isStopped = !0;
          }, c.prototype.fail = function(a) {
            return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
          }, b;
        }(zc);
    Bc.prototype.concat = function() {
      return new Cc(this);
    };
    var Dc = function(a) {
      function b(b) {
        this.sources = b, a.call(this);
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        var b,
            c = this.sources[db](),
            e = new Yb,
            f = fc.scheduleRecursiveWithState(null, function(f, g) {
              if (!b) {
                var h = d(c.next).call(c);
                if (h === Sa)
                  return a.onError(h.e);
                if (h.done)
                  return null !== f ? a.onError(f) : a.onCompleted();
                var i = h.value;
                Qa(i) && (i = Jc(i));
                var j = new Xb;
                e.setDisposable(j), j.setDisposable(i.subscribe(function(b) {
                  a.onNext(b);
                }, g, function() {
                  a.onCompleted();
                }));
              }
            });
        return new Qb(e, f, Tb(function() {
          b = !0;
        }));
      }, b;
    }(zc);
    Bc.prototype.catchError = function() {
      return new Dc(this);
    }, Bc.prototype.catchErrorWhen = function(a) {
      var b = this;
      return new Xd(function(c) {
        var e,
            f,
            g = new $d,
            h = new $d,
            i = a(g),
            j = i.subscribe(h),
            k = b[db](),
            l = new Yb,
            m = fc.scheduleRecursive(function(a) {
              if (!e) {
                var b = d(k.next).call(k);
                if (b === Sa)
                  return c.onError(b.e);
                if (b.done)
                  return void(f ? c.onError(f) : c.onCompleted());
                var i = b.value;
                Qa(i) && (i = Jc(i));
                var j = new Xb,
                    m = new Xb;
                l.setDisposable(new Qb(m, j)), j.setDisposable(i.subscribe(function(a) {
                  c.onNext(a);
                }, function(b) {
                  m.setDisposable(h.subscribe(a, function(a) {
                    c.onError(a);
                  }, function() {
                    c.onCompleted();
                  })), g.onNext(b);
                }, function() {
                  c.onCompleted();
                }));
              }
            });
        return new Qb(j, l, m, Tb(function() {
          e = !0;
        }));
      });
    };
    var Ec = function(a) {
      function b(a, b) {
        this.v = a, this.c = null == b ? -1 : b;
      }
      function c(a) {
        this.v = a.v, this.l = a.c;
      }
      return Jb(b, a), b.prototype[db] = function() {
        return new c(this);
      }, c.prototype.next = function() {
        return 0 === this.l ? eb : (this.l > 0 && this.l--, {
          done: !1,
          value: this.v
        });
      }, b;
    }(Bc),
        Fc = Bc.repeat = function(a, b) {
          return new Ec(a, b);
        },
        Gc = function(a) {
          function b(a, b, c) {
            this.s = a, this.fn = b ? ib(b, c, 3) : null;
          }
          function c(a) {
            this.i = -1, this.s = a.s, this.l = this.s.length, this.fn = a.fn;
          }
          return Jb(b, a), b.prototype[db] = function() {
            return new c(this);
          }, c.prototype.next = function() {
            return ++this.i < this.l ? {
              done: !1,
              value: this.fn ? this.fn(this.s[this.i], this.i, this.s) : this.s[this.i]
            } : eb;
          }, b;
        }(Bc),
        Hc = Bc.of = function(a, b, c) {
          return new Gc(a, b, c);
        };
    sc.observeOn = function(a) {
      var b = this;
      return new Xd(function(c) {
        return b.subscribe(new xc(a, c));
      }, b);
    }, sc.subscribeOn = function(a) {
      var b = this;
      return new Xd(function(c) {
        var d = new Xb,
            e = new Yb;
        return e.setDisposable(d), d.setDisposable(a.schedule(function() {
          e.setDisposable(new s(a, b.subscribe(c)));
        })), e;
      }, b);
    };
    var Ic = function(a) {
      function b(b) {
        this.p = b, a.call(this);
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        return this.p.then(function(b) {
          a.onNext(b), a.onCompleted();
        }, function(b) {
          a.onError(b);
        }), Ub;
      }, b;
    }(zc),
        Jc = yc.fromPromise = function(a) {
          return new Ic(a);
        };
    sc.toPromise = function(a) {
      if (a || (a = Ja.config.Promise), !a)
        throw new _a("Promise type not provided nor in Rx.config.Promise");
      var b = this;
      return new a(function(a, c) {
        var d,
            e = !1;
        b.subscribe(function(a) {
          d = a, e = !0;
        }, c, function() {
          e && a(d);
        });
      });
    };
    var Kc = function(a) {
      function b(b) {
        this.source = b, a.call(this);
      }
      function c(a) {
        this.o = a, this.a = [], this.isStopped = !1;
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new c(a));
      }, c.prototype.onNext = function(a) {
        this.isStopped || this.a.push(a);
      }, c.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      }, c.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0, this.o.onNext(this.a), this.o.onCompleted());
      }, c.prototype.dispose = function() {
        this.isStopped = !0;
      }, c.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }, b;
    }(zc);
    sc.toArray = function() {
      return new Kc(this);
    }, yc.create = function(a, b) {
      return new Xd(a, b);
    };
    var Lc = yc.defer = function(a) {
      return new Xd(function(b) {
        var c;
        try {
          c = a();
        } catch (d) {
          return cd(d).subscribe(b);
        }
        return Qa(c) && (c = Jc(c)), c.subscribe(b);
      });
    },
        Mc = function(a) {
          function b(b) {
            this.scheduler = b, a.call(this);
          }
          function c(a, b) {
            this.observer = a, this.scheduler = b;
          }
          function d(a, b) {
            return b.onCompleted(), Ub;
          }
          return Jb(b, a), b.prototype.subscribeCore = function(a) {
            var b = new c(a, this.scheduler);
            return b.run();
          }, c.prototype.run = function() {
            return this.scheduler.scheduleWithState(this.observer, d);
          }, b;
        }(zc),
        Nc = new Mc(fc),
        Oc = yc.empty = function(a) {
          return bc(a) || (a = fc), a === fc ? Nc : new Mc(a);
        },
        Pc = function(a) {
          function b(b, c, d) {
            this.iterable = b, this.mapper = c, this.scheduler = d, a.call(this);
          }
          return Jb(b, a), b.prototype.subscribeCore = function(a) {
            var b = new Qc(a, this);
            return b.run();
          }, b;
        }(zc),
        Qc = function() {
          function a(a, b) {
            this.o = a, this.parent = b;
          }
          return a.prototype.run = function() {
            function a(a, b) {
              var g = d(c.next).call(c);
              if (g === Sa)
                return e.onError(g.e);
              if (g.done)
                return e.onCompleted();
              var h = g.value;
              return Ra(f) && (h = d(f)(h, a), h === Sa) ? e.onError(h.e) : (e.onNext(h), void b(a + 1));
            }
            var b = Object(this.parent.iterable),
                c = z(b),
                e = this.o,
                f = this.parent.mapper;
            return this.parent.scheduler.scheduleRecursiveWithState(0, a);
          }, a;
        }(),
        Rc = Math.pow(2, 53) - 1;
    u.prototype[db] = function() {
      return new v(this._s);
    }, v.prototype[db] = function() {
      return this;
    }, v.prototype.next = function() {
      return this._i < this._l ? {
        done: !1,
        value: this._s.charAt(this._i++)
      } : eb;
    }, w.prototype[db] = function() {
      return new x(this._a);
    }, x.prototype[db] = function() {
      return this;
    }, x.prototype.next = function() {
      return this._i < this._l ? {
        done: !1,
        value: this._a[this._i++]
      } : eb;
    };
    var Sc = yc.from = function(a, b, c, d) {
      if (null == a)
        throw new Error("iterable cannot be null.");
      if (b && !Ra(b))
        throw new Error("mapFn when provided must be a function");
      if (b)
        var e = ib(b, c, 2);
      return bc(d) || (d = gc), new Pc(a, e, d);
    },
        Tc = function(a) {
          function b(b, c) {
            this.args = b, this.scheduler = c, a.call(this);
          }
          return Jb(b, a), b.prototype.subscribeCore = function(a) {
            var b = new C(a, this);
            return b.run();
          }, b;
        }(zc);
    C.prototype.run = function() {
      function a(a, e) {
        d > a ? (b.onNext(c[a]), e(a + 1)) : b.onCompleted();
      }
      var b = this.observer,
          c = this.parent.args,
          d = c.length;
      return this.parent.scheduler.scheduleRecursiveWithState(0, a);
    };
    var Uc = yc.fromArray = function(a, b) {
      return bc(b) || (b = gc), new Tc(a, b);
    };
    yc.generate = function(a, b, c, d, e) {
      return bc(e) || (e = gc), new Xd(function(f) {
        var g = !0;
        return e.scheduleRecursiveWithState(a, function(a, e) {
          var h,
              i;
          try {
            g ? g = !1 : a = c(a), h = b(a), h && (i = d(a));
          } catch (j) {
            return f.onError(j);
          }
          h ? (f.onNext(i), e(a)) : f.onCompleted();
        });
      });
    }, yc.of = function() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      return new Tc(b, gc);
    }, yc.ofWithScheduler = function(a) {
      for (var b = arguments.length,
          c = new Array(b - 1),
          d = 1; b > d; d++)
        c[d - 1] = arguments[d];
      return new Tc(c, a);
    };
    var Vc = function(a) {
      function b() {
        a.call(this);
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        return Ub;
      }, b;
    }(zc),
        Wc = new Vc,
        Xc = yc.never = function() {
          return Wc;
        },
        Yc = function(a) {
          function b(b, c) {
            this.obj = b, this.keys = Object.keys(b), this.scheduler = c, a.call(this);
          }
          return Jb(b, a), b.prototype.subscribeCore = function(a) {
            var b = new E(a, this);
            return b.run();
          }, b;
        }(zc);
    E.prototype.run = function() {
      function a(a, f) {
        if (e > a) {
          var g = d[a];
          b.onNext([g, c[g]]), f(a + 1);
        } else
          b.onCompleted();
      }
      var b = this.observer,
          c = this.parent.obj,
          d = this.parent.keys,
          e = d.length;
      return this.parent.scheduler.scheduleRecursiveWithState(0, a);
    }, yc.pairs = function(a, b) {
      return b || (b = gc), new Yc(a, b);
    };
    var Zc = function(a) {
      function b(b, c, d) {
        this.start = b, this.rangeCount = c, this.scheduler = d, a.call(this);
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        var b = new $c(a, this);
        return b.run();
      }, b;
    }(zc),
        $c = function() {
          function a(a, b) {
            this.observer = a, this.parent = b;
          }
          return a.prototype.run = function() {
            function a(a, e) {
              c > a ? (d.onNext(b + a), e(a + 1)) : d.onCompleted();
            }
            var b = this.parent.start,
                c = this.parent.rangeCount,
                d = this.observer;
            return this.parent.scheduler.scheduleRecursiveWithState(0, a);
          }, a;
        }();
    yc.range = function(a, b, c) {
      return bc(c) || (c = gc), new Zc(a, b, c);
    };
    var _c = function(a) {
      function b(b, c, d) {
        this.value = b, this.repeatCount = null == c ? -1 : c, this.scheduler = d, a.call(this);
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        var b = new F(a, this);
        return b.run();
      }, b;
    }(zc);
    F.prototype.run = function() {
      function a(a, d) {
        return (-1 === a || a > 0) && (b.onNext(c), a > 0 && a--), 0 === a ? b.onCompleted() : void d(a);
      }
      var b = this.observer,
          c = this.parent.value;
      return this.parent.scheduler.scheduleRecursiveWithState(this.parent.repeatCount, a);
    }, yc.repeat = function(a, b, c) {
      return bc(c) || (c = gc), new _c(a, b, c);
    };
    var ad = function(a) {
      function b(b, c) {
        this.value = b, this.scheduler = c, a.call(this);
      }
      function c(a, b, c) {
        this.observer = a, this.value = b, this.scheduler = c;
      }
      function d(a, b) {
        var c = b[0],
            d = b[1];
        return d.onNext(c), d.onCompleted(), Ub;
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        var b = new c(a, this.value, this.scheduler);
        return b.run();
      }, c.prototype.run = function() {
        var a = [this.value, this.observer];
        return this.scheduler === fc ? d(null, a) : this.scheduler.scheduleWithState(a, d);
      }, b;
    }(zc),
        bd = (yc["return"] = yc.just = function(a, b) {
          return bc(b) || (b = fc), new ad(a, b);
        }, function(a) {
          function b(b, c) {
            this.error = b, this.scheduler = c, a.call(this);
          }
          function c(a, b) {
            this.o = a, this.p = b;
          }
          function d(a, b) {
            var c = b[0],
                d = b[1];
            d.onError(c);
          }
          return Jb(b, a), b.prototype.subscribeCore = function(a) {
            var b = new c(a, this);
            return b.run();
          }, c.prototype.run = function() {
            return this.p.scheduler.scheduleWithState([this.p.error, this.o], d);
          }, b;
        }(zc)),
        cd = yc["throw"] = function(a, b) {
          return bc(b) || (b = fc), new bd(a, b);
        };
    yc.using = function(a, b) {
      return new Xd(function(c) {
        var e = Ub,
            f = d(a)();
        if (f === Sa)
          return new Qb(cd(f.e).subscribe(c), e);
        f && (e = f);
        var g = d(b)(f);
        return g === Sa ? new Qb(cd(g.e).subscribe(c), e) : new Qb(g.subscribe(c), e);
      });
    }, sc.amb = function(a) {
      var b = this;
      return new Xd(function(c) {
        function d() {
          f || (f = g, j.dispose());
        }
        function e() {
          f || (f = h, i.dispose());
        }
        var f,
            g = "L",
            h = "R",
            i = new Xb,
            j = new Xb;
        Qa(a) && (a = Jc(a));
        var k = rc(function(a) {
          d(), f === g && c.onNext(a);
        }, function(a) {
          d(), f === g && c.onError(a);
        }, function() {
          d(), f === g && c.onCompleted();
        }),
            l = rc(function(a) {
              e(), f === h && c.onNext(a);
            }, function(a) {
              e(), f === h && c.onError(a);
            }, function() {
              e(), f === h && c.onCompleted();
            });
        return i.setDisposable(b.subscribe(k)), j.setDisposable(a.subscribe(l)), new Qb(i, j);
      });
    }, yc.amb = function() {
      var a,
          b = Xc();
      if (Array.isArray(arguments[0]))
        a = arguments[0];
      else {
        var c = arguments.length;
        a = new Array(a);
        for (var d = 0; c > d; d++)
          a[d] = arguments[d];
      }
      for (var d = 0,
          c = a.length; c > d; d++)
        b = G(b, a[d]);
      return b;
    };
    var dd = function(a) {
      function b(b, c, d) {
        this._o = b, this._s = c, this._fn = d, a.call(this);
      }
      return Jb(b, a), b.prototype.next = function(a) {
        this._o.onNext(a);
      }, b.prototype.completed = function() {
        return this._o.onCompleted();
      }, b.prototype.error = function(a) {
        var b = d(this._fn)(a);
        if (b === Sa)
          return this._o.onError(b.e);
        Qa(b) && (b = Jc(b));
        var c = new Xb;
        this._s.setDisposable(c), c.setDisposable(b.subscribe(this._o));
      }, b;
    }(tc);
    sc["catch"] = function(a) {
      return Ra(a) ? H(this, a) : ed([this, a]);
    };
    var ed = yc["catch"] = function() {
      var a;
      if (Array.isArray(arguments[0]))
        a = arguments[0];
      else {
        var b = arguments.length;
        a = new Array(b);
        for (var c = 0; b > c; c++)
          a[c] = arguments[c];
      }
      return Hc(a).catchError();
    };
    sc.combineLatest = function() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      return Array.isArray(b[0]) ? b[0].unshift(this) : b.unshift(this), fd.apply(this, b);
    };
    var fd = yc.combineLatest = function() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      var d = Ra(b[a - 1]) ? b.pop() : J;
      return Array.isArray(b[0]) && (b = b[0]), new Xd(function(a) {
        function c(b) {
          if (g[b] = !0, h || (h = g.every(La))) {
            try {
              var c = d.apply(null, j);
            } catch (e) {
              return a.onError(e);
            }
            a.onNext(c);
          } else
            i.filter(function(a, c) {
              return c !== b;
            }).every(La) && a.onCompleted();
        }
        function e(b) {
          i[b] = !0, i.every(La) && a.onCompleted();
        }
        for (var f = b.length,
            g = q(f, I),
            h = !1,
            i = q(f, I),
            j = new Array(f),
            k = new Array(f),
            l = 0; f > l; l++)
          !function(d) {
            var f = b[d],
                g = new Xb;
            Qa(f) && (f = Jc(f)), g.setDisposable(f.subscribe(function(a) {
              j[d] = a, c(d);
            }, function(b) {
              a.onError(b);
            }, function() {
              e(d);
            })), k[d] = g;
          }(l);
        return new Qb(k);
      }, this);
    };
    sc.concat = function() {
      for (var a = [],
          b = 0,
          c = arguments.length; c > b; b++)
        a.push(arguments[b]);
      return a.unshift(this), hd.apply(null, a);
    };
    var gd = function(a) {
      function b(b) {
        this.sources = b, a.call(this);
      }
      function c(a, b) {
        this.sources = a, this.o = b;
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        var b = new c(this.sources, a);
        return b.run();
      }, c.prototype.run = function() {
        var a,
            b = new Yb,
            c = this.sources,
            d = c.length,
            e = this.o,
            f = fc.scheduleRecursiveWithState(0, function(f, g) {
              if (!a) {
                if (f === d)
                  return e.onCompleted();
                var h = c[f];
                Qa(h) && (h = Jc(h));
                var i = new Xb;
                b.setDisposable(i), i.setDisposable(h.subscribe(function(a) {
                  e.onNext(a);
                }, function(a) {
                  e.onError(a);
                }, function() {
                  g(f + 1);
                }));
              }
            });
        return new Qb(b, f, Tb(function() {
          a = !0;
        }));
      }, b;
    }(zc),
        hd = yc.concat = function() {
          var a;
          if (Array.isArray(arguments[0]))
            a = arguments[0];
          else {
            a = new Array(arguments.length);
            for (var b = 0,
                c = arguments.length; c > b; b++)
              a[b] = arguments[b];
          }
          return new gd(a);
        };
    sc.concatAll = function() {
      return this.merge(1);
    };
    var id = function(a) {
      function b(b, c) {
        this.source = b, this.maxConcurrent = c, a.call(this);
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        var b = new Qb;
        return b.add(this.source.subscribe(new jd(a, this.maxConcurrent, b))), b;
      }, b;
    }(zc),
        jd = function() {
          function a(a, b, c) {
            this.o = a, this.max = b, this.g = c, this.done = !1, this.q = [], this.activeCount = 0, this.isStopped = !1;
          }
          function b(a, b) {
            this.parent = a, this.sad = b, this.isStopped = !1;
          }
          return a.prototype.handleSubscribe = function(a) {
            var c = new Xb;
            this.g.add(c), Qa(a) && (a = Jc(a)), c.setDisposable(a.subscribe(new b(this, c)));
          }, a.prototype.onNext = function(a) {
            this.isStopped || (this.activeCount < this.max ? (this.activeCount++, this.handleSubscribe(a)) : this.q.push(a));
          }, a.prototype.onError = function(a) {
            this.isStopped || (this.isStopped = !0, this.o.onError(a));
          }, a.prototype.onCompleted = function() {
            this.isStopped || (this.isStopped = !0, this.done = !0, 0 === this.activeCount && this.o.onCompleted());
          }, a.prototype.dispose = function() {
            this.isStopped = !0;
          }, a.prototype.fail = function(a) {
            return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
          }, b.prototype.onNext = function(a) {
            this.isStopped || this.parent.o.onNext(a);
          }, b.prototype.onError = function(a) {
            this.isStopped || (this.isStopped = !0, this.parent.o.onError(a));
          }, b.prototype.onCompleted = function() {
            if (!this.isStopped) {
              this.isStopped = !0;
              var a = this.parent;
              a.g.remove(this.sad), a.q.length > 0 ? a.handleSubscribe(a.q.shift()) : (a.activeCount--, a.done && 0 === a.activeCount && a.o.onCompleted());
            }
          }, b.prototype.dispose = function() {
            this.isStopped = !0;
          }, b.prototype.fail = function(a) {
            return this.isStopped ? !1 : (this.isStopped = !0, this.parent.o.onError(a), !0);
          }, a;
        }();
    sc.merge = function(a) {
      return "number" != typeof a ? kd(this, a) : new id(this, a);
    };
    var kd = yc.merge = function() {
      var a,
          b,
          c = [],
          d = arguments.length;
      if (arguments[0])
        if (bc(arguments[0]))
          for (a = arguments[0], b = 1; d > b; b++)
            c.push(arguments[b]);
        else
          for (a = fc, b = 0; d > b; b++)
            c.push(arguments[b]);
      else
        for (a = fc, b = 1; d > b; b++)
          c.push(arguments[b]);
      return Array.isArray(c[0]) && (c = c[0]), D(a, c).mergeAll();
    },
        ld = function(a) {
          function b(b) {
            this.source = b, a.call(this);
          }
          function c(a, b) {
            this.o = a, this.g = b, this.isStopped = !1, this.done = !1;
          }
          function d(a, b) {
            this.parent = a, this.sad = b, this.isStopped = !1;
          }
          return Jb(b, a), b.prototype.subscribeCore = function(a) {
            var b = new Qb,
                d = new Xb;
            return b.add(d), d.setDisposable(this.source.subscribe(new c(a, b))), b;
          }, c.prototype.onNext = function(a) {
            if (!this.isStopped) {
              var b = new Xb;
              this.g.add(b), Qa(a) && (a = Jc(a)), b.setDisposable(a.subscribe(new d(this, b)));
            }
          }, c.prototype.onError = function(a) {
            this.isStopped || (this.isStopped = !0, this.o.onError(a));
          }, c.prototype.onCompleted = function() {
            this.isStopped || (this.isStopped = !0, this.done = !0, 1 === this.g.length && this.o.onCompleted());
          }, c.prototype.dispose = function() {
            this.isStopped = !0;
          }, c.prototype.fail = function(a) {
            return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
          }, d.prototype.onNext = function(a) {
            this.isStopped || this.parent.o.onNext(a);
          }, d.prototype.onError = function(a) {
            this.isStopped || (this.isStopped = !0, this.parent.o.onError(a));
          }, d.prototype.onCompleted = function() {
            if (!this.isStopped) {
              var a = this.parent;
              this.isStopped = !0, a.g.remove(this.sad), a.done && 1 === a.g.length && a.o.onCompleted();
            }
          }, d.prototype.dispose = function() {
            this.isStopped = !0;
          }, d.prototype.fail = function(a) {
            return this.isStopped ? !1 : (this.isStopped = !0, this.parent.o.onError(a), !0);
          }, b;
        }(zc);
    sc.mergeAll = function() {
      return new ld(this);
    };
    var md = Ja.CompositeError = function(a) {
      this.name = "NotImplementedError", this.innerErrors = a, this.message = "This contains multiple errors. Check the innerErrors", Error.call(this);
    };
    md.prototype = Error.prototype, yc.mergeDelayError = function() {
      var a;
      if (Array.isArray(arguments[0]))
        a = arguments[0];
      else {
        var b = arguments.length;
        a = new Array(b);
        for (var c = 0; b > c; c++)
          a[c] = arguments[c];
      }
      var d = D(null, a);
      return new Xd(function(a) {
        function b() {
          0 === g.length ? a.onCompleted() : 1 === g.length ? a.onError(g[0]) : a.onError(new md(g));
        }
        var c = new Qb,
            e = new Xb,
            f = !1,
            g = [];
        return c.add(e), e.setDisposable(d.subscribe(function(d) {
          var e = new Xb;
          c.add(e), Qa(d) && (d = Jc(d)), e.setDisposable(d.subscribe(function(b) {
            a.onNext(b);
          }, function(a) {
            g.push(a), c.remove(e), f && 1 === c.length && b();
          }, function() {
            c.remove(e), f && 1 === c.length && b();
          }));
        }, function(a) {
          g.push(a), f = !0, 1 === c.length && b();
        }, function() {
          f = !0, 1 === c.length && b();
        })), c;
      });
    }, sc.onErrorResumeNext = function(a) {
      if (!a)
        throw new Error("Second observable is required");
      return nd([this, a]);
    };
    var nd = yc.onErrorResumeNext = function() {
      var a = [];
      if (Array.isArray(arguments[0]))
        a = arguments[0];
      else
        for (var b = 0,
            c = arguments.length; c > b; b++)
          a.push(arguments[b]);
      return new Xd(function(b) {
        var c = 0,
            d = new Yb,
            e = fc.scheduleRecursive(function(e) {
              var f,
                  g;
              c < a.length ? (f = a[c++], Qa(f) && (f = Jc(f)), g = new Xb, d.setDisposable(g), g.setDisposable(f.subscribe(b.onNext.bind(b), e, e))) : b.onCompleted();
            });
        return new Qb(d, e);
      });
    };
    sc.skipUntil = function(a) {
      var b = this;
      return new Xd(function(c) {
        var d = !1,
            e = new Qb(b.subscribe(function(a) {
              d && c.onNext(a);
            }, function(a) {
              c.onError(a);
            }, function() {
              d && c.onCompleted();
            }));
        Qa(a) && (a = Jc(a));
        var f = new Xb;
        return e.add(f), f.setDisposable(a.subscribe(function() {
          d = !0, f.dispose();
        }, function(a) {
          c.onError(a);
        }, function() {
          f.dispose();
        })), e;
      }, b);
    };
    var od = function(a) {
      function b(b) {
        this.source = b, a.call(this);
      }
      function c(a, b) {
        this.o = a, this.inner = b, this.stopped = !1, this.latest = 0, this.hasLatest = !1, this.isStopped = !1;
      }
      function d(a, b) {
        this.parent = a, this.id = b, this.isStopped = !1;
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        var b = new Yb,
            d = this.source.subscribe(new c(a, b));
        return new Qb(d, b);
      }, c.prototype.onNext = function(a) {
        if (!this.isStopped) {
          var b = new Xb,
              c = ++this.latest;
          this.hasLatest = !0, this.inner.setDisposable(b), Qa(a) && (a = Jc(a)), b.setDisposable(a.subscribe(new d(this, c)));
        }
      }, c.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      }, c.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0, this.stopped = !0, !this.hasLatest && this.o.onCompleted());
      }, c.prototype.dispose = function() {
        this.isStopped = !0;
      }, c.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }, d.prototype.onNext = function(a) {
        this.isStopped || this.parent.latest === this.id && this.parent.o.onNext(a);
      }, d.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.parent.latest === this.id && this.parent.o.onError(a));
      }, d.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0, this.parent.latest === this.id && (this.parent.hasLatest = !1, this.parent.isStopped && this.parent.o.onCompleted()));
      }, d.prototype.dispose = function() {
        this.isStopped = !0;
      }, d.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.parent.o.onError(a), !0);
      }, b;
    }(zc);
    sc["switch"] = sc.switchLatest = function() {
      return new od(this);
    };
    var pd = function(a) {
      function b(b, c) {
        this.source = b, this.other = Qa(c) ? Jc(c) : c, a.call(this);
      }
      function c(a) {
        this.o = a, this.isStopped = !1;
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        return new Qb(this.source.subscribe(a), this.other.subscribe(new c(a)));
      }, c.prototype.onNext = function(a) {
        this.isStopped || this.o.onCompleted();
      }, c.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      }, c.prototype.onCompleted = function() {
        !this.isStopped && (this.isStopped = !0);
      }, c.prototype.dispose = function() {
        this.isStopped = !0;
      }, c.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }, b;
    }(zc);
    sc.takeUntil = function(a) {
      return new pd(this, a);
    }, sc.withLatestFrom = function() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      var e = b.pop(),
          f = this;
      return Array.isArray(b[0]) && (b = b[0]), new Xd(function(a) {
        for (var c = b.length,
            g = q(c, I),
            h = !1,
            i = new Array(c),
            j = new Array(c + 1),
            k = 0; c > k; k++)
          !function(c) {
            var d = b[c],
                e = new Xb;
            Qa(d) && (d = Jc(d)), e.setDisposable(d.subscribe(function(a) {
              i[c] = a, g[c] = !0, h = g.every(La);
            }, function(b) {
              a.onError(b);
            }, Ka)), j[c] = e;
          }(k);
        var l = new Xb;
        return l.setDisposable(f.subscribe(function(b) {
          var c = [b].concat(i);
          if (h) {
            var f = d(e).apply(null, c);
            return f === Sa ? a.onError(f.e) : void a.onNext(f);
          }
        }, function(b) {
          a.onError(b);
        }, function() {
          a.onCompleted();
        })), j[c] = l, new Qb(j);
      }, this);
    }, sc.zip = function() {
      if (0 === arguments.length)
        throw new Error("invalid arguments");
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      var e = Ra(b[a - 1]) ? b.pop() : J;
      Array.isArray(b[0]) && (b = b[0]);
      var f = this;
      return b.unshift(f), new Xd(function(a) {
        for (var c = b.length,
            g = q(c, K),
            h = q(c, I),
            i = new Array(c),
            j = 0; c > j; j++)
          !function(c) {
            var j = b[c],
                k = new Xb;
            Qa(j) && (j = Jc(j)), k.setDisposable(j.subscribe(function(b) {
              if (g[c].push(b), g.every(function(a) {
                return a.length > 0;
              })) {
                var i = g.map(function(a) {
                  return a.shift();
                }),
                    j = d(e).apply(f, i);
                if (j === Sa)
                  return a.onError(j.e);
                a.onNext(j);
              } else
                h.filter(function(a, b) {
                  return b !== c;
                }).every(La) && a.onCompleted();
            }, function(b) {
              a.onError(b);
            }, function() {
              h[c] = !0, h.every(La) && a.onCompleted();
            })), i[c] = k;
          }(j);
        return new Qb(i);
      }, f);
    }, yc.zip = function() {
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      Array.isArray(b[0]) && (b = Ra(b[1]) ? b[0].concat(b[1]) : b[0]);
      var d = b.shift();
      return d.zip.apply(d, b);
    }, sc.zipIterable = function() {
      if (0 === arguments.length)
        throw new Error("invalid arguments");
      for (var a = arguments.length,
          b = new Array(a),
          c = 0; a > c; c++)
        b[c] = arguments[c];
      var e = Ra(b[a - 1]) ? b.pop() : J,
          f = this;
      return b.unshift(f), new Xd(function(a) {
        for (var c = b.length,
            g = q(c, K),
            h = q(c, I),
            i = new Array(c),
            j = 0; c > j; j++)
          !function(c) {
            var j = b[c],
                k = new Xb;
            (gb(j) || fb(j)) && (j = Sc(j)), k.setDisposable(j.subscribe(function(b) {
              if (g[c].push(b), g.every(function(a) {
                return a.length > 0;
              })) {
                var i = g.map(function(a) {
                  return a.shift();
                }),
                    j = d(e).apply(f, i);
                if (j === Sa)
                  return a.onError(j.e);
                a.onNext(j);
              } else
                h.filter(function(a, b) {
                  return b !== c;
                }).every(La) && a.onCompleted();
            }, function(b) {
              a.onError(b);
            }, function() {
              h[c] = !0, h.every(La) && a.onCompleted();
            })), i[c] = k;
          }(j);
        return new Qb(i);
      }, f);
    }, sc.asObservable = function() {
      return new Xd(L(this), this);
    }, sc.bufferWithCount = function(a, b) {
      return "number" != typeof b && (b = a), this.windowWithCount(a, b).flatMap(M).filter(N);
    }, sc.dematerialize = function() {
      var a = this;
      return new Xd(function(b) {
        return a.subscribe(function(a) {
          return a.accept(b);
        }, function(a) {
          b.onError(a);
        }, function() {
          b.onCompleted();
        });
      }, this);
    };
    var qd = function(a) {
      function b(b, c, d) {
        this.source = b, this.keyFn = c, this.comparer = d, a.call(this);
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new rd(a, this.keyFn, this.comparer));
      }, b;
    }(zc),
        rd = function(a) {
          function b(b, c, d) {
            this.o = b, this.keyFn = c, this.comparer = d, this.hasCurrentKey = !1, this.currentKey = null, a.call(this);
          }
          return Jb(b, a), b.prototype.next = function(a) {
            var b,
                c = a;
            return Ra(this.keyFn) && (c = d(this.keyFn)(a), c === Sa) ? this.o.onError(c.e) : this.hasCurrentKey && (b = d(this.comparer)(this.currentKey, c), b === Sa) ? this.o.onError(b.e) : void(this.hasCurrentKey && b || (this.hasCurrentKey = !0, this.currentKey = c, this.o.onNext(a)));
          }, b.prototype.error = function(a) {
            this.o.onError(a);
          }, b.prototype.completed = function() {
            this.o.onCompleted();
          }, b;
        }(tc);
    sc.distinctUntilChanged = function(a, b) {
      return b || (b = Na), new qd(this, a, b);
    };
    var sd = function(a) {
      function b(b, c, d, e) {
        this.source = b, this._oN = c, this._oE = d, this._oC = e, a.call(this);
      }
      function c(a, b) {
        this.o = a, this.t = !b._oN || Ra(b._oN) ? rc(b._oN || Ka, b._oE || Ka, b._oC || Ka) : b._oN, this.isStopped = !1;
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new c(a, this));
      }, c.prototype.onNext = function(a) {
        if (!this.isStopped) {
          var b = d(this.t.onNext).call(this.t, a);
          b === Sa && this.o.onError(b.e), this.o.onNext(a);
        }
      }, c.prototype.onError = function(a) {
        if (!this.isStopped) {
          this.isStopped = !0;
          var b = d(this.t.onError).call(this.t, a);
          if (b === Sa)
            return this.o.onError(b.e);
          this.o.onError(a);
        }
      }, c.prototype.onCompleted = function() {
        if (!this.isStopped) {
          this.isStopped = !0;
          var a = d(this.t.onCompleted).call(this.t);
          if (a === Sa)
            return this.o.onError(a.e);
          this.o.onCompleted();
        }
      }, c.prototype.dispose = function() {
        this.isStopped = !0;
      }, c.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }, b;
    }(zc);
    sc["do"] = sc.tap = sc.doAction = function(a, b, c) {
      return new sd(this, a, b, c);
    }, sc.doOnNext = sc.tapOnNext = function(a, b) {
      return this.tap("undefined" != typeof b ? function(c) {
        a.call(b, c);
      } : a);
    }, sc.doOnError = sc.tapOnError = function(a, b) {
      return this.tap(Ka, "undefined" != typeof b ? function(c) {
        a.call(b, c);
      } : a);
    }, sc.doOnCompleted = sc.tapOnCompleted = function(a, b) {
      return this.tap(Ka, null, "undefined" != typeof b ? function() {
        a.call(b);
      } : a);
    }, sc["finally"] = function(a) {
      var b = this;
      return new Xd(function(c) {
        var f = d(b.subscribe).call(b, c);
        return f === Sa ? (a(), e(f.e)) : Tb(function() {
          var b = d(f.dispose).call(f);
          a(), b === Sa && e(b.e);
        });
      }, this);
    };
    var td = function(a) {
      function b(b) {
        this.source = b, a.call(this);
      }
      function c(a) {
        this.o = a, this.isStopped = !1;
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new c(a));
      }, c.prototype.onNext = Ka, c.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      }, c.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0, this.o.onCompleted());
      }, c.prototype.dispose = function() {
        this.isStopped = !0;
      }, c.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.observer.onError(a), !0);
      }, b;
    }(zc);
    sc.ignoreElements = function() {
      return new td(this);
    }, sc.materialize = function() {
      var a = this;
      return new Xd(function(b) {
        return a.subscribe(function(a) {
          b.onNext(nc(a));
        }, function(a) {
          b.onNext(oc(a)), b.onCompleted();
        }, function() {
          b.onNext(pc()), b.onCompleted();
        });
      }, a);
    }, sc.repeat = function(a) {
      return Fc(this, a).concat();
    }, sc.retry = function(a) {
      return Fc(this, a).catchError();
    }, sc.retryWhen = function(a) {
      return Fc(this).catchErrorWhen(a);
    };
    var ud = function(a) {
      function b(b, c, d, e) {
        this.source = b, this.accumulator = c, this.hasSeed = d, this.seed = e, a.call(this);
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new O(a, this));
      }, b;
    }(zc);
    O.prototype = {
      onNext: function(a) {
        return this.isStopped ? void 0 : (!this.hasValue && (this.hasValue = !0), this.hasAccumulation ? this.accumulation = d(this.accumulator)(this.accumulation, a) : (this.accumulation = this.hasSeed ? d(this.accumulator)(this.seed, a) : a, this.hasAccumulation = !0), this.accumulation === Sa ? this.o.onError(this.accumulation.e) : void this.o.onNext(this.accumulation));
      },
      onError: function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      },
      onCompleted: function() {
        this.isStopped || (this.isStopped = !0, !this.hasValue && this.hasSeed && this.o.onNext(this.seed), this.o.onCompleted());
      },
      dispose: function() {
        this.isStopped = !0;
      },
      fail: function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }
    }, sc.scan = function() {
      var a,
          b = !1,
          c = arguments[0];
      return 2 === arguments.length && (b = !0, a = arguments[1]), new ud(this, c, b, a);
    }, sc.skipLast = function(a) {
      if (0 > a)
        throw new $a;
      var b = this;
      return new Xd(function(c) {
        var d = [];
        return b.subscribe(function(b) {
          d.push(b), d.length > a && c.onNext(d.shift());
        }, function(a) {
          c.onError(a);
        }, function() {
          c.onCompleted();
        });
      }, b);
    }, sc.startWith = function() {
      var a,
          b = 0;
      arguments.length && bc(arguments[0]) ? (a = arguments[0], b = 1) : a = fc;
      for (var c = [],
          d = b,
          e = arguments.length; e > d; d++)
        c.push(arguments[d]);
      return Hc([Uc(c, a), this]).concat();
    }, sc.takeLast = function(a) {
      if (0 > a)
        throw new $a;
      var b = this;
      return new Xd(function(c) {
        var d = [];
        return b.subscribe(function(b) {
          d.push(b), d.length > a && d.shift();
        }, function(a) {
          c.onError(a);
        }, function() {
          for (; d.length > 0; )
            c.onNext(d.shift());
          c.onCompleted();
        });
      }, b);
    }, sc.takeLastBuffer = function(a) {
      var b = this;
      return new Xd(function(c) {
        var d = [];
        return b.subscribe(function(b) {
          d.push(b), d.length > a && d.shift();
        }, function(a) {
          c.onError(a);
        }, function() {
          c.onNext(d), c.onCompleted();
        });
      }, b);
    }, sc.windowWithCount = function(a, b) {
      var c = this;
      if (+a || (a = 0), Math.abs(a) === 1 / 0 && (a = 0), 0 >= a)
        throw new $a;
      if (null == b && (b = a), +b || (b = 0), Math.abs(b) === 1 / 0 && (b = 0), 0 >= b)
        throw new $a;
      return new Xd(function(d) {
        function e() {
          var a = new $d;
          i.push(a), d.onNext(Lb(a, g));
        }
        var f = new Xb,
            g = new Zb(f),
            h = 0,
            i = [];
        return e(), f.setDisposable(c.subscribe(function(c) {
          for (var d = 0,
              f = i.length; f > d; d++)
            i[d].onNext(c);
          var g = h - a + 1;
          g >= 0 && g % b === 0 && i.shift().onCompleted(), ++h % b === 0 && e();
        }, function(a) {
          for (; i.length > 0; )
            i.shift().onError(a);
          d.onError(a);
        }, function() {
          for (; i.length > 0; )
            i.shift().onCompleted();
          d.onCompleted();
        })), g;
      }, c);
    }, sc.flatMapConcat = sc.concatMap = function(a, b, c) {
      return new Ac(this, a, b, c).merge(1);
    }, sc.concatMapObserver = sc.selectConcatObserver = function(a, b, c, d) {
      var e = this,
          f = ib(a, d, 2),
          g = ib(b, d, 1),
          h = ib(c, d, 0);
      return new Xd(function(a) {
        var b = 0;
        return e.subscribe(function(c) {
          var d;
          try {
            d = f(c, b++);
          } catch (e) {
            return void a.onError(e);
          }
          Qa(d) && (d = Jc(d)), a.onNext(d);
        }, function(b) {
          var c;
          try {
            c = g(b);
          } catch (d) {
            return void a.onError(d);
          }
          Qa(c) && (c = Jc(c)), a.onNext(c), a.onCompleted();
        }, function() {
          var b;
          try {
            b = h();
          } catch (c) {
            return void a.onError(c);
          }
          Qa(b) && (b = Jc(b)), a.onNext(b), a.onCompleted();
        });
      }, this).concatAll();
    }, sc.defaultIfEmpty = function(b) {
      var c = this;
      return b === a && (b = null), new Xd(function(a) {
        var d = !1;
        return c.subscribe(function(b) {
          d = !0, a.onNext(b);
        }, function(b) {
          a.onError(b);
        }, function() {
          !d && a.onNext(b), a.onCompleted();
        });
      }, c);
    }, Q.prototype.push = function(a) {
      var b = -1 === P(this.set, a, this.comparer);
      return b && this.set.push(a), b;
    }, sc.distinct = function(a, b) {
      var c = this;
      return b || (b = Na), new Xd(function(d) {
        var e = new Q(b);
        return c.subscribe(function(b) {
          var c = b;
          if (a)
            try {
              c = a(b);
            } catch (f) {
              return void d.onError(f);
            }
          e.push(c) && d.onNext(b);
        }, function(a) {
          d.onError(a);
        }, function() {
          d.onCompleted();
        });
      }, this);
    }, sc.groupBy = function(a, b) {
      return this.groupByUntil(a, b, Xc);
    }, sc.groupByUntil = function(b, c, e) {
      var f = this;
      return new Xd(function(g) {
        var h = new Ud,
            i = new Qb,
            j = new Zb(i),
            k = function(a) {
              return function(b) {
                b.onError(a);
              };
            };
        return i.add(f.subscribe(function(f) {
          var l = d(b)(f);
          if (l === Sa)
            return h.forEach(k(l.e)), g.onError(l.e);
          var m = !1,
              n = h.get(l);
          if (n === a && (n = new $d, h.set(l, n), m = !0), m) {
            var o = new Zd(l, n, j),
                p = new Zd(l, n),
                q = d(e)(p);
            if (q === Sa)
              return h.forEach(k(q.e)), g.onError(q.e);
            g.onNext(o);
            var r = new Xb;
            i.add(r), r.setDisposable(q.take(1).subscribe(Ka, function(a) {
              h.forEach(k(a)), g.onError(a);
            }, function() {
              h["delete"](l) && n.onCompleted(), i.remove(r);
            }));
          }
          var s = f;
          return Ra(c) && (s = d(c)(f), s === Sa) ? (h.forEach(k(s.e)), g.onError(s.e)) : void n.onNext(s);
        }, function(a) {
          h.forEach(k(a)), g.onError(a);
        }, function() {
          h.forEach(function(a) {
            a.onCompleted();
          }), g.onCompleted();
        })), j;
      }, f);
    };
    var vd = function(a) {
      function b(b, c, d) {
        this.source = b, this.selector = ib(c, d, 3), a.call(this);
      }
      function c(a, b) {
        return function(c, d, e) {
          return a.call(this, b.selector(c, d, e), d, e);
        };
      }
      function e(a, b, c) {
        this.o = a, this.selector = b, this.source = c, this.i = 0, this.isStopped = !1;
      }
      return Jb(b, a), b.prototype.internalMap = function(a, d) {
        return new b(this.source, c(a, this), d);
      }, b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new e(a, this.selector, this));
      }, e.prototype.onNext = function(a) {
        if (!this.isStopped) {
          var b = d(this.selector)(a, this.i++, this.source);
          return b === Sa ? this.o.onError(b.e) : void this.o.onNext(b);
        }
      }, e.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      }, e.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0, this.o.onCompleted());
      }, e.prototype.dispose = function() {
        this.isStopped = !0;
      }, e.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }, b;
    }(zc);
    sc.map = sc.select = function(a, b) {
      var c = "function" == typeof a ? a : function() {
        return a;
      };
      return this instanceof vd ? this.internalMap(c, b) : new vd(this, c, b);
    }, sc.pluck = function() {
      var a = arguments.length,
          b = new Array(a);
      if (0 === a)
        throw new Error("List of properties cannot be empty.");
      for (var c = 0; a > c; c++)
        b[c] = arguments[c];
      return this.map(R(b, a));
    }, sc.flatMap = sc.selectMany = function(a, b, c) {
      return new Ac(this, a, b, c).mergeAll();
    }, sc.flatMapObserver = sc.selectManyObserver = function(a, b, c, d) {
      var e = this;
      return new Xd(function(f) {
        var g = 0;
        return e.subscribe(function(b) {
          var c;
          try {
            c = a.call(d, b, g++);
          } catch (e) {
            return void f.onError(e);
          }
          Qa(c) && (c = Jc(c)), f.onNext(c);
        }, function(a) {
          var c;
          try {
            c = b.call(d, a);
          } catch (e) {
            return void f.onError(e);
          }
          Qa(c) && (c = Jc(c)), f.onNext(c), f.onCompleted();
        }, function() {
          var a;
          try {
            a = c.call(d);
          } catch (b) {
            return void f.onError(b);
          }
          Qa(a) && (a = Jc(a)), f.onNext(a), f.onCompleted();
        });
      }, e).mergeAll();
    }, Ja.Observable.prototype.flatMapLatest = function(a, b, c) {
      return new Ac(this, a, b, c).switchLatest();
    };
    var wd = function(a) {
      function b(b, c) {
        this.source = b, this.skipCount = c, a.call(this);
      }
      function c(a, b) {
        this.c = b, this.r = b, this.o = a, this.isStopped = !1;
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new c(a, this.skipCount));
      }, c.prototype.onNext = function(a) {
        this.isStopped || (this.r <= 0 ? this.o.onNext(a) : this.r--);
      }, c.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      }, c.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0, this.o.onCompleted());
      }, c.prototype.dispose = function() {
        this.isStopped = !0;
      }, c.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }, b;
    }(zc);
    sc.skip = function(a) {
      if (0 > a)
        throw new $a;
      return new wd(this, a);
    }, sc.skipWhile = function(a, b) {
      var c = this,
          d = ib(a, b, 3);
      return new Xd(function(a) {
        var b = 0,
            e = !1;
        return c.subscribe(function(f) {
          if (!e)
            try {
              e = !d(f, b++, c);
            } catch (g) {
              return void a.onError(g);
            }
          e && a.onNext(f);
        }, function(b) {
          a.onError(b);
        }, function() {
          a.onCompleted();
        });
      }, c);
    }, sc.take = function(a, b) {
      if (0 > a)
        throw new $a;
      if (0 === a)
        return Oc(b);
      var c = this;
      return new Xd(function(b) {
        var d = a;
        return c.subscribe(function(a) {
          d-- > 0 && (b.onNext(a), 0 >= d && b.onCompleted());
        }, function(a) {
          b.onError(a);
        }, function() {
          b.onCompleted();
        });
      }, c);
    }, sc.takeWhile = function(a, b) {
      var c = this,
          d = ib(a, b, 3);
      return new Xd(function(a) {
        var b = 0,
            e = !0;
        return c.subscribe(function(f) {
          if (e) {
            try {
              e = d(f, b++, c);
            } catch (g) {
              return void a.onError(g);
            }
            e ? a.onNext(f) : a.onCompleted();
          }
        }, function(b) {
          a.onError(b);
        }, function() {
          a.onCompleted();
        });
      }, c);
    };
    var xd = function(a) {
      function b(b, c, d) {
        this.source = b, this.predicate = ib(c, d, 3), a.call(this);
      }
      function c(a, b) {
        return function(c, d, e) {
          return b.predicate(c, d, e) && a.call(this, c, d, e);
        };
      }
      function e(a, b, c) {
        this.o = a, this.predicate = b, this.source = c, this.i = 0, this.isStopped = !1;
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new e(a, this.predicate, this));
      }, b.prototype.internalFilter = function(a, d) {
        return new b(this.source, c(a, this), d);
      }, e.prototype.onNext = function(a) {
        if (!this.isStopped) {
          var b = d(this.predicate)(a, this.i++, this.source);
          return b === Sa ? this.o.onError(b.e) : void(b && this.o.onNext(a));
        }
      }, e.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      }, e.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0, this.o.onCompleted());
      }, e.prototype.dispose = function() {
        this.isStopped = !0;
      }, e.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }, b;
    }(zc);
    sc.filter = sc.where = function(a, b) {
      return this instanceof xd ? this.internalFilter(a, b) : new xd(this, a, b);
    };
    var yd = function(a) {
      function b(b, c, d, e) {
        this.source = b, this.acc = c, this.hasSeed = d, this.seed = e, a.call(this);
      }
      function c(a, b) {
        this.o = a, this.acc = b.acc, this.hasSeed = b.hasSeed, this.seed = b.seed, this.hasAccumulation = !1, this.result = null, this.hasValue = !1, this.isStopped = !1;
      }
      return Jb(b, a), b.prototype.subscribeCore = function(a) {
        return this.source.subscribe(new c(a, this));
      }, c.prototype.onNext = function(a) {
        this.isStopped || (!this.hasValue && (this.hasValue = !0), this.hasAccumulation ? this.result = d(this.acc)(this.result, a) : (this.result = this.hasSeed ? d(this.acc)(this.seed, a) : a, this.hasAccumulation = !0), this.result === Sa && this.o.onError(this.result.e));
      }, c.prototype.onError = function(a) {
        this.isStopped || (this.isStopped = !0, this.o.onError(a));
      }, c.prototype.onCompleted = function() {
        this.isStopped || (this.isStopped = !0, this.hasValue && this.o.onNext(this.result), !this.hasValue && this.hasSeed && this.o.onNext(this.seed), !this.hasValue && !this.hasSeed && this.o.onError(new Ya), this.o.onCompleted());
      }, c.prototype.dispose = function() {
        this.isStopped = !0;
      }, c.prototype.fail = function(a) {
        return this.isStopped ? !1 : (this.isStopped = !0, this.o.onError(a), !0);
      }, b;
    }(zc);
    sc.reduce = function(a) {
      var b = !1;
      if (2 === arguments.length) {
        b = !0;
        var c = arguments[1];
      }
      return new yd(this, a, b, c);
    };
    var zd = function(a) {
      function b(b, c, d) {
        this._o = b, this._fn = c, this._s = d, this._i = 0, a.call(this);
      }
      return Jb(b, a), b.prototype.next = function(a) {
        var b = d(this._fn)(a, this._i++, this._s);
        return b === Sa ? this._o.onError(b.e) : void(Boolean(b) && (this._o.onNext(!0), this._o.onCompleted()));
      }, b.prototype.error = function(a) {
        this._o.onError(a);
      }, b.prototype.completed = function() {
        this._o.onNext(!1), this._o.onCompleted();
      }, b;
    }(tc);
    sc.some = function(a, b) {
      var c = this,
          d = ib(a, b, 3);
      return new Xd(function(a) {
        return c.subscribe(new zd(a, d, c));
      });
    };
    var Ad = function(a) {
      function b(b) {
        this._o = b, a.call(this);
      }
      return Jb(b, a), b.prototype.next = function() {
        this._o.onNext(!1), this._o.onCompleted();
      }, b.prototype.error = function(a) {
        this._o.onError(a);
      }, b.prototype.completed = function() {
        this._o.onNext(!0), this._o.onCompleted();
      }, b;
    }(tc);
    sc.isEmpty = function() {
      var a = this;
      return new Xd(function(b) {
        return a.subscribe(new Ad(b));
      }, a);
    };
    var Bd = function(a) {
      function b(b, c, d) {
        this._o = b, this._fn = c, this._s = d, this._i = 0, a.call(this);
      }
      return Jb(b, a), b.prototype.next = function(a) {
        var b = d(this._fn)(a, this._i++, this._s);
        return b === Sa ? this._o.onError(b.e) : void(Boolean(b) || (this._o.onNext(!1), this._o.onCompleted()));
      }, b.prototype.error = function(a) {
        this._o.onError(a);
      }, b.prototype.completed = function() {
        this._o.onNext(!0), this._o.onCompleted();
      }, b;
    }(tc);
    sc.every = function(a, b) {
      var c = this,
          d = ib(a, b, 3);
      return new Xd(function(a) {
        return c.subscribe(new Bd(a, d, c));
      }, this);
    }, sc.includes = function(a, b) {
      function c(a, b) {
        return 0 === a && 0 === b || a === b || isNaN(a) && isNaN(b);
      }
      var d = this;
      return new Xd(function(e) {
        var f = 0,
            g = +b || 0;
        return Math.abs(g) === 1 / 0 && (g = 0), 0 > g ? (e.onNext(!1), e.onCompleted(), Ub) : d.subscribe(function(b) {
          f++ >= g && c(b, a) && (e.onNext(!0), e.onCompleted());
        }, function(a) {
          e.onError(a);
        }, function() {
          e.onNext(!1), e.onCompleted();
        });
      }, this);
    }, sc.contains = function(a, b) {
      sc.includes(a, b);
    }, sc.count = function(a, b) {
      return a ? this.filter(a, b).count() : this.reduce(function(a) {
        return a + 1;
      }, 0);
    }, sc.indexOf = function(a, b) {
      var c = this;
      return new Xd(function(d) {
        var e = 0,
            f = +b || 0;
        return Math.abs(f) === 1 / 0 && (f = 0), 0 > f ? (d.onNext(-1), d.onCompleted(), Ub) : c.subscribe(function(b) {
          e >= f && b === a && (d.onNext(e), d.onCompleted()), e++;
        }, function(a) {
          d.onError(a);
        }, function() {
          d.onNext(-1), d.onCompleted();
        });
      }, c);
    }, sc.sum = function(a, b) {
      return a && Ra(a) ? this.map(a, b).sum() : this.reduce(function(a, b) {
        return a + b;
      }, 0);
    }, sc.minBy = function(a, b) {
      return b || (b = Oa), S(this, a, function(a, c) {
        return -1 * b(a, c);
      });
    }, sc.min = function(a) {
      return this.minBy(La, a).map(function(a) {
        return T(a);
      });
    }, sc.maxBy = function(a, b) {
      return b || (b = Oa), S(this, a, b);
    }, sc.max = function(a) {
      return this.maxBy(La, a).map(function(a) {
        return T(a);
      });
    };
    var Cd = function(a) {
      function b(b, c, d) {
        this._o = b, this._fn = c, this._s = d, this._c = 0, this._t = 0, a.call(this);
      }
      return Jb(b, a), b.prototype.next = function(a) {
        if (this._fn) {
          var b = d(this._fn)(a, this._c++, this._s);
          if (b === Sa)
            return this._o.onError(b.e);
          this._t += b;
        } else
          this._c++, this._t += a;
      }, b.prototype.error = function(a) {
        this._o.onError(a);
      }, b.prototype.completed = function() {
        return 0 === this._c ? this._o.onError(new Ya) : (this._o.onNext(this._t / this._c), void this._o.onCompleted());
      }, b;
    }(tc);
    sc.average = function(a, b) {
      var c,
          d = this;
      return Ra(a) && (c = ib(a, b, 3)), new Xd(function(a) {
        return d.subscribe(new Cd(a, c, d));
      }, d);
    }, sc.sequenceEqual = function(a, b) {
      var c = this;
      return b || (b = Na), new Xd(function(d) {
        var e = !1,
            f = !1,
            g = [],
            h = [],
            i = c.subscribe(function(a) {
              var c,
                  e;
              if (h.length > 0) {
                e = h.shift();
                try {
                  c = b(e, a);
                } catch (i) {
                  return void d.onError(i);
                }
                c || (d.onNext(!1), d.onCompleted());
              } else
                f ? (d.onNext(!1), d.onCompleted()) : g.push(a);
            }, function(a) {
              d.onError(a);
            }, function() {
              e = !0, 0 === g.length && (h.length > 0 ? (d.onNext(!1), d.onCompleted()) : f && (d.onNext(!0), d.onCompleted()));
            });
        (gb(a) || fb(a)) && (a = Sc(a)), Qa(a) && (a = Jc(a));
        var j = a.subscribe(function(a) {
          var c;
          if (g.length > 0) {
            var f = g.shift();
            try {
              c = b(f, a);
            } catch (i) {
              return void d.onError(i);
            }
            c || (d.onNext(!1), d.onCompleted());
          } else
            e ? (d.onNext(!1), d.onCompleted()) : h.push(a);
        }, function(a) {
          d.onError(a);
        }, function() {
          f = !0, 0 === h.length && (g.length > 0 ? (d.onNext(!1), d.onCompleted()) : e && (d.onNext(!0), d.onCompleted()));
        });
        return new Qb(i, j);
      }, c);
    }, sc.elementAt = function(b, c) {
      if (0 > b)
        throw new $a;
      var d = this;
      return new Xd(function(e) {
        var f = b;
        return d.subscribe(function(a) {
          0 === f-- && (e.onNext(a), e.onCompleted());
        }, function(a) {
          e.onError(a);
        }, function() {
          c === a ? e.onError(new $a) : (e.onNext(c), e.onCompleted());
        });
      }, d);
    }, sc.single = function(a, b) {
      if (Ra(a))
        return this.filter(a, b).single();
      var c = this;
      return new Xd(function(a) {
        var b,
            d = !1;
        return c.subscribe(function(c) {
          d ? a.onError(new Error("Sequence contains more than one element")) : (b = c, d = !0);
        }, function(b) {
          a.onError(b);
        }, function() {
          a.onNext(b), a.onCompleted();
        });
      }, c);
    };
    var Dd = function(b) {
      function c(a, c, d) {
        this._o = a, this._obj = c, this._s = d, this._i = 0, b.call(this);
      }
      return Jb(c, b), c.prototype.next = function(a) {
        if (this._obj.predicate) {
          var b = d(this._obj.predicate)(a, this._i++, this._s);
          if (b === Sa)
            return this._o.onError(b.e);
          Boolean(b) && (this._o.onNext(a), this._o.onCompleted());
        } else
          this._obj.predicate || (this._o.onNext(a), this._o.onCompleted());
      }, c.prototype.error = function(a) {
        this._o.onError(a);
      }, c.prototype.completed = function() {
        this._obj.defaultValue === a ? this._o.onError(new Ya) : (this._o.onNext(this._obj.defaultValue), this._o.onCompleted());
      }, c;
    }(tc);
    sc.first = function() {
      var a = {},
          b = this;
      if (a = "object" == typeof arguments[0] ? arguments[0] : {
        predicate: arguments[0],
        thisArg: arguments[1],
        defaultValue: arguments[2]
      }, Ra(a.predicate)) {
        var c = a.predicate;
        a.predicate = ib(c, a.thisArg, 3);
      }
      return new Xd(function(c) {
        return b.subscribe(new Dd(c, a, b));
      }, b);
    }, sc.last = function() {
      var b = {},
          c = this;
      if (b = "object" == typeof arguments[0] ? arguments[0] : {
        predicate: arguments[0],
        thisArg: arguments[1],
        defaultValue: arguments[2]
      }, Ra(b.predicate)) {
        var e = b.predicate;
        b.predicate = ib(e, b.thisArg, 3);
      }
      return new Xd(function(e) {
        var f,
            g = !1,
            h = 0;
        return c.subscribe(function(a) {
          if (b.predicate) {
            var i = d(b.predicate)(a, h++, c);
            if (i === Sa)
              return e.onError(i.e);
            i && (g = !0, f = a);
          } else
            b.predicate || (g = !0, f = a);
        }, function(a) {
          e.onError(a);
        }, function() {
          g ? (e.onNext(f), e.onCompleted()) : b.defaultValue === a ? e.onError(new Ya) : (e.onNext(b.defaultValue), e.onCompleted());
        });
      }, c);
    }, sc.find = function(a, b) {
      return U(this, a, b, !1);
    }, sc.findIndex = function(a, b) {
      return U(this, a, b, !0);
    }, sc.toSet = function() {
      if ("undefined" == typeof Ia.Set)
        throw new TypeError;
      var a = this;
      return new Xd(function(b) {
        var c = new Ia.Set;
        return a.subscribe(function(a) {
          c.add(a);
        }, function(a) {
          b.onError(a);
        }, function() {
          b.onNext(c), b.onCompleted();
        });
      }, a);
    }, sc.toMap = function(a, b) {
      if ("undefined" == typeof Ia.Map)
        throw new TypeError;
      var c = this;
      return new Xd(function(d) {
        var e = new Ia.Map;
        return c.subscribe(function(c) {
          var f;
          try {
            f = a(c);
          } catch (g) {
            return void d.onError(g);
          }
          var h = c;
          if (b)
            try {
              h = b(c);
            } catch (g) {
              return void d.onError(g);
            }
          e.set(f, h);
        }, function(a) {
          d.onError(a);
        }, function() {
          d.onNext(e), d.onCompleted();
        });
      }, c);
    }, yc.wrap = function(a) {
      function b() {
        return yc.spawn.call(this, a.apply(this, arguments));
      }
      return b.__generatorFunction__ = a, b;
    };
    var Ed = yc.spawn = function() {
      for (var a = arguments[0],
          b = this,
          c = [],
          e = 1,
          f = arguments.length; f > e; e++)
        c.push(arguments[e]);
      return new Xd(function(e) {
        function f(b) {
          var c = d(a.next).call(a, b);
          return c === Sa ? e.onError(c.e) : void h(c);
        }
        function g(b) {
          var c = d(a.next).call(a, b);
          return c === Sa ? e.onError(c.e) : void h(c);
        }
        function h(a) {
          if (a.done)
            return e.onNext(a.value), void e.onCompleted();
          var c = V.call(b, a.value);
          yc.isObservable(c) ? i.add(c.subscribe(f, g)) : g(new TypeError("type not supported"));
        }
        var i = new Qb;
        return Ra(a) && (a = a.apply(b, c)), a && Ra(a.next) ? (f(), i) : (e.onNext(a), e.onCompleted());
      });
    };
    yc.start = function(a, b, c) {
      return Fd(a, b, c)();
    };
    var Fd = yc.toAsync = function(a, b, c) {
      return bc(c) || (c = kc), function() {
        var d = arguments,
            e = new _d;
        return c.schedule(function() {
          var c;
          try {
            c = a.apply(b, d);
          } catch (f) {
            return void e.onError(f);
          }
          e.onNext(c), e.onCompleted();
        }), e.asObservable();
      };
    };
    yc.fromCallback = function(a, b, c) {
      return function() {
        "undefined" == typeof b && (b = this);
        for (var d = arguments.length,
            e = new Array(d),
            f = 0; d > f; f++)
          e[f] = arguments[f];
        return _(a, b, c, e);
      };
    }, yc.fromNodeCallback = function(a, b, c) {
      return function() {
        "undefined" == typeof b && (b = this);
        for (var d = arguments.length,
            e = new Array(d),
            f = 0; d > f; f++)
          e[f] = arguments[f];
        return ba(a, b, c, e);
      };
    }, fa.prototype.dispose = function() {
      this.isDisposed || (this._e.removeEventListener(this._n, this._fn, !1), this.isDisposed = !0);
    }, ga.prototype.dispose = function() {
      this.isDisposed || (this._e.detachEvent(this._n, this._fn), this.isDisposed = !0);
    }, ha.prototype.dispose = function() {
      this.isDisposed || (this._e[this._n] = null, this.isDisposed = !0);
    }, Ja.config.useNativeEvents = !1, yc.fromEvent = function(a, b, c) {
      return a.addListener ? Gd(function(c) {
        a.addListener(b, c);
      }, function(c) {
        a.removeListener(b, c);
      }, c) : Ja.config.useNativeEvents || "function" != typeof a.on || "function" != typeof a.off ? new Xd(function(e) {
        return ja(a, b, function() {
          var a = arguments[0];
          return Ra(c) && (a = d(c).apply(null, arguments), a === Sa) ? e.onError(a.e) : void e.onNext(a);
        });
      }).publish().refCount() : Gd(function(c) {
        a.on(b, c);
      }, function(c) {
        a.off(b, c);
      }, c);
    };
    var Gd = yc.fromEventPattern = function(a, b, c, e) {
      return bc(e) || (e = fc), new Xd(function(e) {
        function f() {
          var a = arguments[0];
          return Ra(c) && (a = d(c).apply(null, arguments), a === Sa) ? e.onError(a.e) : void e.onNext(a);
        }
        var g = a(f);
        return Tb(function() {
          Ra(b) && b(f, g);
        });
      }).publish().refCount();
    };
    yc.startAsync = function(a) {
      var b;
      try {
        b = a();
      } catch (c) {
        return cd(c);
      }
      return Jc(b);
    };
    var Hd = function(a) {
      function b(a) {
        var b = this.source.publish(),
            c = b.subscribe(a),
            d = Ub,
            e = this.pauser.distinctUntilChanged().subscribe(function(a) {
              a ? d = b.connect() : (d.dispose(), d = Ub);
            });
        return new Qb(c, d, e);
      }
      function c(c, d) {
        this.source = c, this.controller = new $d, d && d.subscribe ? this.pauser = this.controller.merge(d) : this.pauser = this.controller, a.call(this, b, c);
      }
      return Jb(c, a), c.prototype.pause = function() {
        this.controller.onNext(!1);
      }, c.prototype.resume = function() {
        this.controller.onNext(!0);
      }, c;
    }(yc);
    sc.pausable = function(a) {
      return new Hd(this, a);
    };
    var Id = function(b) {
      function c(b) {
        function c() {
          for (; e.length > 0; )
            b.onNext(e.shift());
        }
        var d,
            e = [],
            f = ka(this.source, this.pauser.startWith(!1).distinctUntilChanged(), function(a, b) {
              return {
                data: a,
                shouldFire: b
              };
            }).subscribe(function(f) {
              d !== a && f.shouldFire != d ? (d = f.shouldFire, f.shouldFire && c()) : (d = f.shouldFire, f.shouldFire ? b.onNext(f.data) : e.push(f.data));
            }, function(a) {
              c(), b.onError(a);
            }, function() {
              c(), b.onCompleted();
            });
        return f;
      }
      function d(a, d) {
        this.source = a, this.controller = new $d, d && d.subscribe ? this.pauser = this.controller.merge(d) : this.pauser = this.controller, b.call(this, c, a);
      }
      return Jb(d, b), d.prototype.pause = function() {
        this.controller.onNext(!1);
      }, d.prototype.resume = function() {
        this.controller.onNext(!0);
      }, d;
    }(yc);
    sc.pausableBuffered = function(a) {
      return new Id(this, a);
    };
    var Jd = function(a) {
      function b(a) {
        return this.source.subscribe(a);
      }
      function c(c, d, e) {
        a.call(this, b, c), this.subject = new Kd(d, e), this.source = c.multicast(this.subject).refCount();
      }
      return Jb(c, a), c.prototype.request = function(a) {
        return this.subject.request(null == a ? -1 : a);
      }, c;
    }(yc),
        Kd = function(a) {
          function b(a) {
            return this.subject.subscribe(a);
          }
          function c(c, d) {
            null == c && (c = !0), a.call(this, b), this.subject = new $d, this.enableQueue = c, this.queue = c ? [] : null, this.requestedCount = 0, this.requestedDisposable = null, this.error = null, this.hasFailed = !1, this.hasCompleted = !1, this.scheduler = d || gc;
          }
          return Jb(c, a), Kb(c.prototype, qc, {
            onCompleted: function() {
              this.hasCompleted = !0, this.enableQueue && 0 !== this.queue.length ? this.queue.push(mc.createOnCompleted()) : (this.subject.onCompleted(), this.disposeCurrentRequest());
            },
            onError: function(a) {
              this.hasFailed = !0, this.error = a, this.enableQueue && 0 !== this.queue.length ? this.queue.push(mc.createOnError(a)) : (this.subject.onError(a), this.disposeCurrentRequest());
            },
            onNext: function(a) {
              this.requestedCount <= 0 ? this.enableQueue && this.queue.push(mc.createOnNext(a)) : (0 === this.requestedCount-- && this.disposeCurrentRequest(), this.subject.onNext(a));
            },
            _processRequest: function(a) {
              if (this.enableQueue)
                for (; this.queue.length > 0 && (a > 0 || "N" !== this.queue[0].kind); ) {
                  var b = this.queue.shift();
                  b.accept(this.subject), "N" === b.kind ? a-- : (this.disposeCurrentRequest(), this.queue = []);
                }
              return a;
            },
            request: function(a) {
              this.disposeCurrentRequest();
              var b = this;
              return this.requestedDisposable = this.scheduler.scheduleWithState(a, function(a, c) {
                var d = b._processRequest(c),
                    e = b.hasCompleted || b.hasFailed;
                return !e && d > 0 ? (b.requestedCount = d, Tb(function() {
                  b.requestedCount = 0;
                })) : void 0;
              }), this.requestedDisposable;
            },
            disposeCurrentRequest: function() {
              this.requestedDisposable && (this.requestedDisposable.dispose(), this.requestedDisposable = null);
            }
          }), c;
        }(yc);
    sc.controlled = function(a, b) {
      return a && bc(a) && (b = a, a = !0), null == a && (a = !0), new Jd(this, a, b);
    };
    var Ld = function(a) {
      function b(a) {
        this.subscription = this.source.subscribe(new d(a, this, this.subscription));
        var b = this;
        return kc.schedule(function() {
          b.source.request(1);
        }), this.subscription;
      }
      function c(c) {
        a.call(this, b, c), this.source = c;
      }
      Jb(c, a);
      var d = function(a) {
        function b(b, c, d) {
          a.call(this), this.observer = b, this.observable = c, this.cancel = d;
        }
        Jb(b, a);
        var c = b.prototype;
        return c.completed = function() {
          this.observer.onCompleted(), this.dispose();
        }, c.error = function(a) {
          this.observer.onError(a), this.dispose();
        }, c.next = function(a) {
          this.observer.onNext(a);
          var b = this;
          kc.schedule(function() {
            b.observable.source.request(1);
          });
        }, c.dispose = function() {
          this.observer = null, this.cancel && (this.cancel.dispose(), this.cancel = null), a.prototype.dispose.call(this);
        }, b;
      }(tc);
      return c;
    }(yc);
    Jd.prototype.stopAndWait = function() {
      return new Ld(this);
    };
    var Md = function(a) {
      function b(a) {
        this.subscription = this.source.subscribe(new d(a, this, this.subscription));
        var b = this;
        return kc.schedule(function() {
          b.source.request(b.windowSize);
        }), this.subscription;
      }
      function c(c, d) {
        a.call(this, b, c), this.source = c, this.windowSize = d;
      }
      Jb(c, a);
      var d = function(a) {
        function b(a, b, c) {
          this.observer = a, this.observable = b, this.cancel = c, this.received = 0;
        }
        Jb(b, a);
        var c = b.prototype;
        return c.completed = function() {
          this.observer.onCompleted(), this.dispose();
        }, c.error = function(a) {
          this.observer.onError(a), this.dispose();
        }, c.next = function(a) {
          if (this.observer.onNext(a), this.received = ++this.received % this.observable.windowSize, 0 === this.received) {
            var b = this;
            kc.schedule(function() {
              b.observable.source.request(b.observable.windowSize);
            });
          }
        }, c.dispose = function() {
          this.observer = null, this.cancel && (this.cancel.dispose(), this.cancel = null), a.prototype.dispose.call(this);
        }, b;
      }(tc);
      return c;
    }(yc);
    Jd.prototype.windowed = function(a) {
      return new Md(this, a);
    }, sc.pipe = function(a) {
      function b() {
        c.resume();
      }
      var c = this.pausableBuffered();
      return a.addListener("drain", b), c.subscribe(function(b) {
        !a.write(String(b)) && c.pause();
      }, function(b) {
        a.emit("error", b);
      }, function() {
        !a._isStdio && a.end(), a.removeListener("drain", b);
      }), c.resume(), a;
    }, sc.multicast = function(a, b) {
      var c = this;
      return "function" == typeof a ? new Xd(function(d) {
        var e = c.multicast(a());
        return new Qb(b(e).subscribe(d), e.connect());
      }, c) : new Qd(c, a);
    }, sc.publish = function(a) {
      return a && Ra(a) ? this.multicast(function() {
        return new $d;
      }, a) : this.multicast(new $d);
    }, sc.share = function() {
      return this.publish().refCount();
    }, sc.publishLast = function(a) {
      return a && Ra(a) ? this.multicast(function() {
        return new _d;
      }, a) : this.multicast(new _d);
    }, sc.publishValue = function(a, b) {
      return 2 === arguments.length ? this.multicast(function() {
        return new Od(b);
      }, a) : this.multicast(new Od(a));
    }, sc.shareValue = function(a) {
      return this.publishValue(a).refCount();
    }, sc.replay = function(a, b, c, d) {
      return a && Ra(a) ? this.multicast(function() {
        return new Pd(b, c, d);
      }, a) : this.multicast(new Pd(b, c, d));
    }, sc.shareReplay = function(a, b, c) {
      return this.replay(null, a, b, c).refCount();
    };
    var Nd = function(a, b) {
      this.subject = a, this.observer = b;
    };
    Nd.prototype.dispose = function() {
      if (!this.subject.isDisposed && null !== this.observer) {
        var a = this.subject.observers.indexOf(this.observer);
        this.subject.observers.splice(a, 1), this.observer = null;
      }
    };
    var Od = Ja.BehaviorSubject = function(a) {
      function c(a) {
        return Wb(this), this.isStopped ? (this.hasError ? a.onError(this.error) : a.onCompleted(), Ub) : (this.observers.push(a), a.onNext(this.value), new Nd(this, a));
      }
      function d(b) {
        a.call(this, c), this.value = b, this.observers = [], this.isDisposed = !1, this.isStopped = !1, this.hasError = !1;
      }
      return Jb(d, a), Kb(d.prototype, qc, {
        getValue: function() {
          if (Wb(this), this.hasError)
            throw this.error;
          return this.value;
        },
        hasObservers: function() {
          return this.observers.length > 0;
        },
        onCompleted: function() {
          if (Wb(this), !this.isStopped) {
            this.isStopped = !0;
            for (var a = 0,
                c = b(this.observers),
                d = c.length; d > a; a++)
              c[a].onCompleted();
            this.observers.length = 0;
          }
        },
        onError: function(a) {
          if (Wb(this), !this.isStopped) {
            this.isStopped = !0, this.hasError = !0, this.error = a;
            for (var c = 0,
                d = b(this.observers),
                e = d.length; e > c; c++)
              d[c].onError(a);
            this.observers.length = 0;
          }
        },
        onNext: function(a) {
          if (Wb(this), !this.isStopped) {
            this.value = a;
            for (var c = 0,
                d = b(this.observers),
                e = d.length; e > c; c++)
              d[c].onNext(a);
          }
        },
        dispose: function() {
          this.isDisposed = !0, this.observers = null, this.value = null, this.exception = null;
        }
      }), d;
    }(yc),
        Pd = Ja.ReplaySubject = function(a) {
          function c(a, b) {
            return Tb(function() {
              b.dispose(), !a.isDisposed && a.observers.splice(a.observers.indexOf(b), 1);
            });
          }
          function d(a) {
            var b = new wc(this.scheduler, a),
                d = c(this, b);
            Wb(this), this._trim(this.scheduler.now()), this.observers.push(b);
            for (var e = 0,
                f = this.q.length; f > e; e++)
              b.onNext(this.q[e].value);
            return this.hasError ? b.onError(this.error) : this.isStopped && b.onCompleted(), b.ensureActive(), d;
          }
          function e(b, c, e) {
            this.bufferSize = null == b ? f : b, this.windowSize = null == c ? f : c, this.scheduler = e || gc, this.q = [], this.observers = [], this.isStopped = !1, this.isDisposed = !1, this.hasError = !1, this.error = null, a.call(this, d);
          }
          var f = Math.pow(2, 53) - 1;
          return Jb(e, a), Kb(e.prototype, qc.prototype, {
            hasObservers: function() {
              return this.observers.length > 0;
            },
            _trim: function(a) {
              for (; this.q.length > this.bufferSize; )
                this.q.shift();
              for (; this.q.length > 0 && a - this.q[0].interval > this.windowSize; )
                this.q.shift();
            },
            onNext: function(a) {
              if (Wb(this), !this.isStopped) {
                var c = this.scheduler.now();
                this.q.push({
                  interval: c,
                  value: a
                }), this._trim(c);
                for (var d = 0,
                    e = b(this.observers),
                    f = e.length; f > d; d++) {
                  var g = e[d];
                  g.onNext(a), g.ensureActive();
                }
              }
            },
            onError: function(a) {
              if (Wb(this), !this.isStopped) {
                this.isStopped = !0, this.error = a, this.hasError = !0;
                var c = this.scheduler.now();
                this._trim(c);
                for (var d = 0,
                    e = b(this.observers),
                    f = e.length; f > d; d++) {
                  var g = e[d];
                  g.onError(a), g.ensureActive();
                }
                this.observers.length = 0;
              }
            },
            onCompleted: function() {
              if (Wb(this), !this.isStopped) {
                this.isStopped = !0;
                var a = this.scheduler.now();
                this._trim(a);
                for (var c = 0,
                    d = b(this.observers),
                    e = d.length; e > c; c++) {
                  var f = d[c];
                  f.onCompleted(), f.ensureActive();
                }
                this.observers.length = 0;
              }
            },
            dispose: function() {
              this.isDisposed = !0, this.observers = null;
            }
          }), e;
        }(yc),
        Qd = Ja.ConnectableObservable = function(a) {
          function b(b, c) {
            var d,
                e = !1,
                f = b.asObservable();
            this.connect = function() {
              return e || (e = !0, d = new Qb(f.subscribe(c), Tb(function() {
                e = !1;
              }))), d;
            }, a.call(this, function(a) {
              return c.subscribe(a);
            });
          }
          return Jb(b, a), b.prototype.refCount = function() {
            var a,
                b = 0,
                c = this;
            return new Xd(function(d) {
              var e = 1 === ++b,
                  f = c.subscribe(d);
              return e && (a = c.connect()), function() {
                f.dispose(), 0 === --b && a.dispose();
              };
            });
          }, b;
        }(yc);
    sc.singleInstance = function() {
      function a() {
        return d || (d = !0, b = c["finally"](function() {
          d = !1;
        }).publish().refCount()), b;
      }
      var b,
          c = this,
          d = !1;
      return new Xd(function(b) {
        return a().subscribe(b);
      });
    }, sc.join = function(a, b, c, e) {
      var f = this;
      return new Xd(function(g) {
        var h = new Qb,
            i = !1,
            j = !1,
            k = 0,
            l = 0,
            m = new Ud,
            n = new Ud,
            o = function(a) {
              g.onError(a);
            };
        return h.add(f.subscribe(function(a) {
          var c = k++,
              f = new Xb;
          m.set(c, a), h.add(f);
          var j = d(b)(a);
          return j === Sa ? g.onError(j.e) : (f.setDisposable(j.take(1).subscribe(Ka, o, function() {
            m["delete"](c) && 0 === m.size && i && g.onCompleted(), h.remove(f);
          })), void n.forEach(function(b) {
            var c = d(e)(a, b);
            return c === Sa ? g.onError(c.e) : void g.onNext(c);
          }));
        }, o, function() {
          i = !0, (j || 0 === m.size) && g.onCompleted();
        })), h.add(a.subscribe(function(a) {
          var b = l++,
              f = new Xb;
          n.set(b, a), h.add(f);
          var i = d(c)(a);
          return i === Sa ? g.onError(i.e) : (f.setDisposable(i.take(1).subscribe(Ka, o, function() {
            n["delete"](b) && 0 === n.size && j && g.onCompleted(), h.remove(f);
          })), void m.forEach(function(b) {
            var c = d(e)(b, a);
            return c === Sa ? g.onError(c.e) : void g.onNext(c);
          }));
        }, o, function() {
          j = !0, (i || 0 === n.size) && g.onCompleted();
        })), h;
      }, f);
    }, sc.groupJoin = function(a, b, c, e) {
      var f = this;
      return new Xd(function(g) {
        function h(a) {}
        var i = new Qb,
            j = new Zb(i),
            k = new Ud,
            l = new Ud,
            m = 0,
            n = 0,
            h = function(a) {
              return function(b) {
                b.onError(a);
              };
            };
        return i.add(f.subscribe(function(a) {
          var c = new $d,
              f = m++;
          k.set(f, c);
          var n = d(e)(a, Lb(c, j));
          if (n === Sa)
            return k.forEach(h(n.e)), g.onError(n.e);
          g.onNext(n), l.forEach(function(a) {
            c.onNext(a);
          });
          var o = new Xb;
          i.add(o);
          var p = d(b)(a);
          return p === Sa ? (k.forEach(h(p.e)), g.onError(p.e)) : void o.setDisposable(p.take(1).subscribe(Ka, function(a) {
            k.forEach(h(a)), g.onError(a);
          }, function() {
            k["delete"](f) && c.onCompleted(), i.remove(o);
          }));
        }, function(a) {
          k.forEach(h(a)), g.onError(a);
        }, function() {
          g.onCompleted();
        })), i.add(a.subscribe(function(a) {
          var b = n++;
          l.set(b, a);
          var e = new Xb;
          i.add(e);
          var f = d(c)(a);
          return f === Sa ? (k.forEach(h(f.e)), g.onError(f.e)) : (e.setDisposable(f.take(1).subscribe(Ka, function(a) {
            k.forEach(h(a)), g.onError(a);
          }, function() {
            l["delete"](b), i.remove(e);
          })), void k.forEach(function(b) {
            b.onNext(a);
          }));
        }, function(a) {
          k.forEach(h(a)), g.onError(a);
        })), j;
      }, f);
    }, sc.buffer = function() {
      return this.window.apply(this, arguments).flatMap(M);
    }, sc.window = function(a, b) {
      return 1 === arguments.length && "function" != typeof arguments[0] ? ma.call(this, a) : "function" == typeof a ? na.call(this, a) : la.call(this, a, b);
    }, sc.pairwise = function() {
      var a = this;
      return new Xd(function(b) {
        var c,
            d = !1;
        return a.subscribe(function(a) {
          d ? b.onNext([c, a]) : d = !0, c = a;
        }, b.onError.bind(b), b.onCompleted.bind(b));
      }, a);
    }, sc.partition = function(a, b) {
      return [this.filter(a, b), this.filter(function(c, d, e) {
        return !a.call(b, c, d, e);
      })];
    };
    var Rd = function(a) {
      function b(a, b) {
        this.c = a, this.s = b;
      }
      return Jb(b, a), b.prototype[db] = function() {
        var a = this;
        return {next: function() {
            return a.c() ? {
              done: !1,
              value: a.s
            } : {
              done: !0,
              value: void 0
            };
          }};
      }, b;
    }(Bc);
    sc.letBind = sc.let = function(a) {
      return a(this);
    }, yc["if"] = function(a, b, c) {
      return Lc(function() {
        return c || (c = Oc()), Qa(b) && (b = Jc(b)), Qa(c) && (c = Jc(c)), "function" == typeof c.now && (c = Oc(c)), a() ? b : c;
      });
    }, yc["for"] = yc.forIn = function(a, b, c) {
      return Hc(a, b, c).concat();
    };
    var Sd = yc["while"] = yc.whileDo = function(a, b) {
      return Qa(b) && (b = Jc(b)), oa(a, b).concat();
    };
    sc.doWhile = function(a) {
      return hd([this, Sd(a, this)]);
    }, yc["case"] = function(a, b, c) {
      return Lc(function() {
        Qa(c) && (c = Jc(c)), c || (c = Oc()), bc(c) && (c = Oc(c));
        var d = b[a()];
        return Qa(d) && (d = Jc(d)), d || c;
      });
    }, sc.expand = function(a, b) {
      bc(b) || (b = fc);
      var c = this;
      return new Xd(function(d) {
        var e = [],
            f = new Yb,
            g = new Qb(f),
            h = 0,
            i = !1,
            j = function() {
              var c = !1;
              e.length > 0 && (c = !i, i = !0), c && f.setDisposable(b.scheduleRecursive(function(b) {
                var c;
                if (!(e.length > 0))
                  return void(i = !1);
                c = e.shift();
                var f = new Xb;
                g.add(f), f.setDisposable(c.subscribe(function(b) {
                  d.onNext(b);
                  var c = null;
                  try {
                    c = a(b);
                  } catch (f) {
                    d.onError(f);
                  }
                  e.push(c), h++, j();
                }, d.onError.bind(d), function() {
                  g.remove(f), h--, 0 === h && d.onCompleted();
                })), b();
              }));
            };
        return e.push(c), h++, j(), g;
      }, this);
    }, yc.forkJoin = function() {
      var a = [];
      if (Array.isArray(arguments[0]))
        a = arguments[0];
      else
        for (var b = 0,
            c = arguments.length; c > b; b++)
          a.push(arguments[b]);
      return new Xd(function(b) {
        var c = a.length;
        if (0 === c)
          return b.onCompleted(), Ub;
        for (var d = new Qb,
            e = !1,
            f = new Array(c),
            g = new Array(c),
            h = new Array(c),
            i = 0; c > i; i++)
          !function(i) {
            var j = a[i];
            Qa(j) && (j = Jc(j)), d.add(j.subscribe(function(a) {
              e || (f[i] = !0, h[i] = a);
            }, function(a) {
              e = !0, b.onError(a), d.dispose();
            }, function() {
              if (!e) {
                if (!f[i])
                  return void b.onCompleted();
                g[i] = !0;
                for (var a = 0; c > a; a++)
                  if (!g[a])
                    return;
                e = !0, b.onNext(h), b.onCompleted();
              }
            }));
          }(i);
        return d;
      });
    }, sc.forkJoin = function(a, b) {
      var c = this;
      return new Xd(function(d) {
        var e,
            f,
            g = !1,
            h = !1,
            i = !1,
            j = !1,
            k = new Xb,
            l = new Xb;
        return Qa(a) && (a = Jc(a)), k.setDisposable(c.subscribe(function(a) {
          i = !0, e = a;
        }, function(a) {
          l.dispose(), d.onError(a);
        }, function() {
          if (g = !0, h)
            if (i)
              if (j) {
                var a;
                try {
                  a = b(e, f);
                } catch (c) {
                  return void d.onError(c);
                }
                d.onNext(a), d.onCompleted();
              } else
                d.onCompleted();
            else
              d.onCompleted();
        })), l.setDisposable(a.subscribe(function(a) {
          j = !0, f = a;
        }, function(a) {
          k.dispose(), d.onError(a);
        }, function() {
          if (h = !0, g)
            if (i)
              if (j) {
                var a;
                try {
                  a = b(e, f);
                } catch (c) {
                  return void d.onError(c);
                }
                d.onNext(a), d.onCompleted();
              } else
                d.onCompleted();
            else
              d.onCompleted();
        })), new Qb(k, l);
      }, c);
    }, sc.manySelect = sc.extend = function(a, b) {
      bc(b) || (b = fc);
      var c = this;
      return Lc(function() {
        var d;
        return c.map(function(a) {
          var b = new Td(a);
          return d && d.onNext(a), d = b, b;
        }).tap(Ka, function(a) {
          d && d.onError(a);
        }, function() {
          d && d.onCompleted();
        }).observeOn(b).map(a);
      }, c);
    };
    var Td = function(a) {
      function b(a) {
        var b = this,
            c = new Qb;
        return c.add(gc.schedule(function() {
          a.onNext(b.head), c.add(b.tail.mergeAll().subscribe(a));
        })), c;
      }
      function c(c) {
        a.call(this, b), this.head = c, this.tail = new _d;
      }
      return Jb(c, a), Kb(c.prototype, qc, {
        onCompleted: function() {
          this.onNext(yc.empty());
        },
        onError: function(a) {
          this.onNext(yc["throw"](a));
        },
        onNext: function(a) {
          this.tail.onNext(a), this.tail.onCompleted();
        }
      }), c;
    }(yc),
        Ud = Ia.Map || function() {
          function b() {
            this.size = 0, this._values = [], this._keys = [];
          }
          return b.prototype["delete"] = function(a) {
            var b = this._keys.indexOf(a);
            return -1 === b ? !1 : (this._values.splice(b, 1), this._keys.splice(b, 1), this.size--, !0);
          }, b.prototype.get = function(b) {
            var c = this._keys.indexOf(b);
            return -1 === c ? a : this._values[c];
          }, b.prototype.set = function(a, b) {
            var c = this._keys.indexOf(a);
            return -1 === c ? (this._keys.push(a), this._values.push(b), this.size++) : this._values[c] = b, this;
          }, b.prototype.forEach = function(a, b) {
            for (var c = 0; c < this.size; c++)
              a.call(b, this._values[c], this._keys[c]);
          }, b;
        }();
    pa.prototype.and = function(a) {
      return new pa(this.patterns.concat(a));
    }, pa.prototype.thenDo = function(a) {
      return new qa(this, a);
    }, qa.prototype.activate = function(a, b, c) {
      for (var d = this,
          e = [],
          f = 0,
          g = this.expression.patterns.length; g > f; f++)
        e.push(ra(a, this.expression.patterns[f], b.onError.bind(b)));
      var h = new sa(e, function() {
        var a;
        try {
          a = d.selector.apply(d, arguments);
        } catch (c) {
          return void b.onError(c);
        }
        b.onNext(a);
      }, function() {
        for (var a = 0,
            b = e.length; b > a; a++)
          e[a].removeActivePlan(h);
        c(h);
      });
      for (f = 0, g = e.length; g > f; f++)
        e[f].addActivePlan(h);
      return h;
    }, sa.prototype.dequeue = function() {
      this.joinObservers.forEach(function(a) {
        a.queue.shift();
      });
    }, sa.prototype.match = function() {
      var a,
          b,
          c = !0;
      for (a = 0, b = this.joinObserverArray.length; b > a; a++)
        if (0 === this.joinObserverArray[a].queue.length) {
          c = !1;
          break;
        }
      if (c) {
        var d = [],
            e = !1;
        for (a = 0, b = this.joinObserverArray.length; b > a; a++)
          d.push(this.joinObserverArray[a].queue[0]), "C" === this.joinObserverArray[a].queue[0].kind && (e = !0);
        if (e)
          this.onCompleted();
        else {
          this.dequeue();
          var f = [];
          for (a = 0, b = d.length; a < d.length; a++)
            f.push(d[a].value);
          this.onNext.apply(this, f);
        }
      }
    };
    var Vd = function(a) {
      function b(b, c) {
        a.call(this), this.source = b, this.onError = c, this.queue = [], this.activePlans = [], this.subscription = new Xb, this.isDisposed = !1;
      }
      Jb(b, a);
      var c = b.prototype;
      return c.next = function(a) {
        if (!this.isDisposed) {
          if ("E" === a.kind)
            return this.onError(a.exception);
          this.queue.push(a);
          for (var b = this.activePlans.slice(0),
              c = 0,
              d = b.length; d > c; c++)
            b[c].match();
        }
      }, c.error = Ka, c.completed = Ka, c.addActivePlan = function(a) {
        this.activePlans.push(a);
      }, c.subscribe = function() {
        this.subscription.setDisposable(this.source.materialize().subscribe(this));
      }, c.removeActivePlan = function(a) {
        this.activePlans.splice(this.activePlans.indexOf(a), 1), 0 === this.activePlans.length && this.dispose();
      }, c.dispose = function() {
        a.prototype.dispose.call(this), this.isDisposed || (this.isDisposed = !0, this.subscription.dispose());
      }, b;
    }(tc);
    sc.and = function(a) {
      return new pa([this, a]);
    }, sc.thenDo = function(a) {
      return new pa([this]).thenDo(a);
    }, yc.when = function() {
      var a,
          b = arguments.length;
      if (Array.isArray(arguments[0]))
        a = arguments[0];
      else {
        a = new Array(b);
        for (var c = 0; b > c; c++)
          a[c] = arguments[c];
      }
      return new Xd(function(b) {
        var c = [],
            d = new Ud,
            e = rc(function(a) {
              b.onNext(a);
            }, function(a) {
              d.forEach(function(b) {
                b.onError(a);
              }), b.onError(a);
            }, function(a) {
              b.onCompleted();
            });
        try {
          for (var f = 0,
              g = a.length; g > f; f++)
            c.push(a[f].activate(d, e, function(a) {
              var d = c.indexOf(a);
              c.splice(d, 1), 0 === c.length && b.onCompleted();
            }));
        } catch (h) {
          cd(h).subscribe(b);
        }
        var i = new Qb;
        return d.forEach(function(a) {
          a.subscribe(), i.add(a);
        }), i;
      });
    };
    var Wd = yc.interval = function(a, b) {
      return wa(a, a, bc(b) ? b : kc);
    };
    yc.timer = function(b, c, d) {
      var e;
      return bc(d) || (d = kc), null != c && "number" == typeof c ? e = c : bc(c) && (d = c), b instanceof Date && e === a ? ta(b.getTime(), d) : b instanceof Date && e !== a ? ua(b.getTime(), c, d) : e === a ? va(b, d) : wa(b, e, d);
    };
    sc.delay = function(a, b) {
      return bc(b) || (b = kc), a instanceof Date ? ya(this, a.getTime(), b) : xa(this, a, b);
    }, sc.debounce = function(a, b) {
      bc(b) || (b = kc);
      var c = this;
      return new Xd(function(d) {
        var e,
            f = new Yb,
            g = !1,
            h = 0,
            i = c.subscribe(function(c) {
              g = !0, e = c, h++;
              var i = h,
                  j = new Xb;
              f.setDisposable(j), j.setDisposable(b.scheduleWithRelative(a, function() {
                g && h === i && d.onNext(e), g = !1;
              }));
            }, function(a) {
              f.dispose(), d.onError(a), g = !1, h++;
            }, function() {
              f.dispose(), g && d.onNext(e), d.onCompleted(), g = !1, h++;
            });
        return new Qb(i, f);
      }, this);
    }, sc.throttle = function(a, b) {
      return this.debounce(a, b);
    }, sc.windowWithTime = function(a, b, c) {
      var d,
          e = this;
      return null == b && (d = a), bc(c) || (c = kc), "number" == typeof b ? d = b : bc(b) && (d = a, c = b), new Xd(function(b) {
        function f() {
          var a = new Xb,
              e = !1,
              g = !1;
          l.setDisposable(a), j === i ? (e = !0, g = !0) : i > j ? e = !0 : g = !0;
          var n = e ? j : i,
              o = n - m;
          m = n, e && (j += d), g && (i += d), a.setDisposable(c.scheduleWithRelative(o, function() {
            if (g) {
              var a = new $d;
              k.push(a), b.onNext(Lb(a, h));
            }
            e && k.shift().onCompleted(), f();
          }));
        }
        var g,
            h,
            i = d,
            j = a,
            k = [],
            l = new Yb,
            m = 0;
        return g = new Qb(l), h = new Zb(g), k.push(new $d), b.onNext(Lb(k[0], h)), f(), g.add(e.subscribe(function(a) {
          for (var b = 0,
              c = k.length; c > b; b++)
            k[b].onNext(a);
        }, function(a) {
          for (var c = 0,
              d = k.length; d > c; c++)
            k[c].onError(a);
          b.onError(a);
        }, function() {
          for (var a = 0,
              c = k.length; c > a; a++)
            k[a].onCompleted();
          b.onCompleted();
        })), h;
      }, e);
    }, sc.windowWithTimeOrCount = function(a, b, c) {
      var d = this;
      return bc(c) || (c = kc), new Xd(function(e) {
        function f(b) {
          var d = new Xb;
          g.setDisposable(d), d.setDisposable(c.scheduleWithRelative(a, function() {
            if (b === k) {
              j = 0;
              var a = ++k;
              l.onCompleted(), l = new $d, e.onNext(Lb(l, i)), f(a);
            }
          }));
        }
        var g = new Yb,
            h = new Qb(g),
            i = new Zb(h),
            j = 0,
            k = 0,
            l = new $d;
        return e.onNext(Lb(l, i)), f(0), h.add(d.subscribe(function(a) {
          var c = 0,
              d = !1;
          l.onNext(a), ++j === b && (d = !0, j = 0, c = ++k, l.onCompleted(), l = new $d, e.onNext(Lb(l, i))), d && f(c);
        }, function(a) {
          l.onError(a), e.onError(a);
        }, function() {
          l.onCompleted(), e.onCompleted();
        })), i;
      }, d);
    }, sc.bufferWithTime = function(a, b, c) {
      return this.windowWithTime(a, b, c).flatMap(M);
    }, sc.bufferWithTimeOrCount = function(a, b, c) {
      return this.windowWithTimeOrCount(a, b, c).flatMap(M);
    }, sc.timeInterval = function(a) {
      var b = this;
      return bc(a) || (a = kc), Lc(function() {
        var c = a.now();
        return b.map(function(b) {
          var d = a.now(),
              e = d - c;
          return c = d, {
            value: b,
            interval: e
          };
        });
      });
    }, sc.timestamp = function(a) {
      return bc(a) || (a = kc), this.map(function(b) {
        return {
          value: b,
          timestamp: a.now()
        };
      });
    }, sc.sample = sc.throttleLatest = function(a, b) {
      return bc(b) || (b = kc), "number" == typeof a ? za(this, Wd(a, b)) : za(this, a);
    }, sc.timeout = function(a, b, c) {
      (null == b || "string" == typeof b) && (b = cd(new Error(b || "Timeout"))), bc(c) || (c = kc);
      var d = this,
          e = a instanceof Date ? "scheduleWithAbsolute" : "scheduleWithRelative";
      return new Xd(function(f) {
        function g() {
          var d = h;
          l.setDisposable(c[e](a, function() {
            h === d && (Qa(b) && (b = Jc(b)), j.setDisposable(b.subscribe(f)));
          }));
        }
        var h = 0,
            i = new Xb,
            j = new Yb,
            k = !1,
            l = new Yb;
        return j.setDisposable(i), g(), i.setDisposable(d.subscribe(function(a) {
          k || (h++, f.onNext(a), g());
        }, function(a) {
          k || (h++, f.onError(a));
        }, function() {
          k || (h++, f.onCompleted());
        })), new Qb(j, l);
      }, d);
    }, yc.generateWithAbsoluteTime = function(a, b, c, d, e, f) {
      return bc(f) || (f = kc), new Xd(function(g) {
        var h = !0,
            i = !1;
        return f.scheduleRecursiveWithAbsoluteAndState(a, f.now(), function(a, f) {
          i && g.onNext(a);
          try {
            if (h ? h = !1 : a = c(a), i = b(a))
              var j = d(a),
                  k = e(a);
          } catch (l) {
            return void g.onError(l);
          }
          i ? f(j, k) : g.onCompleted();
        });
      });
    }, yc.generateWithRelativeTime = function(a, b, c, d, e, f) {
      return bc(f) || (f = kc), new Xd(function(g) {
        var h = !0,
            i = !1;
        return f.scheduleRecursiveWithRelativeAndState(a, 0, function(a, f) {
          i && g.onNext(a);
          try {
            if (h ? h = !1 : a = c(a), i = b(a))
              var j = d(a),
                  k = e(a);
          } catch (l) {
            return void g.onError(l);
          }
          i ? f(j, k) : g.onCompleted();
        });
      });
    }, sc.delaySubscription = function(a, b) {
      var c = a instanceof Date ? "scheduleWithAbsolute" : "scheduleWithRelative",
          d = this;
      return bc(b) || (b = kc), new Xd(function(e) {
        var f = new Yb;
        return f.setDisposable(b[c](a, function() {
          f.setDisposable(d.subscribe(e));
        })), f;
      }, this);
    }, sc.delayWithSelector = function(a, b) {
      var c,
          e,
          f = this;
      return Ra(a) ? e = a : (c = a, e = b), new Xd(function(a) {
        function b() {
          j.setDisposable(f.subscribe(function(b) {
            var c = d(e)(b);
            if (c === Sa)
              return a.onError(c.e);
            var f = new Xb;
            h.add(f), f.setDisposable(c.subscribe(function() {
              a.onNext(b), h.remove(f), g();
            }, function(b) {
              a.onError(b);
            }, function() {
              a.onNext(b), h.remove(f), g();
            }));
          }, function(b) {
            a.onError(b);
          }, function() {
            i = !0, j.dispose(), g();
          }));
        }
        function g() {
          i && 0 === h.length && a.onCompleted();
        }
        var h = new Qb,
            i = !1,
            j = new Yb;
        return c ? j.setDisposable(c.subscribe(b, function(b) {
          a.onError(b);
        }, b)) : b(), new Qb(j, h);
      }, this);
    }, sc.timeoutWithSelector = function(a, b, c) {
      1 === arguments.length && (b = a, a = Xc()), c || (c = cd(new Error("Timeout")));
      var d = this;
      return new Xd(function(e) {
        function f(a) {
          function b() {
            return k === d;
          }
          var d = k,
              f = new Xb;
          i.setDisposable(f), f.setDisposable(a.subscribe(function() {
            b() && h.setDisposable(c.subscribe(e)), f.dispose();
          }, function(a) {
            b() && e.onError(a);
          }, function() {
            b() && h.setDisposable(c.subscribe(e));
          }));
        }
        function g() {
          var a = !l;
          return a && k++, a;
        }
        var h = new Yb,
            i = new Yb,
            j = new Xb;
        h.setDisposable(j);
        var k = 0,
            l = !1;
        return f(a), j.setDisposable(d.subscribe(function(a) {
          if (g()) {
            e.onNext(a);
            var c;
            try {
              c = b(a);
            } catch (d) {
              return void e.onError(d);
            }
            f(Qa(c) ? Jc(c) : c);
          }
        }, function(a) {
          g() && e.onError(a);
        }, function() {
          g() && e.onCompleted();
        })), new Qb(h, i);
      }, d);
    }, sc.debounceWithSelector = function(a) {
      var b = this;
      return new Xd(function(c) {
        var e,
            f = !1,
            g = new Yb,
            h = 0,
            i = b.subscribe(function(b) {
              var i = d(a)(b);
              if (i === Sa)
                return c.onError(i.e);
              Qa(i) && (i = Jc(i)), f = !0, e = b, h++;
              var j = h,
                  k = new Xb;
              g.setDisposable(k), k.setDisposable(i.subscribe(function() {
                f && h === j && c.onNext(e), f = !1, k.dispose();
              }, function(a) {
                c.onError(a);
              }, function() {
                f && h === j && c.onNext(e), f = !1, k.dispose();
              }));
            }, function(a) {
              g.dispose(), c.onError(a), f = !1, h++;
            }, function() {
              g.dispose(), f && c.onNext(e), c.onCompleted(), f = !1, h++;
            });
        return new Qb(i, g);
      }, b);
    }, sc.skipLastWithTime = function(a, b) {
      bc(b) || (b = kc);
      var c = this;
      return new Xd(function(d) {
        var e = [];
        return c.subscribe(function(c) {
          var f = b.now();
          for (e.push({
            interval: f,
            value: c
          }); e.length > 0 && f - e[0].interval >= a; )
            d.onNext(e.shift().value);
        }, function(a) {
          d.onError(a);
        }, function() {
          for (var c = b.now(); e.length > 0 && c - e[0].interval >= a; )
            d.onNext(e.shift().value);
          d.onCompleted();
        });
      }, c);
    }, sc.takeLastWithTime = function(a, b) {
      var c = this;
      return bc(b) || (b = kc), new Xd(function(d) {
        var e = [];
        return c.subscribe(function(c) {
          var d = b.now();
          for (e.push({
            interval: d,
            value: c
          }); e.length > 0 && d - e[0].interval >= a; )
            e.shift();
        }, function(a) {
          d.onError(a);
        }, function() {
          for (var c = b.now(); e.length > 0; ) {
            var f = e.shift();
            c - f.interval <= a && d.onNext(f.value);
          }
          d.onCompleted();
        });
      }, c);
    }, sc.takeLastBufferWithTime = function(a, b) {
      var c = this;
      return bc(b) || (b = kc), new Xd(function(d) {
        var e = [];
        return c.subscribe(function(c) {
          var d = b.now();
          for (e.push({
            interval: d,
            value: c
          }); e.length > 0 && d - e[0].interval >= a; )
            e.shift();
        }, function(a) {
          d.onError(a);
        }, function() {
          for (var c = b.now(),
              f = []; e.length > 0; ) {
            var g = e.shift();
            c - g.interval <= a && f.push(g.value);
          }
          d.onNext(f), d.onCompleted();
        });
      }, c);
    }, sc.takeWithTime = function(a, b) {
      var c = this;
      return bc(b) || (b = kc), new Xd(function(d) {
        return new Qb(b.scheduleWithRelative(a, function() {
          d.onCompleted();
        }), c.subscribe(d));
      }, c);
    }, sc.skipWithTime = function(a, b) {
      var c = this;
      return bc(b) || (b = kc), new Xd(function(d) {
        var e = !1;
        return new Qb(b.scheduleWithRelative(a, function() {
          e = !0;
        }), c.subscribe(function(a) {
          e && d.onNext(a);
        }, d.onError.bind(d), d.onCompleted.bind(d)));
      }, c);
    }, sc.skipUntilWithTime = function(a, b) {
      bc(b) || (b = kc);
      var c = this,
          d = a instanceof Date ? "scheduleWithAbsolute" : "scheduleWithRelative";
      return new Xd(function(e) {
        var f = !1;
        return new Qb(b[d](a, function() {
          f = !0;
        }), c.subscribe(function(a) {
          f && e.onNext(a);
        }, function(a) {
          e.onError(a);
        }, function() {
          e.onCompleted();
        }));
      }, c);
    }, sc.takeUntilWithTime = function(a, b) {
      bc(b) || (b = kc);
      var c = this,
          d = a instanceof Date ? "scheduleWithAbsolute" : "scheduleWithRelative";
      return new Xd(function(e) {
        return new Qb(b[d](a, function() {
          e.onCompleted();
        }), c.subscribe(e));
      }, c);
    }, sc.throttleFirst = function(a, b) {
      bc(b) || (b = kc);
      var c = +a || 0;
      if (0 >= c)
        throw new RangeError("windowDuration cannot be less or equal zero.");
      var d = this;
      return new Xd(function(a) {
        var e = 0;
        return d.subscribe(function(d) {
          var f = b.now();
          (0 === e || f - e >= c) && (e = f, a.onNext(d));
        }, function(b) {
          a.onError(b);
        }, function() {
          a.onCompleted();
        });
      }, d);
    }, sc.switchFirst = function() {
      var a = this;
      return new Xd(function(b) {
        var c = !1,
            d = !1,
            e = new Xb,
            f = new Qb;
        return f.add(e), e.setDisposable(a.subscribe(function(a) {
          if (!c) {
            c = !0, Qa(a) && (a = Jc(a));
            var e = new Xb;
            f.add(e), e.setDisposable(a.subscribe(function(a) {
              b.onNext(a);
            }, function(a) {
              b.onError(a);
            }, function() {
              f.remove(e), c = !1, d && 1 === f.length && b.onCompleted();
            }));
          }
        }, function(a) {
          b.onError(a);
        }, function() {
          d = !0, !c && 1 === f.length && b.onCompleted();
        })), f;
      }, this);
    }, sc.flatMapFirst = sc.selectManyFirst = function(a, b, c) {
      return new Ac(this, a, b, c).switchFirst();
    }, Ja.Observable.prototype.flatMapWithMaxConcurrent = function(a, b, c, d) {
      return new Ac(this, b, c, d).merge(a);
    }, sc.transduce = function(a) {
      function b(a) {
        return {
          "@@transducer/init": function() {
            return a;
          },
          "@@transducer/step": function(a, b) {
            return a.onNext(b);
          },
          "@@transducer/result": function(a) {
            return a.onCompleted();
          }
        };
      }
      var c = this;
      return new Xd(function(e) {
        var f = a(b(e));
        return c.subscribe(function(a) {
          var b = d(f["@@transducer/step"]).call(f, e, a);
          b === Sa && e.onError(b.e);
        }, function(a) {
          e.onError(a);
        }, function() {
          f["@@transducer/result"](e);
        });
      }, c);
    };
    Ja.VirtualTimeScheduler = function(a) {
      function b() {
        return this.toDateTimeOffset(this.clock);
      }
      function c(a, b) {
        return this.scheduleAbsoluteWithState(a, this.clock, b);
      }
      function d(a, b, c) {
        return this.scheduleRelativeWithState(a, this.toRelative(b), c);
      }
      function e(a, b, c) {
        return this.scheduleRelativeWithState(a, this.toRelative(b - this.now()), c);
      }
      function f(a, b) {
        return b(), Ub;
      }
      function g(f, g) {
        this.clock = f, this.comparer = g, this.isEnabled = !1, this.queue = new Ob(1024), a.call(this, b, c, d, e);
      }
      Jb(g, a);
      var h = g.prototype;
      return h.add = bb, h.toDateTimeOffset = bb, h.toRelative = bb, h.schedulePeriodicWithState = function(a, b, c) {
        var d = new ec(this, a, b, c);
        return d.start();
      }, h.scheduleRelativeWithState = function(a, b, c) {
        var d = this.add(this.clock, b);
        return this.scheduleAbsoluteWithState(a, d, c);
      }, h.scheduleRelative = function(a, b) {
        return this.scheduleRelativeWithState(b, a, f);
      }, h.start = function() {
        if (!this.isEnabled) {
          this.isEnabled = !0;
          do {
            var a = this.getNext();
            null !== a ? (this.comparer(a.dueTime, this.clock) > 0 && (this.clock = a.dueTime), a.invoke()) : this.isEnabled = !1;
          } while (this.isEnabled);
        }
      }, h.stop = function() {
        this.isEnabled = !1;
      }, h.advanceTo = function(a) {
        var b = this.comparer(this.clock, a);
        if (this.comparer(this.clock, a) > 0)
          throw new $a;
        if (0 !== b && !this.isEnabled) {
          this.isEnabled = !0;
          do {
            var c = this.getNext();
            null !== c && this.comparer(c.dueTime, a) <= 0 ? (this.comparer(c.dueTime, this.clock) > 0 && (this.clock = c.dueTime), c.invoke()) : this.isEnabled = !1;
          } while (this.isEnabled);
          this.clock = a;
        }
      }, h.advanceBy = function(a) {
        var b = this.add(this.clock, a),
            c = this.comparer(this.clock, b);
        if (c > 0)
          throw new $a;
        0 !== c && this.advanceTo(b);
      }, h.sleep = function(a) {
        var b = this.add(this.clock, a);
        if (this.comparer(this.clock, b) >= 0)
          throw new $a;
        this.clock = b;
      }, h.getNext = function() {
        for (; this.queue.length > 0; ) {
          var a = this.queue.peek();
          if (!a.isCancelled())
            return a;
          this.queue.dequeue();
        }
        return null;
      }, h.scheduleAbsolute = function(a, b) {
        return this.scheduleAbsoluteWithState(b, a, f);
      }, h.scheduleAbsoluteWithState = function(a, b, c) {
        function d(a, b) {
          return e.queue.remove(f), c(a, b);
        }
        var e = this,
            f = new $b(this, a, d, b, this.comparer);
        return this.queue.enqueue(f), f.disposable;
      }, g;
    }(_b);
    Ja.HistoricalScheduler = function(a) {
      function b(b, c) {
        var d = null == b ? 0 : b,
            e = c || Oa;
        a.call(this, d, e);
      }
      Jb(b, a);
      var c = b.prototype;
      return c.add = function(a, b) {
        return a + b;
      }, c.toDateTimeOffset = function(a) {
        return new Date(a).getTime();
      }, c.toRelative = function(a) {
        return a;
      }, b;
    }(Ja.VirtualTimeScheduler);
    var Xd = Ja.AnonymousObservable = function(a) {
      function b(a) {
        return a && Ra(a.dispose) ? a : Ra(a) ? Tb(a) : Ub;
      }
      function c(a, c) {
        var f = c[0],
            g = c[1],
            h = d(g.__subscribe).call(g, f);
        return h !== Sa || f.fail(Sa.e) ? void f.setDisposable(b(h)) : e(Sa.e);
      }
      function f(a) {
        var b = new Yd(a),
            d = [b, this];
        return gc.scheduleRequired() ? gc.scheduleWithState(d, c) : c(null, d), b;
      }
      function g(b, c) {
        this.source = c, this.__subscribe = b, a.call(this, f);
      }
      return Jb(g, a), g;
    }(yc),
        Yd = function(a) {
          function b(b) {
            a.call(this), this.observer = b, this.m = new Xb;
          }
          Jb(b, a);
          var c = b.prototype;
          return c.next = function(a) {
            var b = d(this.observer.onNext).call(this.observer, a);
            b === Sa && (this.dispose(), e(b.e));
          }, c.error = function(a) {
            var b = d(this.observer.onError).call(this.observer, a);
            this.dispose(), b === Sa && e(b.e);
          }, c.completed = function() {
            var a = d(this.observer.onCompleted).call(this.observer);
            this.dispose(), a === Sa && e(a.e);
          }, c.setDisposable = function(a) {
            this.m.setDisposable(a);
          }, c.getDisposable = function() {
            return this.m.getDisposable();
          }, c.dispose = function() {
            a.prototype.dispose.call(this), this.m.dispose();
          }, b;
        }(tc),
        Zd = function(a) {
          function b(a) {
            return this.underlyingObservable.subscribe(a);
          }
          function c(c, d, e) {
            a.call(this, b), this.key = c, this.underlyingObservable = e ? new Xd(function(a) {
              return new Qb(e.getDisposable(), d.subscribe(a));
            }) : d;
          }
          return Jb(c, a), c;
        }(yc),
        $d = Ja.Subject = function(a) {
          function c(a) {
            return Wb(this), this.isStopped ? this.hasError ? (a.onError(this.error), Ub) : (a.onCompleted(), Ub) : (this.observers.push(a), new Nd(this, a));
          }
          function d() {
            a.call(this, c), this.isDisposed = !1, this.isStopped = !1, this.observers = [], this.hasError = !1;
          }
          return Jb(d, a), Kb(d.prototype, qc.prototype, {
            hasObservers: function() {
              return this.observers.length > 0;
            },
            onCompleted: function() {
              if (Wb(this), !this.isStopped) {
                this.isStopped = !0;
                for (var a = 0,
                    c = b(this.observers),
                    d = c.length; d > a; a++)
                  c[a].onCompleted();
                this.observers.length = 0;
              }
            },
            onError: function(a) {
              if (Wb(this), !this.isStopped) {
                this.isStopped = !0, this.error = a, this.hasError = !0;
                for (var c = 0,
                    d = b(this.observers),
                    e = d.length; e > c; c++)
                  d[c].onError(a);
                this.observers.length = 0;
              }
            },
            onNext: function(a) {
              if (Wb(this), !this.isStopped)
                for (var c = 0,
                    d = b(this.observers),
                    e = d.length; e > c; c++)
                  d[c].onNext(a);
            },
            dispose: function() {
              this.isDisposed = !0, this.observers = null;
            }
          }), d.create = function(a, b) {
            return new ae(a, b);
          }, d;
        }(yc),
        _d = Ja.AsyncSubject = function(a) {
          function c(a) {
            return Wb(this), this.isStopped ? (this.hasError ? a.onError(this.error) : this.hasValue ? (a.onNext(this.value), a.onCompleted()) : a.onCompleted(), Ub) : (this.observers.push(a), new Nd(this, a));
          }
          function d() {
            a.call(this, c), this.isDisposed = !1, this.isStopped = !1, this.hasValue = !1, this.observers = [], this.hasError = !1;
          }
          return Jb(d, a), Kb(d.prototype, qc, {
            hasObservers: function() {
              return Wb(this), this.observers.length > 0;
            },
            onCompleted: function() {
              var a,
                  c;
              if (Wb(this), !this.isStopped) {
                this.isStopped = !0;
                var d = b(this.observers),
                    c = d.length;
                if (this.hasValue)
                  for (a = 0; c > a; a++) {
                    var e = d[a];
                    e.onNext(this.value), e.onCompleted();
                  }
                else
                  for (a = 0; c > a; a++)
                    d[a].onCompleted();
                this.observers.length = 0;
              }
            },
            onError: function(a) {
              if (Wb(this), !this.isStopped) {
                this.isStopped = !0, this.hasError = !0, this.error = a;
                for (var c = 0,
                    d = b(this.observers),
                    e = d.length; e > c; c++)
                  d[c].onError(a);
                this.observers.length = 0;
              }
            },
            onNext: function(a) {
              Wb(this), this.isStopped || (this.value = a, this.hasValue = !0);
            },
            dispose: function() {
              this.isDisposed = !0, this.observers = null, this.exception = null, this.value = null;
            }
          }), d;
        }(yc),
        ae = Ja.AnonymousSubject = function(a) {
          function b(a) {
            return this.observable.subscribe(a);
          }
          function c(c, d) {
            this.observer = c, this.observable = d, a.call(this, b);
          }
          return Jb(c, a), Kb(c.prototype, qc.prototype, {
            onCompleted: function() {
              this.observer.onCompleted();
            },
            onError: function(a) {
              this.observer.onError(a);
            },
            onNext: function(a) {
              this.observer.onNext(a);
            }
          }), c;
        }(yc);
    Ja.Pauser = function(a) {
      function b() {
        a.call(this);
      }
      return Jb(b, a), b.prototype.pause = function() {
        this.onNext(!1);
      }, b.prototype.resume = function() {
        this.onNext(!0);
      }, b;
    }($d), "function" == typeof define && "object" == typeof define.amd && define.amd ? (Ia.Rx = Ja, define(function() {
      return Ja;
    })) : Ca && Fa ? Ga ? (Fa.exports = Ja).Rx = Ja : Ca.Rx = Ja : Ia.Rx = Ja;
    var be = j();
  }).call(this);
})(require("process"));
